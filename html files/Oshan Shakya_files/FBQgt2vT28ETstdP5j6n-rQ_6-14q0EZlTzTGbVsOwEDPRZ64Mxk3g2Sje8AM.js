if (self.CavalryLogger) { CavalryLogger.start_js(["WinOKKV"]); }

__d("StoriesCreateCTALink.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesCreateCTALink",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"StoriesCreateCTAUtils_pageAddressAndLocation",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null}]},{kind:"InlineDataFragmentSpread",name:"StoriesCreateCTAUtils_pagePhoneNumber",selections:[{alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"websites",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_additional_profile_plus",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("StoriesCreateCTAUtils_pageAddressAndLocation.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"StoriesCreateCTAUtils_pageAddressAndLocation"};e.exports=a}),null);
__d("StoriesCreateCTAUtils_pagePhoneNumber.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"StoriesCreateCTAUtils_pagePhoneNumber"};e.exports=a}),null);
__d("StoriesCreateTextOverlaysRootQuery$Parameters",["StoriesCreateTextOverlaysRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("StoriesCreateTextOverlaysRootQuery_facebookRelayOperation"),metadata:{},name:"StoriesCreateTextOverlaysRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("StoriesCTATypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BOOK_NOW:"BOOK_NOW",CALL_NOW:"CALL_NOW",GET_DIRECTIONS:"GET_DIRECTIONS",LEARN_MORE:"LEARN_MORE",SEE_EVENT:"SEE_EVENT",SEE_JOB:"SEE_JOB",SEE_MORE:"SEE_MORE",SEE_OFFER:"SEE_OFFER",SHOP_NOW:"SHOP_NOW"});f["default"]=a}),66);
__d("StoriesCTAButtonLabels",["fbt","StoriesCTATypeEnum"],(function(a,b,c,d,e,f,g,h){"use strict";b=Object.freeze((a={},a[c("StoriesCTATypeEnum").BOOK_NOW]=h._(/*FBT_CALL*/"Book Now"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").CALL_NOW]=h._(/*FBT_CALL*/"Call Now"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").GET_DIRECTIONS]=h._(/*FBT_CALL*/"Get Directions"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").LEARN_MORE]=h._(/*FBT_CALL*/"Learn More"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").SEE_EVENT]=h._(/*FBT_CALL*/"See Event"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").SEE_JOB]=h._(/*FBT_CALL*/"See Job"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").SEE_MORE]=h._(/*FBT_CALL*/"See More"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").SEE_OFFER]=h._(/*FBT_CALL*/"See Offer"/*FBT_CALL*/),a[c("StoriesCTATypeEnum").SHOP_NOW]=h._(/*FBT_CALL*/"Shop Now"/*FBT_CALL*/),a));g["default"]=b}),98);
__d("StoriesCreateCTALinkPicker.react",["fbt","ix","CometFormSelect.react","CometFormTextInput.react","StoriesCTAButtonLabels","StoriesCTATypeEnum","TetraButton.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useState,m=[c("StoriesCTATypeEnum").SEE_MORE,c("StoriesCTATypeEnum").LEARN_MORE,c("StoriesCTATypeEnum").SHOP_NOW,c("StoriesCTATypeEnum").BOOK_NOW,c("StoriesCTATypeEnum").CALL_NOW,c("StoriesCTATypeEnum").GET_DIRECTIONS],n=Object.freeze((e={},e[c("StoriesCTATypeEnum").CALL_NOW]=h._(/*FBT_CALL*/"Page must include phone number"/*FBT_CALL*/),e[c("StoriesCTATypeEnum").GET_DIRECTIONS]=h._(/*FBT_CALL*/"Page must include address"/*FBT_CALL*/),e)),o=function(a,b,d){switch(a){case c("StoriesCTATypeEnum").BOOK_NOW:case c("StoriesCTATypeEnum").LEARN_MORE:case c("StoriesCTATypeEnum").SEE_MORE:case c("StoriesCTATypeEnum").SHOP_NOW:return b!==""?b:d.websiteLink;case c("StoriesCTATypeEnum").CALL_NOW:return d.phoneNumberLink;case c("StoriesCTATypeEnum").GET_DIRECTIONS:return d.addressLink;default:return null}};function a(a){var b=a.linkInputError,e=a.onChange,f=a.onDelete,g=a.pageLinks;a=l(c("StoriesCTATypeEnum").SEE_MORE);var p=a[0];a=a[1];var q=l(""),r=q[0];q=q[1];var s=l([]),t=s[0],u=s[1];k(function(){var a=m.map(function(a){var b=!1;switch(a){case c("StoriesCTATypeEnum").CALL_NOW:b=g.phoneNumberLink==null;break;case c("StoriesCTATypeEnum").GET_DIRECTIONS:b=g.addressLink==null;break;default:break}return{bodyColor:"secondary",bodyText:b?n[a]:void 0,disabled:b,label:c("StoriesCTAButtonLabels")[a],value:a}});u(a)},[g]);k(function(){var a;e({ctaType:p,link:(a=o(p,r,g))!=null?a:""})},[p,r,e,g]);s=p!==c("StoriesCTATypeEnum").CALL_NOW&&p!==c("StoriesCTATypeEnum").GET_DIRECTIONS;return j.jsxs("div",{className:"ihqw7lf3 discj3wi dati1w0a hv4rvrfc n1l5q3vz l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 qsy8amke",children:[j.jsx(c("TetraText.react"),{type:"bodyLink2",children:h._(/*FBT_CALL*/"Add Button"/*FBT_CALL*/)}),j.jsx("div",{className:"n1l5q3vz sjgh65i0",children:j.jsx(c("CometFormSelect.react"),{label:h._(/*FBT_CALL*/"Select Button"/*FBT_CALL*/),onValueChange:a,options:t,size:"full",value:p})}),s&&j.jsx("div",{className:"sjgh65i0",children:j.jsx(c("CometFormTextInput.react"),{icon:d("fbicon")._(i("481761"),20),label:h._(/*FBT_CALL*/"Enter link"/*FBT_CALL*/),onValueChange:q,validationState:b?"ERROR":void 0,value:r})}),j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("483825"),16),label:h._(/*FBT_CALL*/"Remove Button"/*FBT_CALL*/),onPress:f,type:"secondary"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateCTALinkReducer",[],(function(a,b,c,d,e,f){"use strict";var g={ctaType:null,link:null,linkInputError:!1};function a(a,b){var c=a.ctaLinkData;c==null&&(c=babelHelpers["extends"]({},g));switch(b.type){case"CTA_LINK_UPDATE":return babelHelpers["extends"]({},a,{ctaLinkData:babelHelpers["extends"]({},c,b.data)});case"CTA_LINK_DELETE":return babelHelpers["extends"]({},a,{ctaLinkData:babelHelpers["extends"]({},g)});case"CTA_UPDATE_LINK_INPUT_ERROR":return babelHelpers["extends"]({},a,{ctaLinkData:babelHelpers["extends"]({},c,{linkInputError:b.error})})}return a}f["default"]=a}),66);
__d("StoriesCreateCTAUtils",["CometRelay","StoriesCreateCTAUtils_pageAddressAndLocation.graphql","StoriesCreateCTAUtils_pagePhoneNumber.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("StoriesCreateCTAUtils_pagePhoneNumber.graphql"),a);a=a==null?void 0:(a=a.all_phones[0])==null?void 0:(a=a.phone_number)==null?void 0:a.universal_number;return a!=null?"tel:"+a:null}function c(a){var c,e;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("StoriesCreateCTAUtils_pageAddressAndLocation.graphql"),a);c=a==null?void 0:(c=a.address)==null?void 0:c.single_line_full_address;var f=null,g="fbgeo://";e=a==null?void 0:(e=a.location)==null?void 0:e.latitude;a=a==null?void 0:(a=a.location)==null?void 0:a.longitude;e!=null&&a!=null&&(f=""+g+e+","+a);c!=null&&(f=f==null?g+'"'+c+'"':f+',"'+c+'"');return f}g.getURLFromPhoneNumber=a;g.getURLFromAddress=c}),98);
__d("StoriesCreateFormAddDataButton",["CometPressable.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{alignItems:"bp9cbjyn",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"e5d9fub0",justifyContent:"jifvfom9",marginTop:"aov4n071",width:"k4urcfbm"},icon:{alignItems:"bp9cbjyn",backgroundColor:"b3i9ofy5",borderTopStartRadius:"br7hx15l",borderTopEndRadius:"h2jyy9rg",borderBottomEndRadius:"n3ddgdk9",borderBottomStartRadius:"owxd89k7",display:"j83agx80",height:"qypqp5cg",justifyContent:"taijpn5t",marginStart:"h676nmdw",position:"l9j0dhe7",width:"q676j6op"},label:{marginStart:"ozuftl9m",position:"l9j0dhe7"}};function a(a){var b=a.icon,d=a.label,e=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","label","onPress"]);return h.jsxs(c("CometPressable.react"),babelHelpers["extends"]({onPress:e,xstyle:i.button},a,{children:[h.jsx("div",{className:c("stylex")(i.icon),children:b}),h.jsx("div",{className:c("stylex")(i.label),children:h.jsx(c("TetraText.react"),{type:"bodyLink2",children:d})})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateCTALink.react",["fbt","ix","CometRelay","StoriesCreateCTALink.graphql","StoriesCreateCTALinkPicker.react","StoriesCreateCTALinkReducer","StoriesCreateCTAUtils","StoriesCreateFormAddDataButton","StoriesCreateViewStateDispatcherContext","TetraIcon.react","fbicon","react","useCometConfirmationDialog","useStoriesCreateReducer","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useState,p=j!==void 0?j:j=b("StoriesCreateCTALink.graphql");function a(a){var b=a.ctaData;a=a.dataRef;var e=o(!1),f=e[0],g=e[1];e=o({addressLink:null,phoneNumberLink:null,websiteLink:null});var j=e[0],q=e[1];e=c("useCometConfirmationDialog")();var r=e[0];c("useStoriesCreateReducer")(c("StoriesCreateCTALinkReducer"));var s=m(c("StoriesCreateViewStateDispatcherContext"));e=d("CometRelay").useFragment(p,a);var t=e==null?void 0:(a=e.viewer)==null?void 0:a.actor;e=(t==null?void 0:t.__typename)==="User"&&(t==null?void 0:t.is_additional_profile_plus)||!1;n(function(){if((t==null?void 0:t.__typename)==="Page"){var a;q({addressLink:d("StoriesCreateCTAUtils").getURLFromAddress(t),phoneNumberLink:d("StoriesCreateCTAUtils").getURLFromPhoneNumber(t),websiteLink:(a=t==null?void 0:t.websites[0])!=null?a:null})}},[t]);a=l(function(a){s({data:{ctaType:a.ctaType,link:a.link,linkInputError:!1},type:"CTA_LINK_UPDATE"})},[s]);if((t==null?void 0:t.__typename)!=="Page"&&!e)return null;e=function(){r({body:h._(/*FBT_CALL*/"Are you sure you want to delete the button?"/*FBT_CALL*/),confirm:h._(/*FBT_CALL*/"Yes"/*FBT_CALL*/),title:h._(/*FBT_CALL*/"Delete Button"/*FBT_CALL*/)},function(){s({type:"CTA_LINK_DELETE"}),g(!1)})};return f?k.jsx(c("StoriesCreateCTALinkPicker.react"),{linkInputError:b.linkInputError,onChange:a,onDelete:e,pageLinks:j}):k.jsx(c("StoriesCreateFormAddDataButton"),{icon:k.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(i("481759"),16)}),label:h._(/*FBT_CALL*/"Add Button"/*FBT_CALL*/),onPress:function(){g(!0)}})}a.displayName=a.name+" [from "+f.id+"]";e=c("withStoriesCreateViewStatePart")(a,function(a){return{ctaData:a.ctaLinkData}});g["default"]=e}),98);
__d("StoriesCreatePhotoReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.photoData;c==null&&(c={bounds:{height:0,width:0,x:0,y:0},displayedURI:null,offset:{dx:0,dy:0},rotation:0,scale:0,uploadingInfo:null});switch(b.type){case"photo_update_bounds":return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{bounds:b.bounds})});case"photo_update_offset":return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{offset:{dx:b.dx,dy:b.dy}})});case"photo_update_rotation":return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{rotation:b.value})});case"photo_update_scale":return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{scale:b.value})});case"photo_update_uri":return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{displayedURI:b.value})});case"photo_update_upload_id":var d=b.photoDescriptorID,e=b.uploadID;return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{uploadingInfo:{photoDescriptorID:d,uploadID:e}})});case"photo_update_ent_id":d=c.uploadingInfo==null?null:c.uploadingInfo;if(d!=null)return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{uploadingInfo:babelHelpers["extends"]({},d,{entID:b.entID})})});break;case"photo_clear_uploading":return babelHelpers["extends"]({},a,{photoData:babelHelpers["extends"]({},c,{uploadingInfo:null})})}return a}f["default"]=a}),66);
__d("StoriesCreateTextOverlaysReducer",["uuid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d,e,f,g;d=(d=a.textOverlays)==null?void 0:d.alignment;e=(e=a.textOverlays)==null?void 0:e.editingID;f=(f=(f=a.textOverlays)==null?void 0:f.addTextEnabled)!=null?f:!1;g=((g=a.textOverlays)==null?void 0:g.overlays)||[];switch(b.type){case"text_overlay_create_new":var h=g||[];h=h.slice();var i=c("uuid")();!f&&h.length!==0&&h.pop();h.push({id:i,text:void 0});return babelHelpers["extends"]({},a,{textOverlays:{addTextEnabled:f,alignment:d,editingID:i,overlays:h}});case"text_overlay_set_editing":return babelHelpers["extends"]({},a,{textOverlays:{addTextEnabled:f,alignment:d,editingID:b.id,overlays:g}});case"text_overlay_update_text":i=g||[];var j=i.find(function(a){return a.id===b.id});j!=null&&(j.text=b.text);i=i.filter(function(a){return(j==null?void 0:j.id)!==a.id||a.text!=null&&a.text.trim().length>0});return babelHelpers["extends"]({},a,{textOverlays:{addTextEnabled:f,alignment:d,editingID:e===(j==null?void 0:j.id)?null:e,overlays:i}});case"text_overlay_delete_text":h=g||[];h=h.filter(function(a){return a.id!==b.id});return babelHelpers["extends"]({},a,{textOverlays:{addTextEnabled:f,alignment:d,editingID:e,overlays:h}});case"text_overlay_set_rotating":return babelHelpers["extends"]({},a,{isObjectRotating:b.isRotating});case"text_overlay_set_alignment":return babelHelpers["extends"]({},a,{textOverlays:{addTextEnabled:f,alignment:b.alignment,editingID:e,overlays:g}});case"text_overlay_set_add_text_enabled":return babelHelpers["extends"]({},a,{textOverlays:{addTextEnabled:b.addTextEnabled,alignment:d,editingID:e,overlays:g}})}return a}g["default"]=a}),98);
__d("StoriesCreateFormPhoto.react",["fbt","ix","QPLUserFlow","StoriesCreateCTALink.react","StoriesCreateFormAddDataButton","StoriesCreatePhotoReducer","StoriesCreateTextOverlaysReducer","StoriesCreateViewStateDispatcherContext","TetraIcon.react","cr:1592551","fbicon","qpl","react","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){a=a.dataRef;c("useStoriesCreateReducer")(c("StoriesCreatePhotoReducer"));return j.jsxs("div",{children:[j.jsx(l,{}),b("cr:1592551")!=null&&j.jsx(b("cr:1592551"),{}),j.jsx(c("StoriesCreateCTALink.react"),{dataRef:a})]})}a.displayName=a.name+" [from "+f.id+"]";function l(){c("useStoriesCreateReducer")(c("StoriesCreateTextOverlaysReducer"));var a=k(c("StoriesCreateViewStateDispatcherContext")),b=function(){window.requestAnimationFrame(function(){a({type:"text_overlay_create_new"})}),c("QPLUserFlow").addPoint(c("qpl")._(13250512,"1219"),"Add text button pressed")};return j.jsx(c("StoriesCreateFormAddDataButton"),{icon:j.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(i("486061"),16)}),label:h._(/*FBT_CALL*/"Add Text"/*FBT_CALL*/),onPress:b})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateBlurredBgReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"blurredBg_update_bg":return babelHelpers["extends"]({},a,{blurredBg:{bottomColor:b.bottomColor,topColor:b.topColor}})}return a}f["default"]=a}),66);
__d("useStoriesDominantColorPicker",["cr:675"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:675")}),98);
__d("StoriesCreateDominantColorBg.react",["StoriesCreateBlurredBgReducer","StoriesCreateViewStateDispatcherContext","StoriesEnums","StoriesGradientBackground.react","react","useStoriesCreateReducer","useStoriesDominantColorPicker","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={blue:0,clusterSize:0,green:0,red:0};function a(a){var b=a.displayedURI,e=a.frameWidth;a=a.rounded;c("useStoriesCreateReducer")(c("StoriesCreateBlurredBgReducer"));var f=i(c("StoriesCreateViewStateDispatcherContext")),g=c("useStoriesDominantColorPicker")({imageURL:b});if(b==null)return h.jsx("div",{className:"k4urcfbm pmk7jnqg stjgntxs ni8dbmo4 datstx6m"+(a?" l82x9zwi uo3d90p7 pw54ja7n ue3kfks5":""),style:{width:e},children:h.jsx(c("StoriesGradientBackground.react"),{direction:d("StoriesEnums").GRADIENT_DIRECTION.TOP_BOTTOM,from:"rgb("+j.red+", "+j.green+","+j.blue,to:"rgb("+j.red+", "+j.green+","+j.blue})});f({bottomColor:g.bottomColor,topColor:g.topColor,type:"blurredBg_update_bg"});return h.jsx("div",{className:"k4urcfbm pmk7jnqg stjgntxs ni8dbmo4 datstx6m",style:{width:e},children:h.jsx(c("StoriesGradientBackground.react"),{direction:d("StoriesEnums").GRADIENT_DIRECTION.TOP_BOTTOM,from:g.topColor,to:g.bottomColor})})}a.displayName=a.name+" [from "+f.id+"]";b=c("withStoriesCreateViewStatePart")(a,function(a){return{displayedURI:(a=a.photoData)==null?void 0:a.displayedURI}});g["default"]=b}),98);
__d("StoriesCreatePreviewCTA.react",["StoriesCTAButton.react","StoriesCTAButtonLabels","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.ctaType;return a==null?null:h.jsxs("div",{className:"k4urcfbm pmk7jnqg ofv0k9yr taijpn5t j83agx80 i09qtzwb",children:[h.jsx("div",{className:"hc5seken j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb dc0msv1s"}),h.jsx(c("StoriesCTAButton.react"),{title:c("StoriesCTAButtonLabels")[a]},a)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("storiesDominantColorPicker",[],(function(a,b,c,d,e,f){"use strict";var g=8;function h(){return{blue:0,clusterSize:0,green:0,red:0}}function i(a,b,c,d){return(a.red-b)*(a.red-b)+(a.green-c)*(a.green-c)+(a.blue-d)*(a.blue-d)}function j(){var a=0,b=255/4,c=new Array(g);for(var d=0;d<2;d++)for(var e=0;e<2;e++)for(var f=0;f<2;f++){var h={blue:b*f+b/2,clusterSize:0,green:b*e+b/2,red:b*d+b/2};c[a]=h;a++}return c}function k(a,b,c){var d=!1,e=a.length/4;for(var f=0,j=0;f<e;f++,j+=4){var k=a[j],l=a[j+1],m=a[j+2],n=h(),o=Infinity,p=0;for(var q=0;q<g;q++){var r=i(b[q],k,l,m);r<o&&(o=r,p=q,n=b[q])}n.clusterSize++;c[f]!==p&&(c[f]=p,d=!0)}return d}function l(a,b,c){var d=new Array(g),e=new Array(g),f=new Array(g);d.fill(0);e.fill(0);f.fill(0);var h=a.length/4;for(var i=0,j=0;i<h;i++,j+=4){var k=a[j],l=a[j+1],m=a[j+2],n=c[i];d[n]+=k;e[n]+=l;f[n]+=m}for(var k=0;k<g;k++){l=b[k];l.clusterSize>0&&(l.red=d[k]/l.clusterSize,l.green=e[k]/l.clusterSize,l.blue=f[k]/l.clusterSize,l.clusterSize=0)}}function a(a){var b=a.length,c=j();b=new Array(b);b.fill(-1);while(k(a,c,b))l(a,c,b);return c.sort(function(a,b){return b.clusterSize-a.clusterSize})}f["default"]=a}),66);
__d("useStoriesDominantColorPicker.modern",["react","recoverableViolation","storiesDominantColorPicker"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=100;function a(a){var b=a.defaultBottomColor,d=a.defaultTopColor,e=a.imageURL;a=i({bottomColor:b?k(b):"",topColor:d?k(d):""});b=a[0];var f=a[1];h(function(){if(e==null)return;var a=new Image();a.crossOrigin="Anonymous";a.onload=function(){var b=document.createElement("canvas"),d=a.width,e=a.height,g=d/e,h=Math.min(Math.max(d,e),j);(d>h||e>h)&&(d>e?(d=h,e=d/g):(e=h,d=e*g));b.width=d;b.height=e;h=b.getContext("2d");h.drawImage(a,0,0,d,e);try{g=h.getImageData(0,0,d,Math.max(1,e*.05));b=h.getImageData(0,e-e*.05,d,Math.max(1,e*.05));h=c("storiesDominantColorPicker")(g.data);d=c("storiesDominantColorPicker")(b.data);f({bottomColor:k(d[0]),topColor:k(h[0])})}catch(a){c("recoverableViolation")("Stories Create Dominant Color Bg throws exception","fb_stories_web",a)}};a.src=e;return function(){a.onload=null}},[e]);return b}function k(a){return"rgb(\n    "+Math.round(a.red)+",\n    "+Math.round(a.green)+",\n    "+Math.round(a.blue)+")"}g["default"]=a}),98);
__d("StoriesCreateTextOverlaysRoot.entrypoint",["JSResourceForInteraction","StoriesCreateTextOverlaysRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{rootQueryReference:{parameters:b("StoriesCreateTextOverlaysRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("StoriesCreateTextOverlaysRoot.react").__setRef("StoriesCreateTextOverlaysRoot.entrypoint")};g["default"]=a}),98);
__d("StoriesCreateTextOverlayEntrypointContainer.react",["CometPlaceholder.react","StoriesCreateTextOverlaysRoot.entrypoint","react","react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={};function a(a){a=a.textOverlays;var b=c("useCometRelayEntrypointContextualEnvironmentProvider")();a=a!=null&&a.overlays.length>0;if(a!==!0)return null;return a?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"),{entryPoint:c("StoriesCreateTextOverlaysRoot.entrypoint"),entryPointParams:i,environmentProvider:b,props:i})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreatePhotoRotateButton.react",["fbt","ix","StoriesCreateViewStateDispatcherContext","TetraButton.react","fbicon","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b=a.rotation,e=k(c("StoriesCreateViewStateDispatcherContext"));return j.jsx("div",{className:"h676nmdw",children:j.jsx(c("TetraButton.react"),{"aria-label":b>0?h._(/*FBT_CALL*/{"*":"Rotated {number} degrees clockwise","_1":"Rotated degree clockwise"}/*FBT_CALL*/,[h._plural(b,"number")]):void 0,icon:d("fbicon")._(i("1295657"),16),label:h._(/*FBT_CALL*/"Rotate"/*FBT_CALL*/),onPress:function(){e({type:"photo_update_rotation",value:(b+90)%360})},type:"secondary"})})}a.displayName=a.name+" [from "+f.id+"]";b=c("withStoriesCreateViewStatePart")(a,function(a){return{rotation:(a=(a=a.photoData)==null?void 0:a.rotation)!=null?a:0}});g["default"]=b}),98);
__d("StoriesCreatePhotoFooterControls.react",["fbt","ix","CometPressable.react","CometSlider.react","StoriesCreatePhotoRotateButton.react","StoriesCreateViewStateDispatcherContext","TetraIcon.react","fbicon","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useContext,l=b.useRef;function a(a){var b=a.frameWidth,e=a.maxScale,f=a.minScale,g=a.scale,m=k(c("StoriesCreateViewStateDispatcherContext"));a=d("fbicon")._(i("531490"),16);var n=d("fbicon")._(i("483768"),16);b=Math.floor(.8*b);var o=l(null),p=function(a){m({type:"photo_update_scale",value:a})},q=function(a){p(Math.min(Math.max(a,f),e))},r=function(a){window.clearInterval(o.current);var b=g+a;o.current=window.setInterval(function(){b+=a,q(b)},150)},s=function(a){window.clearInterval(o.current);a=g+a;q(a)};return j.jsxs("div",{className:"j83agx80 bp9cbjyn",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(c("CometPressable.react"),{"aria-label":h._(/*FBT_CALL*/"scale image down"/*FBT_CALL*/),disabled:g===f,onPress:function(){s(-.1)},onPressIn:function(){r(-.1)},onPressOut:function(){window.clearInterval(o.current)},children:j.jsx(c("TetraIcon.react"),{color:"white",icon:a})})}),j.jsx("div",{className:"k4urcfbm",style:{width:b+"px"},children:j.jsx(c("CometSlider.react"),{label:h._(/*FBT_CALL*/"Zoom"/*FBT_CALL*/),max:e,min:f,onChange:function(a){p(a)},step:.01,value:g})}),j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(c("CometPressable.react"),{"aria-label":h._(/*FBT_CALL*/"scale image up"/*FBT_CALL*/),disabled:g===e,onPress:function(){s(.1)},onPressIn:function(){r(.1)},onPressOut:function(){window.clearInterval(o.current)},children:j.jsx(c("TetraIcon.react"),{color:"white",icon:n})})}),j.jsx(c("StoriesCreatePhotoRotateButton.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";e=c("withStoriesCreateViewStatePart")(a,function(a){return{scale:(a=(a=a.photoData)==null?void 0:a.scale)!=null?a:1}});g["default"]=e}),98);
__d("StoriesCreatePhotoFooterInstructions.react",["fbt","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"j83agx80 bp9cbjyn",children:i.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"body2",children:h._(/*FBT_CALL*/"Select photo to crop and rotate"/*FBT_CALL*/)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreatePhotoPreviewFallback.react",["CollageItemFallback.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.filename,d=a.frameWidth;a=a.percentComplete;return h.jsx("div",{className:"cj5g2342 kr520xx4 kfkz5moi pmk7jnqg i09qtzwb",style:{width:d+"px"},children:h.jsx(c("CollageItemFallback.react"),{fileType:"PHOTO",filename:b,percentComplete:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateUploadingOrUploadedPhotoItem.react",["BaseImage.react","StoriesCreatePhotoPreviewFallback.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a,b){var d=a.attachment,e=a.frameWidth,f=a.onError,g=a.onLoad;a=a.xstyle;var j=i(!1),k=j[0],l=j[1],m=d.fileObjectURL;if(!k&&m!=null)if(d.useCDNPreview)l(!0);else return h.jsx(c("BaseImage.react"),{draggable:!1,onError:function(){l(!0),f&&f(m)},onLoad:function(){g&&g(m)},ref:b,src:m,xstyle:a});if(k&&d.fileType==="PHOTO"&&d.state==="UPLOADED"){var n=d.uploadedImageURL;if(n!=null)return h.jsx(c("BaseImage.react"),{draggable:!1,onLoad:function(){g&&g(n)},ref:b,src:n,xstyle:a})}return h.jsx(c("StoriesCreatePhotoPreviewFallback.react"),{filename:d.file.name,frameWidth:e,percentComplete:d.state==="UPLOADING"?d.percentComplete:void 0})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("StoriesCreatePhotoPreviewItem.react",["StoriesCreatePhotoPreviewFallback.react","StoriesCreateUploadingOrUploadedPhotoItem.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=a.attachment,e=a.frameWidth,f=a.onError,g=a.onLoad;a=a.xstyle;switch(d.state){case"NEW":case"CLIENT_PROCESSING":case"CLIENT_PROCESSING_COMPLETE":return h.jsx(c("StoriesCreatePhotoPreviewFallback.react"),{filename:d.file.name,frameWidth:e});case"QUEUED":case"UPLOADING":case"UPLOADED":if(d.file!=null)return h.jsx(c("StoriesCreateUploadingOrUploadedPhotoItem.react"),{attachment:d,frameWidth:e,onError:f,onLoad:g,ref:b,xstyle:a});else return null;case"FAILED":return h.jsxs(h.Fragment,{children:[d.file.name,d.error!=null?h.jsxs(h.Fragment,{children:[h.jsx("br",{}),h.jsx(c("TetraText.react"),{color:"negative",type:"body4",children:d.error})]}):null]})}return null}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useStoriesCreatePhotoPreviewBounds",["StoriesCreateViewStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a,b,d){var e=h(c("StoriesCreateViewStateDispatcherContext"));i(function(){if(b==null||d==null)return;var c={x:0,y:0};a%180===0?(a===0?c={x:(b.left-d.left)/d.width,y:(b.top-d.top)/d.height}:a===180&&(c={x:(d.right-b.right)/d.width,y:(d.bottom-b.bottom)/d.height}),e({bounds:{height:b.height/d.height,width:b.width/d.width,x:c.x,y:c.y},type:"photo_update_bounds"})):(a===90?c={x:(b.top-d.top)/d.height,y:(d.right-b.right)/d.width}:a===270&&(c={x:(d.bottom-b.bottom)/d.height,y:(b.left-d.left)/d.width}),e({bounds:{height:b.width/d.width,width:b.height/d.height,x:c.x,y:c.y},type:"photo_update_bounds"}))},[e,b,d,a])}g["default"]=a}),98);
__d("useStoriesCreatePhotoPreviewInput",["react","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b,c,d,e){if(!b)return;b=a.target;b instanceof Node&&d instanceof Node&&c instanceof Node&&(!d.contains(b)&&!c.contains(b)&&e(!1))}function a(a,b,d,e){var f=h(function(c){i(c,a,e.current,d.current,b),c.preventDefault()},[d,e,a,b]),g=h(function(c){i(c,a,e.current,d.current,b),c.preventDefault()},[d,e,a,b]);c("useGlobalEventListener")("focus",f,{capture:!0});c("useGlobalEventListener")("click",g,{capture:!0})}g["default"]=a}),98);
__d("StoriesCreatePhotoPreview.react",["fbt","CometComponentWithKeyCommands.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","Locale","QPLUserFlow","StoriesCreateBackground.react","StoriesCreateConstants","StoriesCreateDominantColorBg.react","StoriesCreatePhotoFooterControls.react","StoriesCreatePhotoFooterInstructions.react","StoriesCreatePhotoPreviewFrame.react","StoriesCreatePhotoPreviewFrameContext","StoriesCreatePhotoPreviewItem.react","StoriesCreatePreviewCTA.react","StoriesCreateTextOverlayEntrypointContainer.react","StoriesCreateViewStateDispatcherContext","StoriesGating","lazyLoadComponent","qpl","react","stylex","useMergeRefs","useResizeObserver","useStoriesCreateObjectMove","useStoriesCreatePhotoFrame","useStoriesCreatePhotoPreviewBounds","useStoriesCreatePhotoPreviewInput","useThrottled","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,aa=b.useMemo,m=b.useRef,n=b.useState,o={border:{height:"datstx6m",paddingTop:"npl0935n",paddingEnd:"du70xcb2",paddingBottom:"esmgwfdi",paddingStart:"g17sfo2o",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"kfkz5moi",transform:"cj5g2342",width:"k4urcfbm"},borderRTL:{transform:"lcn5fozr"},footer:{backgroundColor:"tltl5a5h",bottom:"i09qtzwb",display:"j83agx80",justifyContent:"taijpn5t",position:"pmk7jnqg",width:"k4urcfbm",zIndex:"kc3q97z2"},image:{height:"datstx6m",position:"pmk7jnqg",start:"kfkz5moi",transform:"cj5g2342"},imageContainer:{height:"datstx6m",position:"pmk7jnqg",start:"kfkz5moi",top:"rk01pc8j"},imageRTL:{height:"datstx6m",position:"pmk7jnqg",start:"kfkz5moi",transform:"lcn5fozr"},mediaContainer:{alignItems:"bp9cbjyn",borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e",display:"j83agx80",justifyContent:"taijpn5t",position:"pmk7jnqg",width:"k4urcfbm"},mediaContainerClipped:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},mediaContainerOverlays:{position:"pmk7jnqg"},mediaContainerOverlaysIgnoreTouch:{pointerEvents:"hzruof5a"},overlay:{height:"datstx6m",position:"pmk7jnqg",width:"k4urcfbm"},pressable:{height:"datstx6m",position:"pmk7jnqg"},pressableContainer:{height:"datstx6m",position:"pmk7jnqg"},root:{alignItems:"bp9cbjyn",backgroundColor:"tltl5a5h",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",pointerEvents:"oqq733wu",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},rotationCursor:{cursor:"o6r2urh6"},textOverlayEditingMode:{backgroundColor:"d6rk862h",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}},ba=150;function a(a){var b=a.composerSessionID,e=a.ctaLinkData,f=a.displayedURI,g=a.isObjectRotating,p=a.mediaAttachment,q=a.overlayRef,r=a.rotation,s=a.scale,t=a.stickerData;a=a.textOverlays;var u=n(!1),v=u[0],w=u[1],x=m(null),y=m(null);u=n(null);var z=u[0],A=u[1];u=n(null);var B=u[0],C=u[1],D=m([]),E=m(null);u=m(null);var F=m(null),G=m(2),H=m(null),I=m(.2),J=null;d("StoriesGating").shouldEnableStickerProduction()&&(t==null?void 0:t.stickers.length)!==0&&(J=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesCreateStickersRoot.react").__setRef("StoriesCreatePhotoPreview.react")));t=j(function(a,b){A(b.getBoundingClientRect())},[]);t=c("useResizeObserver")(t);t=c("useMergeRefs")(x,t);var K=j(function(a,b){C(b.getBoundingClientRect())},[]),ca=aa(function(){return{overlayRect:B}},[B]);K=c("useResizeObserver")(K);K=c("useMergeRefs")(y,K);var da=f!=null,L=k(c("StoriesCreateViewStateDispatcherContext")),M=(a==null?void 0:a.editingID)!=null,N=d("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,O=d("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT,P=c("useStoriesCreatePhotoFrame")(),Q=P.border,R=P.frameWidth;P=j(function(){if(q==null||(q==null?void 0:q.current)==null)return;var a=q==null?void 0:q.current;a instanceof HTMLElement&&C(a.getBoundingClientRect())},[q]);var S=c("useThrottled")(P,100);l(function(){window.addEventListener("resize",S);return function(){window.removeEventListener("resize",S)}},[S]);l(function(){c("QPLUserFlow").addPoint(c("qpl")._(13250512,"1219"),"Image story preview")},[b]);c("useStoriesCreatePhotoPreviewInput")(v,w,u,F);P=c("useStoriesCreateObjectMove")(z,B,{bottom:10,left:10,right:10,top:10},!0);var T=P.dx,U=P.dy;b=P.keyCommands;var ea=P.onBlur,fa=P.onPressDown;l(function(){L({dx:T,dy:U,type:"photo_update_offset"})},[L,T,U]);var V=j(function(a){L({type:"photo_update_scale",value:a})},[L]);l(function(){var a;A((a=x.current)==null?void 0:a.getBoundingClientRect());C((a=y.current)==null?void 0:a.getBoundingClientRect())},[T,U,r,s]);c("useStoriesCreatePhotoPreviewBounds")(r,z,B);var W=d("Locale").isRTL();l(function(){var a=H.current;a!=null&&(W||(a.scrollLeft=0),a.scrollTop=0)},[v,W]);P=j(function(a){L({type:"photo_update_uri",value:null}),E.current=null,D.current.push(a)},[L]);z=j(function(a){if(D.current.includes(a))return;L({type:"photo_update_uri",value:a})},[L]);l(function(){var a=x.current;if(f==null||D.current.includes(f)||a==null||E.current!=null||R===0)return;a=a.getBoundingClientRect();a.width>a.height&&V(R/a.width);R/a.width<.2&&(I.current=R/a.width*.8,G.current=R/a.width*4);E.current=!0},[f,R,V]);if(p==null||p.fileType!=="PHOTO")return null;var ga=W?"50%":"-50%",X=!v,Y=X?"solid rgba(24,25,26, 1.0)":"solid rgba(24,25,26, 0.5)",Z={height:"calc(100% - "+(N+O)+"px",top:O+"px"},$=null;v?$=i.jsx(c("StoriesCreatePhotoFooterControls.react"),{frameWidth:R,maxScale:G.current,minScale:I.current}):f!=null&&!M&&($=i.jsx(c("StoriesCreatePhotoFooterInstructions.react"),{}));return i.jsx("div",{className:c("stylex")(o.root),children:i.jsxs(c("StoriesCreatePhotoPreviewFrameContext").Provider,{value:ca,children:[i.jsxs("div",{className:c("stylex")(o.mediaContainer,X&&o.mediaContainerClipped),ref:H,style:babelHelpers["extends"]({},Z,{width:X?R+"px":void 0}),children:[i.jsx(c("StoriesCreateBackground.react"),{}),i.jsx(c("StoriesCreateDominantColorBg.react"),{frameWidth:R,rounded:X}),i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:o.imageContainer,children:i.jsx("div",{className:c("stylex")(o.pressableContainer),onFocus:function(a){a.preventDefault(),a.target.focus({preventScroll:!0})},onMouseDown:function(a){a.preventDefault()},onWheel:function(a){v&&V(Math.min(Math.max(s-a.deltaY/ba,I.current),G.current))},style:{transform:"translate(calc("+ga+" + "+T+"px), calc(-50% + "+U+"px)) rotate("+r+"deg) scale("+s+")"},children:i.jsx(c("CometPressable.react"),{"aria-label":h._(/*FBT_CALL*/"Uploaded image drag handler"/*FBT_CALL*/),disabled:!da,onFocusIn:function(a){a.target.focus({preventScroll:!0}),w(!0)},onFocusOut:function(){ea()},onPressIn:function(a){w(!0),fa(a)},overlayDisabled:!0,ref:F,xstyle:[o.pressable,g?o.rotationCursor:{}],children:i.jsx(c("StoriesCreatePhotoPreviewItem.react"),{attachment:p,frameWidth:R,onError:P,onLoad:z,ref:t,xstyle:W?o.imageRTL:o.image})})})}),i.jsx(c("StoriesCreatePhotoPreviewFrame.react"),{frameWidth:R,ref:K,rounded:X}),i.jsx(c("StoriesCreatePreviewCTA.react"),{ctaType:e.ctaType})]}),i.jsx("div",{className:c("stylex")(o.footer),ref:u,style:{height:N+"px"},children:$}),i.jsxs("div",{className:c("stylex")(o.mediaContainerOverlays,!M&&o.mediaContainerOverlaysIgnoreTouch,M&&o.textOverlayEditingMode),onMouseDown:function(a){if(!M)return;a.preventDefault();a.stopPropagation()},style:babelHelpers["extends"]({},Z,{width:R+"px"}),children:[q!=null&&i.jsxs("div",{className:c("stylex")(o.overlay),ref:q,children:[i.jsx(c("StoriesCreateTextOverlayEntrypointContainer.react"),{textOverlays:a}),J!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(J,{})})]}),i.jsx("div",{className:c("stylex")(o.border,W&&o.borderRTL),style:{borderLeft:Q+"px "+Y,borderRight:Q+"px "+Y,borderTop:O+"px "+Y,top:"-"+O+"px"}})]})]})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withStoriesCreateViewStatePart")(a,function(a){var b;return{composerSessionID:a.composerSessionID,ctaLinkData:a.ctaLinkData,displayedURI:(b=a.photoData)==null?void 0:b.displayedURI,isObjectRotating:a.isObjectRotating,mediaAttachment:(b=a.mediaAttachments)==null?void 0:b[0],overlayRef:a==null?void 0:a.overlayRef,rotation:(b=(b=a.photoData)==null?void 0:b.rotation)!=null?b:0,scale:(b=(b=a.photoData)==null?void 0:b.scale)!=null?b:1,stickerData:a.stickerData,textOverlays:a.textOverlays}});g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CometEntityHeaderCoverDraggable.react",["fbt","ix","BaseScrollableArea.react","CometAspectRatioContainer.react","CometIcon.react","TetraText.react","UserAgent","clamp","fbicon","react","stylex","useGlobalEventListener"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useLayoutEffect,n=b.useRef,o=b.useState,p={container:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},coverDraggable:{bottom:"i09qtzwb",boxSizing:"rq0escxv",cursor:"a7woen2v",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",touchAction:"kk8tqec8"},dragInstructions:{alignItems:"bp9cbjyn",backgroundColor:"d6rk862h",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",display:"j83agx80",paddingBottom:"sj5x9vvc",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",paddingTop:"cxgpxx05",position:"pmk7jnqg",start:"kfkz5moi",top:"rk01pc8j",transform:"py2didcb"},dragInstructionsIcon:{display:"j83agx80",marginEnd:"oi9244e8"}},q={x:.5,y:.5};function a(a){var b=a.children,e=a.containerAspectRatio,f=a.contentAspectRatio,g=a.focus;g=g===void 0?q:g;var s=a.onDrag;a=a.xstyle;var t=c("UserAgent").isBrowser("Firefox < 53");t=t?{minHeight:"100%"}:{};var u=n({x:g.x,y:g.y});g=o(!0);var v=g[0],w=g[1],x=n(null),y=n(s);y.current=s;g=r(x);s=g[0];var z=g[1];g=k(function(){var a;a=(a=x.current)==null?void 0:a.getDOMNode();if(a==null)return;var b=a.scrollHeight,d=a.scrollLeft,g=a.scrollTop;a=a.scrollWidth;var h=u.current.x,i=u.current.y;if(f<e){var j=1-f/e;i=g/b/j}else if(f>e){g=1-e/f;h=d/a/g}y.current(c("clamp")(h,0,1),c("clamp")(i,0,1))},[e,f]);m(function(){var a;a=(a=x.current)==null?void 0:a.getDOMNode();if(a==null)return;var b=(a.scrollHeight-a.offsetHeight)*u.current.y;a.scrollTop=b;z.current.top=b;b=(a.scrollWidth-a.offsetWidth)*u.current.x;a.scrollLeft=b;z.current.left=b},[z,g]);l(function(){var a,b=(a=x.current)==null?void 0:a.getDOMNode();if(b==null)return;var c=function a(){w(!1),b.removeEventListener("mousewheel",a,{passive:!0}),b.removeEventListener("touchstart",a,{passive:!0}),b.removeEventListener("mousedown",a,{passive:!0})};b.addEventListener("mousewheel",c,{passive:!0});b.addEventListener("touchstart",c,{passive:!0});b.addEventListener("mousedown",c,{passive:!0});return function(){b.removeEventListener("mousewheel",c,{passive:!0}),b.removeEventListener("touchstart",c,{passive:!0}),b.removeEventListener("mousedown",c,{passive:!0})}},[]);return j.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:e,xstyle:a,children:j.jsxs("div",{className:c("stylex")(p.container),onMouseDown:s,children:[j.jsx(c("BaseScrollableArea.react"),{hideScrollbar:!0,horizontal:!0,onScroll:g,ref:x,tabIndex:0,vertical:!0,xstyle:p.coverDraggable,children:f<e?j.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:f,style:t,children:b}):j.jsx("div",{style:{width:100*f/e+"%"},children:j.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:f,children:b})})}),v&&j.jsxs("div",{className:c("stylex")(p.dragInstructions),children:[j.jsx("div",{className:c("stylex")(p.dragInstructionsIcon),children:j.jsx(c("CometIcon.react"),{color:"white",icon:d("fbicon")._(i("697185"),20)})}),j.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized4",children:h._(/*FBT_CALL*/"Drag to Reposition"/*FBT_CALL*/)})]})]})})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=n({x:0,y:0}),d=n({left:0,top:0}),e=o(!1),f=e[0],g=e[1];e=function(c){var e;if(c.button!==0)return;e=(e=a.current)==null?void 0:e.getDOMNode();if(e==null)return;g(!0);b.current={x:c.clientX,y:c.clientY};d.current.top=e.scrollTop;d.current.left=e.scrollLeft;c.preventDefault()};var h=k(function(c){var e;e=(e=a.current)==null?void 0:e.getDOMNode();if(e==null)return;if(!f)return;var g=c.clientX-b.current.x,h=c.clientY-b.current.y;e.scrollTop=d.current.top-h;e.scrollLeft=d.current.left-g;c.preventDefault()},[f,a]),i=k(function(a){g(!1),a.preventDefault()},[]);c("useGlobalEventListener")("mousemove",f?h:null,{capture:!0});c("useGlobalEventListener")("mouseup",f?i:null,{capture:!0});return[e,d]}g["default"]=a}),98);
__d("CometObjectFitContainerNext.react",["CometAspectRatioContainer.react","UserAgent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={absoluteCenter:{left:"pzli0o6b",position:"pmk7jnqg",top:"rk01pc8j",transform:"py2didcb"},hideOverflow:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a){var b=a.children,d=a.containerAspectRatio,e=a.containerChildrenBefore;e=e===void 0?null:e;var f=a.containerChildrenAfter;f=f===void 0?null:f;var g=a.contentAspectRatio,j=a.focus;j=j===void 0?{x:.5,y:.5}:j;var k=a.mode;k=k===void 0?"cover":k;a=a.showOverflow;a=a===void 0?!1:a;var l=c("UserAgent").isBrowser("Firefox < 53");l=l?{minHeight:"100%"}:{};if(d>g)if(k==="cover")return h.jsxs(c("CometAspectRatioContainer.react"),{aspectRatio:d,xstyle:!a&&i.hideOverflow,children:[e,h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:g,style:babelHelpers["extends"]({},l,{left:j.x*100+"%",position:"absolute",top:j.y*100+"%",transform:"translate("+j.x*-100+"%, "+j.y*-100+"%)"}),xstyle:!a&&i.hideOverflow,children:b}),f]});else return h.jsxs(c("CometAspectRatioContainer.react"),{aspectRatio:d,xstyle:!a&&i.hideOverflow,children:[e,h.jsx("div",{className:c("stylex")(i.absoluteCenter),style:{width:100*g/d+"%"},children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:g,xstyle:!a&&i.hideOverflow,children:b})}),f]});else if(k==="cover")return h.jsxs(c("CometAspectRatioContainer.react"),{aspectRatio:d,xstyle:!a&&i.hideOverflow,children:[e,h.jsx("div",{style:{left:j.x*100+"%",position:"absolute",top:j.y*100+"%",transform:"translate("+j.x*-100+"%, "+j.y*-100+"%)",width:100*g/d+"%"},children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:g,xstyle:!a&&i.hideOverflow,children:b})}),f]});else return h.jsxs(c("CometAspectRatioContainer.react"),{aspectRatio:d,xstyle:!a&&i.hideOverflow,children:[e,h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:g,xstyle:[i.absoluteCenter,!a&&i.hideOverflow],children:b}),f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEntityHeaderCoverMedia.react",["BaseImage.react","BaseRow.react","BaseRowItem.react","CometAspectRatioContainer.react","CometEntityHeaderScrollToContext","CometFeedWidthStyles","CometObjectFitContainerNext.react","CometPlaceholder.react","CometPressable.react","CometRouteRenderType","CometRow.react","CometRowItem.react","deferredLoadComponent","emptyFunction","gkx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometEntityHeaderCoverDraggable.react").__setRef("CometEntityHeaderCoverMedia.react")),m={accessory:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn"},backgroundCover:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},backgroundMask:{backgroundImage:"jge66auo",bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},backgroundMaskWash:{backgroundImage:"j6lzsp60",bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},coverActionBarContainer:{backgroundColor:"d6rk862h",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"},coverActionBarContainerPushView:{top:"t4zy2t7z"},coverButton:{marginBottom:"sjgh65i0"},coverButtonRow:{paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",position:"l9j0dhe7"},coverButtonShade:{backgroundImage:"kpb67iw4"},coverFooterExternal:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},coverHeaderRow:{display:"j83agx80",justifyContent:"taijpn5t",paddingTop:"immc8rqz",position:"l9j0dhe7"},coverMedia:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm"},coverMediaLarge:{maxWidth:"l946jzrp"},coverMediaPlaceholder:{backgroundColor:"qsy8amke"},coverMediaRoundCornersBottom:{borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi","@media (max-width: 939px)":{borderBottomEndRadius:"kipmrytf",borderBottomStartRadius:"bti8j40k"}},coverMediaRoundCornersTop:{borderTopEndRadius:"pw54ja7n",borderTopStartRadius:"ue3kfks5","@media (max-width: 939px)":{borderTopEndRadius:"mhvw0uep",borderTopStartRadius:"rldwrbua"}},coverPhoto:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t"},coverTopLeftButtonRow:{position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},image:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",height:"datstx6m",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"k4urcfbm"},mediaOverlayContainer:{backgroundColor:"d6rk862h",bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},mediaOverlayContainerNoShade:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},navBarPushViewBackground:{backgroundColor:"hybvsw6c",height:"cb02d2ww"},pressable:{display:"a8c37x1j"}},n=d("CometFeedWidthStyles").getEntityHeaderWidthStyles(),o=1.9,p=1.8,q=2.7,r=9.4,s=1.1;function a(a){var b=a.backgroundMask;b=b===void 0?"card":b;var e=a.backgroundMedia,f=a.coverActionBar,g=a.coverButton,t=a.coverFooter,u=a.coverHeader,v=a.coverMedia,w=a.coverTopLeftButton,x=a.coverOverlay,y=a.showCoverButtonShade;y=y===void 0?!0:y;var z=a.showCoverOverlayShade;z=z===void 0?!0:z;var A=a.isDraggable;A=A===void 0?!1:A;var B=a.onDrag;B=B===void 0?c("emptyFunction"):B;var C=a.renderCoverFooterBelow;C=C===void 0?!1:C;var D=a.roundCorners,E=a.size;E=E===void 0?"normal":E;a=a.scrollToBottom;var F=a===void 0?!1:a;a=.5;var G=.5,H=0,I=null,J=0,K=null;if(v!=null){var L=v.focusX,M=v.focusY,N=v.height,O=v.mediaSource,P=v.width;v=babelHelpers.objectWithoutPropertiesLoose(v,["focusX","focusY","height","mediaSource","width"]);a=(L=L)!=null?L:a;G=(L=M)!=null?L:G;H=(M=N)!=null?M:H;I=(L=O)!=null?L:I;J=(N=P)!=null?N:J;K=(M=v)!=null?M:K}O={large:o,mobile:s,normal:q,permalinkHeader:p,"short":r};L=O[E];P=d("CometRouteRenderType").useIsPushView();var Q=i(c("CometEntityHeaderScrollToContext")),R=k(null);j(function(){F&&Q.scrollToTop(R,316)},[Q,F]);N=c("gkx")("708253");M=((v=e==null?void 0:e.focusX)!=null?v:.5)*100+"%";O=J>0&&H>0?J/H:L;v=typeof I==="string"?h.jsx(c("BaseImage.react"),{"data-imgperflogname":"profileCoverPhoto",src:I,xstyle:m.image}):I;J=typeof I==="string"?h.jsx(c("CometObjectFitContainerNext.react"),{containerAspectRatio:L,contentAspectRatio:O,focus:{x:a,y:G},mode:"cover",children:h.jsx(c("BaseImage.react"),{"data-imgperflogname":"profileCoverPhoto",src:I,xstyle:m.image})}):h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:L,children:I});H=A?h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:L,children:h.jsx(c("CometPlaceholder.react"),{fallback:J,children:h.jsx(l,{containerAspectRatio:L,contentAspectRatio:O,focus:{x:a,y:G},onDrag:B,xstyle:m.image,children:v})})}):J;return h.jsxs(h.Fragment,{children:[f!=null&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(P&&m.navBarPushViewBackground)}),h.jsx("div",{className:c("stylex")(m.coverActionBarContainer,P&&m.coverActionBarContainerPushView),children:f})]}),h.jsxs(c("BaseRow.react"),{align:"center",children:[N&&e!=null&&h.jsxs("div",{className:c("stylex")(m.backgroundCover,e.xstyle),children:[h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:O,style:{left:M,position:"absolute",top:0,transform:"translateX(-"+M+")"},children:h.jsx(c("BaseImage.react"),{src:e.uri,xstyle:m.image})}),h.jsx("div",{className:c("stylex")(b==="card"&&m.backgroundMask,b==="wash"&&m.backgroundMaskWash)})]}),h.jsxs(c("BaseRowItem.react"),{expanding:!0,useDeprecatedStyles:!0,xstyle:[m.coverPhoto,n.coverMediaContainer],children:[h.jsxs("div",{className:c("stylex")(m.coverMedia,(E==="large"||E==="permalinkHeader")&&m.coverMediaLarge,!C&&D!=="none"&&N&&m.coverMediaRoundCornersBottom,D==="all"&&m.coverMediaRoundCornersTop,v==null&&m.coverMediaPlaceholder),ref:R,style:{borderRadius:!C&&D!=="none"?"max(0px, min(8px, calc((100vw - 4px - 100%) * 9999))) / 8px":"",borderTopLeftRadius:"0px",borderTopRightRadius:"0px"},children:[u!=null&&h.jsx("div",{className:c("stylex")(m.coverHeaderRow),children:u}),((I=K)==null?void 0:I.linkProps)!=null||((A=K)==null?void 0:A.onPress)!=null?h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},K,{display:"inline",overlayDisabled:!0,testid:void 0,xstyle:m.pressable,children:H})):H,w!=null&&h.jsx("div",{className:c("stylex")(m.coverTopLeftButtonRow),children:w}),x!=null&&h.jsx("div",{className:c("stylex")(z?m.mediaOverlayContainer:m.mediaOverlayContainerNoShade),children:x}),(g!=null||t!=null)&&h.jsxs("div",{className:c("stylex")(m.accessory),children:[g!=null&&h.jsx("div",{className:c("stylex")(m.coverButtonRow,y&&m.coverButtonShade),children:h.jsx(c("CometRow.react"),{align:"end",children:h.jsx(c("CometRowItem.react"),{children:h.jsx("div",{className:c("stylex")(m.coverButton),children:g})})})}),!C&&t]})]}),C&&h.jsx("div",{className:c("stylex")(m.coverFooterExternal,D!=="none"&&N&&m.coverMediaRoundCornersBottom),children:t})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCoverPhotoEditReducer",[],(function(a,b,c,d,e,f){"use strict";function a(){return{canReposition:!1,coverPhoto:null,editSlideshow:!1,file:null,isUploading:!1,selectedSlideshowIndex:null,shouldShowEditMenu:!1,slideshowData:[],videoUploadState:null}}function b(a,b){switch(b.type){case"REPOSITION":return babelHelpers["extends"]({},a,{canReposition:!0,coverPhoto:b.data});case"REPOSITION_CANCEL":return babelHelpers["extends"]({},a,{canReposition:!1,coverPhoto:null});case"EDIT_SLIDESHOW":return babelHelpers["extends"]({},a,{coverPhoto:b.data,editSlideshow:!0,isUploading:!1,slideshowData:b.slideshowData});case"EDIT_SLIDESHOW_CANCEL":return babelHelpers["extends"]({},a,{editSlideshow:!1,isUploading:!1,selectedSlideshowIndex:null,slideshowData:[]});case"CHOOSE_SLIDESHOW":return babelHelpers["extends"]({},a,{selectedSlideshowIndex:b.selectedSlideshowIndex});case"EDIT_SLIDESHOW_STARTED":return babelHelpers["extends"]({},a,{isUploading:!0});case"UPLOAD_FAILED":return babelHelpers["extends"]({},a,{file:null,isUploading:!1});case"UPLOAD_STARTED":return babelHelpers["extends"]({},a,{file:b.file,isUploading:!0});case"UPLOAD_SUCCESS":return babelHelpers["extends"]({},a,{canReposition:!0,coverPhoto:b.data,file:null,isUploading:!1});case"VIDEO_UPLOAD_FAILED":return babelHelpers["extends"]({},a,{videoUploadState:"FAILED"});case"VIDEO_UPLOAD_ATTACHED":return babelHelpers["extends"]({},a,{videoUploadState:"ATTACHED"});case"VIDEO_UPLOAD_STARTED":return babelHelpers["extends"]({},a,{videoUploadState:"UPLOADING"});case"VIDEO_UPLOAD_POSTPROCESSING":return babelHelpers["extends"]({},a,{videoUploadState:"POSTPROCESSING"});case"VIDEO_UPLOAD_SUCCESS":return babelHelpers["extends"]({},a,{videoUploadState:null});case"UPLOAD_SLIDESHOW_SUCCESS":return babelHelpers["extends"]({},a,{canReposition:!1,editSlideshow:!0,file:null,isUploading:!1,slideshowData:b.slideshowData});case"SHOW_EDIT_MENU":return babelHelpers["extends"]({},a,{shouldShowEditMenu:!0});case"DID_SHOW_EDIT_MENU":return babelHelpers["extends"]({},a,{shouldShowEditMenu:!1});default:return a}}f.getInitialState=a;f.reducer=b}),66);
__d("ProfileCometCoverPhotoEditContext",["CometCoverPhotoEditReducer","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({dispatch:c("emptyFunction"),state:d("CometCoverPhotoEditReducer").getInitialState()});g["default"]=b}),98);
__d("ProfileCometCoverPhotoUploaderContainer.react",["CometFileSelector.react","ProfileCometCoverPhotoEditContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=a.children;a=j(c("ProfileCometCoverPhotoEditContext"));var d=a.dispatch;a=i(function(a){if(!a.length)return;d({file:a[0],type:"UPLOAD_STARTED"})},[d]);return h.jsx(c("CometFileSelector.react"),{accept:["image/*","image/heif","image/heic"],onFilesSelected:a,children:function(a){return b(a)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("range",[],(function(a,b,c,d,e,f){function a(a,b,c){c=c==null||c===0?a<b?1:-1:c;var d=-1;b=Math.max(Math.ceil((b-a)/c),0);var e=Array(b);a=a;while(b--)e[++d]=a,a+=c;return e}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LiveProducerPageActionChannelAddMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4047770075243124"}),null);
__d("LiveProducerPageActionChannelAddMutation.graphql",["LiveProducerPageActionChannelAddMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d=[{kind:"Literal",name:"action_channel_type",value:"PROFILE_TAB_NAVIGATION"}],e=[{kind:"Literal",name:"action_channel_context",value:{admin_preview:!1,show_all:!0,supported_actions:[]}}],f={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"name_propercase",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],type:"PageOpenProfileTabAction",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveProducerPageActionChannelAddMutation",selections:[{alias:null,args:c,concreteType:"PageActionChannelAddToOrderingResponsePayload",kind:"LinkedField",name:"page_action_channel_add_to_ordering",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:"liveProducerPermaURLsChannels",args:d,concreteType:"PageActionChannel",kind:"LinkedField",name:"action_channel",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:[f],storageKey:'actions(action_channel_context:{"admin_preview":false,"show_all":true,"supported_actions":[]})'}],storageKey:'action_channel(action_channel_type:"PROFILE_TAB_NAVIGATION")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveProducerPageActionChannelAddMutation",selections:[{alias:null,args:c,concreteType:"PageActionChannelAddToOrderingResponsePayload",kind:"LinkedField",name:"page_action_channel_add_to_ordering",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:"liveProducerPermaURLsChannels",args:d,concreteType:"PageActionChannel",kind:"LinkedField",name:"action_channel",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f],storageKey:'actions(action_channel_context:{"admin_preview":false,"show_all":true,"supported_actions":[]})'}],storageKey:'action_channel(action_channel_type:"PROFILE_TAB_NAVIGATION")'},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("LiveProducerPageActionChannelAddMutation_facebookRelayOperation"),metadata:{},name:"LiveProducerPageActionChannelAddMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("LiveProducerPageActionChannelRemoveMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4169636213100817"}),null);
__d("LiveProducerPageActionChannelRemoveMutation.graphql",["LiveProducerPageActionChannelRemoveMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d=[{kind:"Literal",name:"action_channel_type",value:"PROFILE_TAB_NAVIGATION"}],e=[{kind:"Literal",name:"action_channel_context",value:{admin_preview:!1,show_all:!0,supported_actions:[]}}],f={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],type:"PageOpenProfileTabAction",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveProducerPageActionChannelRemoveMutation",selections:[{alias:null,args:c,concreteType:"PageActionChannelRemoveFromOrderingResponsePayload",kind:"LinkedField",name:"page_action_channel_remove_from_ordering",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:"liveProducerPermaURLsChannels",args:d,concreteType:"PageActionChannel",kind:"LinkedField",name:"action_channel",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:[f],storageKey:'actions(action_channel_context:{"admin_preview":false,"show_all":true,"supported_actions":[]})'}],storageKey:'action_channel(action_channel_type:"PROFILE_TAB_NAVIGATION")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveProducerPageActionChannelRemoveMutation",selections:[{alias:null,args:c,concreteType:"PageActionChannelRemoveFromOrderingResponsePayload",kind:"LinkedField",name:"page_action_channel_remove_from_ordering",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:"liveProducerPermaURLsChannels",args:d,concreteType:"PageActionChannel",kind:"LinkedField",name:"action_channel",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f],storageKey:'actions(action_channel_context:{"admin_preview":false,"show_all":true,"supported_actions":[]})'}],storageKey:'action_channel(action_channel_type:"PROFILE_TAB_NAVIGATION")'},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("LiveProducerPageActionChannelRemoveMutation_facebookRelayOperation"),metadata:{},name:"LiveProducerPageActionChannelRemoveMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometFeedStoryCardStackConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;f.NUM_OF_VISIBLE_CARDS=a}),66);
__d("CometFeedStoryCardStack.react",["fbt","ix","CometComponentWithKeyCommands.react","CometFeedStoryCardStackConstants","CometKeys","TetraCircleButton.react","fbicon","react","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=1,q=-1,r=0,s=575,t=1e6;function u(a,b,c,d){if(!b&&!c&&!d)return;Array.from(a.querySelectorAll("[tabindex], a, area, button, input, object, select, textarea")).forEach(function(a){var d=a.getAttribute("data-tabindex");if(d==null){var e=a.getAttribute("tabindex");e!=null?a.setAttribute("data-tabindex",e):a.setAttribute("data-tabindex","none");b||a.setAttribute("tabindex","-1")}else b?d!=="none"?a.setAttribute("tabindex",d):a.removeAttribute("tabindex"):c&&a.setAttribute("tabindex","-1")})}function a(a){var b=a.children,e=a.currentIndex,f=a.onPressLeft,g=a.onPressRight,v=j.Children.toArray(b);if(v.length<=0)throw c("unrecoverableViolation")("CometFeedStoryCardStack needs at least one child to render","comet_ui");if((e!=null||f!=null||g!=null)&&(e==null||f==null||g==null))throw c("unrecoverableViolation")("Provide either all or none of the CometFeedStoryCardStack props (currentIndex, onPressLeft, onPressRight)","comet_ui");a=o(0);b=a[0];var w=a[1];a=o(r);var x=a[0],y=a[1],z=e!=null?e:b,A=v.length;a=z<A-1;e=z>0;var B=k(function(){g!=null?g():w(function(a){return a<A-1?a+p:a}),y(p)},[g,w,y,A]),C=k(function(){f!=null?f():w(function(a){return a>0?a+q:a}),y(q)},[f,w,y]);b=o(!1);var D=b[0],E=b[1],F=n(null);b=m(function(){return[{command:{key:c("CometKeys").LEFT},description:h._(/*FBT_CALL*/"Previous Slide"/*FBT_CALL*/),handler:function(){E(!0),C()}},{command:{key:c("CometKeys").RIGHT},description:h._(/*FBT_CALL*/"Next Slide"/*FBT_CALL*/),handler:function(){E(!0),B()}}]},[C,B]);l(function(){D&&F.current!=null&&F.current.focus()});var G=n(null),H=o("big"),I=H[0],J=H[1];l(function(){var a=100,b=function(){var b;b=(b=G.current)==null?void 0:b.clientHeight;if(b==null)return;b<s?J("small"):b>=s+a&&J("big")};b();window.addEventListener("resize",b);return function(){return window.removeEventListener("resize",b)}},[]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,children:j.jsxs("div",{"aria-atomic":"off","aria-live":"polite","aria-roledescription":"carousel",className:"jifvfom9 lhclo0ds btwxx1t3 j83agx80 gs1a9yip","data-testid":void 0,ref:G,role:"region",children:[j.jsx("div",{className:"abpf7j7b ojkyduve exrn9cbp ggysqto6 tsj8a5cv dhix69tm oygrvhab wkznzc2l kvgmc6g5 taijpn5t kb5gq1qc j83agx80 bp9cbjyn ewlkfwdl",children:j.jsx("div",{className:e?"":"qpbg1qsm",children:j.jsx(c("TetraCircleButton.react"),{disabled:!e,icon:I==="big"?d("fbicon")._(i("492491"),24):d("fbicon")._(i("492488"),20),label:h._(/*FBT_CALL*/"Next Slide"/*FBT_CALL*/),onPress:function(){E(!1),C()},size:I==="big"?48:32,type:"overlay"})})}),j.jsx("div",{className:"abpf7j7b ojkyduve exrn9cbp ggysqto6 tsj8a5cv dhix69tm oygrvhab wkznzc2l kvgmc6g5 taijpn5t kb5gq1qc j83agx80 bp9cbjyn iyic8zgw",children:j.jsx("div",{className:a?"":"qpbg1qsm",children:j.jsx(c("TetraCircleButton.react"),{disabled:!a,icon:I==="big"?d("fbicon")._(i("492539"),24):d("fbicon")._(i("492536"),20),label:h._(/*FBT_CALL*/"Previous Slide"/*FBT_CALL*/),onPress:function(){E(!1),B()},size:I==="big"?48:32,type:"overlay"})})}),j.jsx("div",{className:"l9j0dhe7 h9e7qa53 c9zspvje buofh1pr pqpd137z",children:v.map(function(a,b){if(b<z-1||b>z+d("CometFeedStoryCardStackConstants").NUM_OF_VISIBLE_CARDS)return null;var e=b===z,f=b===z-x;return j.jsx("div",{"aria-hidden":!e,"aria-label":b+1+" of "+v.length,"aria-roledescription":"slide",className:c("stylex").dedupe({"animation-duration-1":"elqgv22k","display-1":"a8c37x1j","pointer-events-1":"hzruof5a","position-1":"pmk7jnqg","top-1":"kr520xx4","transform-origin-1":"mkhpvzsf","transition-duration-1":"iumphvy2","transition-timing-function-1":"heur4gxb","width-1":"k4urcfbm"},b<z&&b%2===0?{"transform-0.1":"tlzxtpd5","transform-origin-1":"pf5603km","transition-timing-function-1":"lgxijbf6"}:null,b<z&&b%2!==0?{"transform-0.1":"ir4c0cis","transform-origin-1":"pf5603km","transition-timing-function-1":"lgxijbf6"}:null,e?{"animation-name-1":"o6fvlhfg","pointer-events-1":"oqq733wu","position-1":"l9j0dhe7","transition-timing-function-1":"msbwk0y7"}:null,b-1===z?{"transform-0.1":"q5z9q8de","transition-delay-1":"g852wlhv","transform-origin-1":null}:null,b-2===z?{"transform-0.1":"s6j3brnh","transition-delay-1":"g852wlhv","transform-origin-1":null}:null,b-3===z?{"transform-0.1":"a0r1kdzg","transition-delay-1":"g852wlhv","transform-origin-1":null}:null),ref:function(a){if(a==null)return;e&&(F.current=a);u(a,e,f,x===r)},role:"group",style:{zIndex:t-b},tabIndex:b===z?0:-1,children:a},b)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LiveProducerPageActionChannelAddMutation",["CometRelay","LiveProducerPageActionChannelAddMutation.graphql","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LiveProducerPageActionChannelAddMutation.graphql");function a(a,c){var e=c.pageID,f=c.position,g=c.tabName;return new(b("Promise"))(function(b,c){d("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a,d){if(d!=null){c(d);return}b(a)},onError:c,variables:{input:{action_to_add:{action_type:g},channel_type:"PROFILE_TAB_NAVIGATION",page_id:e,position:f}}})})}g.commit=a}),98);
__d("LiveProducerPageActionChannelRemoveMutation",["CometRelay","LiveProducerPageActionChannelRemoveMutation.graphql","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LiveProducerPageActionChannelRemoveMutation.graphql");function a(a,c){var e=c.pageID,f=c.tabName;return new(b("Promise"))(function(b,c){d("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a,d){if(d!=null){c(d);return}b(a)},onError:c,variables:{input:{action_to_remove:{action_type:f},channel_type:"PROFILE_TAB_NAVIGATION",page_id:e}}})})}g.commit=a}),98);
__d("AttachmentRenderContext",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CREATION:"creation",COMMENT_BUMP:"comment_bump",HOST_UPDATE:"host_update",SHARE:"share",SHARE_WITH_METADATA:"share_with_metadata"});c=a;f["default"]=c}),66);
__d("QuiltsCometConstants",[],(function(a,b,c,d,e,f,g){"use strict";a=3/4;b=1;c=["share_with_metadata","comment_bump"];d={blue:0,clusterSize:0,green:0,red:0};e=["image/bmp","image/heif","image/heic","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp"];f="9495";g.CARD_ASPECT_RATIO=a;g.PROMPT_CARD_INDEX_OFFSET=b;g.SPECIAL_RENDER_CONTEXTS=c;g.BLACK=d;g.IMAGE_TYPES_SUPPORTED_ON_QUILTS=e;g.QUILT_CAP_COMPOSER_DISCLAIMER_NUX_ID=f}),98);/*FB_PKG_DELIM*/
__d("QuiltsCometComposerAttachmentAreaQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4301004759974317"}),null);
__d("QuiltsCometComposerAttachmentAreaQuery.graphql",["QuiltsCometComposerAttachmentAreaQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"presetID"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{items:[{kind:"Variable",name:"text_format_preset_ids.0",variableName:"presetID"}],kind:"ListValue",name:"text_format_preset_ids"}],d=[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:500}],e=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"QuiltsCometComposerAttachmentAreaQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"composer_text_format_presets",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"QuiltsCometComposerAttachmentStackPreview_textFormatMetadata"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"QuiltsCometComposerAttachmentAreaQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"composer_text_format_presets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:d,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:d,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("QuiltsCometComposerAttachmentAreaQuery_facebookRelayOperation"),metadata:{},name:"QuiltsCometComposerAttachmentAreaQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("QuiltsCometComposerAttachmentStackPreview_textFormatMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"QuiltsCometComposerAttachmentStackPreview_textFormatMetadata",selections:[{args:null,kind:"FragmentSpread",name:"CPICometSATPCard_textFormatMetadata"}],type:"TextFormatMetadata",abstractKey:null};e.exports=a}),null);
__d("CPICometSATPCard_textFormatMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CPICometSATPCard_textFormatMetadata",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedFormattedTextRenderer_metadata"},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometInspirationsCustomFont_customFont"}],storageKey:null}],type:"TextFormatMetadata",abstractKey:null};e.exports=a}),null);
__d("CPICometSATPCard.react",["CPICometSATPCard_textFormatMetadata.graphql","CometAspectRatioContainer.react","CometCard.react","CometLineBreakTransform","CometRelay","CometTextWithEntities.react","QuiltsCometConstants","react","stylex","useCometFeedFormattedTextRenderer","useCometInspirationsCustomFont"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={backgroundOpacity:{opacity:"kgtf8isp"},colorBackground:{height:"datstx6m",position:"pmk7jnqg",top:"kr520xx4",width:"k4urcfbm"},contentWrapper:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",justifyContent:"taijpn5t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",zIndex:"e710htxi"},imageContainer:{end:"n7fi1qx3",height:"datstx6m",position:"pmk7jnqg",textAlign:"ftzlm3b6",width:"k4urcfbm"},satpBackground:{display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",justifyContent:"i1fnvgqd",width:"k4urcfbm"},textWrapper:{display:"j83agx80",maxWidth:"ex6tb73q",paddingTop:"aodizinl",paddingEnd:"gl4o1x5y",paddingBottom:"ofv0k9yr",paddingStart:"lt9micmv"}};function a(a){var e=a.dropShadow;e=e===void 0?0:e;var f=a.imageRenderer,g=a.text,k=a.textFormatMetadata$key,l=a.textStyleOverrides;a=a.xstyle;k=d("CometRelay").useFragment(h!==void 0?h:h=b("CPICometSATPCard_textFormatMetadata.graphql"),k);var m=c("useCometFeedFormattedTextRenderer")(null,k,!0),n=m.backgroundStyle,o=m.textColor;m=m.textStyle;k=c("useCometInspirationsCustomFont")(k==null?void 0:k.inspirations_custom_font_object);k=Object.assign({},m,{color:o,fontFamily:k,fontSize:(o=l==null?void 0:l.fontSize)!=null?o:m==null?void 0:m.fontSize,lineHeight:l==null?void 0:l.lineHeightInPx,wordBreak:"break-word"});return i.jsx(c("CometCard.react"),{dropShadow:e,children:i.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:d("QuiltsCometConstants").CARD_ASPECT_RATIO,children:i.jsxs("div",{className:c("stylex")(j.satpBackground),children:[i.jsx("div",{className:c("stylex")(j.imageContainer),children:f}),i.jsx("div",{className:c("stylex")(j.colorBackground,j.satpBackground,j.imageContainer,f!=null&&j.backgroundOpacity,a),style:babelHelpers["extends"]({},n)}),g!=null?i.jsx("div",{className:c("stylex")(j.contentWrapper),children:i.jsx("div",{className:c("stylex")(j.textWrapper),style:k,children:i.jsx(c("CometTextWithEntities.react"),{text:g,transforms:[c("CometLineBreakTransform")]})})}):null]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("QuiltsCometComposerAttachmentStackPreview.react",["CPICometSATPCard.react","CometRelay","QuiltsCometComposerAttachmentStackPreview_textFormatMetadata.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=2;function a(a){var e=a.imageRenderer,f=a.text,g=a.textFormatMetadata$key;a=a.textStyleOverrides;g=d("CometRelay").useFragment(h!==void 0?h:h=b("QuiltsCometComposerAttachmentStackPreview_textFormatMetadata.graphql"),g);return i.jsxs("div",{className:"l9j0dhe7 taijpn5t qqhoty7l j83agx80",children:[i.jsx("div",{className:"du4w35lb k4urcfbm kr520xx4 pmk7jnqg",children:i.jsx(c("CPICometSATPCard.react"),{dropShadow:j,imageRenderer:e,text:f,textFormatMetadata$key:g,textStyleOverrides:a})}),i.jsx("div",{className:"k4urcfbm kr520xx4 pmk7jnqg enjifjd9 bnqla6t0",children:i.jsx(c("CPICometSATPCard.react"),{imageRenderer:e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("QuiltsCometComposerAttachmentArea.react",["CPICometCardStackUtils","CometComposerGenericAttachmentPendingPreview.react","CometComposerHeadlessMediaUploader.react","CometObjectFitContainerNext.react","CometPlaceholder.react","CometRelay","QuiltsCometAttachmentPreview.react","QuiltsCometComposerAttachmentAreaQuery.graphql","QuiltsCometComposerAttachmentStackPreview.react","QuiltsCometConstants","WebPixelRatio","calculateDynamicQuiltsTextStyle","composerAttachmentAreaChecker","composerAttachmentAreaReducer","composerMediaAttachmentReducer","composerMediaAttachmentStateChecker","composerQuiltsPostReducer","composerQuiltsPostStateChecker","makeMediaAttachmentReadyForPreview","quiltsCometCardStackUtils","react","useComposerViewStateReducer","useNullthrowsViolation","useStoriesDominantColorPicker","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=1;function a(a){var e=a.animatedImageAttachments,f=a.mediaAttachments,g=a.mediaUploadLoggingMetadata;a=a.quiltsMetadata;var k=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("QuiltsCometComposerAttachmentAreaQuery.graphql"),{presetID:a==null?void 0:a.formattedTextPresetID,scale:d("WebPixelRatio").get()});c("useComposerViewStateReducer")(d("composerAttachmentAreaReducer").composerAttachmentAreaReducer,c("composerAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"),c("composerMediaAttachmentStateChecker"));c("useComposerViewStateReducer")(c("composerQuiltsPostReducer"),c("composerQuiltsPostStateChecker"));k=c("useNullthrowsViolation")((k=k.viewer)==null?void 0:(k=k.composer_text_format_presets)==null?void 0:k[0]);a=c("useNullthrowsViolation")(a);a=a.promptText;f=(f=f==null?void 0:f.filter(function(a){return(a.file!=null||a.url!=null)&&(d("CPICometCardStackUtils").initialContributionIsPhoto(a.fileType)||d("CPICometCardStackUtils").initialContributionIsVideo(a.fileType))}).map(c("makeMediaAttachmentReadyForPreview"))[0])!=null?f:e==null?void 0:e.imageData;e=c("calculateDynamicQuiltsTextStyle")(a);var l,m;((f==null?void 0:f.fileType)==="PHOTO"||(f==null?void 0:f.fileType)==="GIF"||(f==null?void 0:f.fileType)==="VIDEO")&&(l=f==null?void 0:f.width,m=f==null?void 0:f.height);var n=l!=null&&m!=null&&m>0?l/m:j,o=(f==null?void 0:f.url)!=null?f.url:null;o=c("useStoriesDominantColorPicker")({defaultBottomColor:d("QuiltsCometConstants").BLACK,defaultTopColor:d("QuiltsCometConstants").BLACK,imageURL:o});o=d("CPICometCardStackUtils").getGradientBackground(o.topColor,o.bottomColor);o=f!=null?i.jsx("div",{className:"cwj9ozl2",style:o,children:i.jsx(c("CometObjectFitContainerNext.react"),{containerAspectRatio:d("QuiltsCometConstants").CARD_ASPECT_RATIO,contentAspectRatio:n,mode:d("quiltsCometCardStackUtils").getQuiltsCoverMode(f.fileType),children:i.jsx(c("QuiltsCometAttachmentPreview.react"),{attachment:f})})}):null;return i.jsxs("div",{className:"k4urcfbm fk1ry6lx","data-testid":void 0,children:[i.jsx(c("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:g}),i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometComposerGenericAttachmentPendingPreview.react"),{}),children:i.jsx(c("QuiltsCometComposerAttachmentStackPreview.react"),{imageRenderer:o,text:(n=a)!=null?n:"",textFormatMetadata$key:k,textStyleOverrides:e})})]})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{animatedImageAttachments:a.animatedImageAttachments,mediaAttachments:a.mediaAttachments,quiltsMetadata:a.quiltsMetadata}});g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CommunityHelpLoggingDataContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();b.displayName="CommunityHelpLoggingContext";c=b;g["default"]=c}),98);
__d("createCometComposerWhatsAppDeeplinkEntity",[],(function(a,b,c,d,e,f){"use strict";var g="PageWhatsAppNumber";function a(a,b,c){return c.createEntity("MENTION","IMMUTABLE",{entType:g,id:a})}f["default"]=a}),66);
__d("castStringToEnumValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b==null)return null;var c=Object.keys(a);for(var d=0;d<c.length;d++){var e=c[d];e=a[e];if(e===b)return e}return null}f["default"]=a}),66);
__d("composerBrandedContentReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;switch(b.type){case"branded_content_tag_sponsor":return babelHelpers["extends"]({},a,{brandedContent:babelHelpers["extends"]({},a.brandedContent,{bcmpCampaignAgreementID:b.bcmpCampaignAgreementID,eventLocation:(c=b.eventLocation)!=null?c:(c=a.brandedContent)==null?void 0:c.eventLocation,isReviewable:!1,sponsorCanAddCTA:b.sponsorCanAddCTA,sponsorCanBoost:b.sponsorCanBoost,sponsorID:b.sponsorID})});case"branded_content_remove_sponsor":return babelHelpers["extends"]({},a,{brandedContent:babelHelpers["extends"]({},a.brandedContent,{bcmpCampaignAgreementID:void 0,isReviewable:void 0,sponsorCanAddCTA:void 0,sponsorCanBoost:void 0,sponsorID:void 0,sponsorRelationship:void 0})});case"branded_content_set_reviewable":if(((c=a.brandedContent)==null?void 0:c.sponsorID)!=null)return babelHelpers["extends"]({},a,{brandedContent:babelHelpers["extends"]({},a.brandedContent,{isReviewable:!0})});break;case"branded_content_set_enforcement_intercept_event":return babelHelpers["extends"]({},a,{brandedContent:babelHelpers["extends"]({},a.brandedContent,{enforcementInterceptEvent:b.event})});case"branded_content_set_enforcement_intercept_reason":return babelHelpers["extends"]({},a,{brandedContent:babelHelpers["extends"]({},a.brandedContent,{enforcementInterceptReason:b.reason})});case"branded_content_set_sponsor_relationship":return babelHelpers["extends"]({},a,{brandedContent:babelHelpers["extends"]({},a.brandedContent,{sponsorRelationship:b.sponsorRelationship})})}return a}f["default"]=a}),66);
__d("QuiltReplyFormatType.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["GIF","PHOTO_AND_DESCRIPTION","TEXT_ONLY","VIDEO"]);c=a;f["default"]=c}),66);
__d("CPICometCardStackUtils",["recoverableViolation","scrollIntoView"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a.current==null){c("recoverableViolation")("Scroll ref is null in scrollToCardStack function, cannot scroll.","community_collaborative");b(!1);return}c("scrollIntoView")(a.current,{behavior:"smooth",force:!0,onScrollComplete:function(){return b(!0)},verticalAlign:"center"})}function b(a,b){return{backgroundImage:"linear-gradient("+a+","+b+")"}}function d(a){return a==="PHOTO"}function e(a){return a==="GIF"}function f(a){return a==="VIDEO"}function h(){return["PHOTO_AND_DESCRIPTION"]}g.scrollToCardStack=a;g.getGradientBackground=b;g.initialContributionIsPhoto=d;g.initialContributionIsGIF=e;g.initialContributionIsVideo=f;g.getQuiltsFallbackReplyFormats=h}),98);
__d("CommunityHelpUXSurface",[],(function(a,b,c,d,e,f){a=Object.freeze({BOOKMARK:"bookmark",COMMUNITY_HELP:"community_help",COMMUNITY_HELP_FEED_SUBPAGE:"community_help_feed_subpage",COMMUNITY_HELP_LISTING_DETAILS_PAGE:"community_help_listing_details_page",COMMUNITY_HELP_MATCHES:"community_help_matches",COMMUNITY_HELP_THEME_SUBPAGE:"community_help_theme_subpage",CORONAVIRUS_HUB:"coronavirus_hub",CREATION_OUTRO:"creation_outro",CRISIS_HUB_HOME:"crisis_hub_home",CRISIS_PAGE:"crisis_page",DEEP_LINK:"deeplink",DRIVE_DETAILS_PAGE:"drive_details_page",DRIVE_MANAGEMENT_PAGE:"drive_management_page",EMAIL:"email",FB_SEARCH:"fb_search",FUNDRAISER_HUB:"fundraiser_hub",GROUP_MALL:"group_mall",GROUPS_TAB:"groups_tab",INTERN:"intern",JOBS:"jobs",LISTING_DETAILS_PAGE:"listing_details_page",LOCAL_COMMUNITY_FEED:"local_community_feed",LOCAL_COMMUNITY_GIVING_MARKETPLACE:"local_community_giving_marketplace",MESSENGER:"messenger",NEWSFEED:"newsfeed",NOTIFICATIONS:"notifications",NULL_PAGE_SOURCE:"null_page_source",PAGE_DRIVE_DETAILS_PAGE:"page_drive_details_page",PAGES:"pages",PAGES_FEED:"pages_feed",PERMALINK:"permalink",PLACEHOLDER_FOR_SOURCE_SURFACE_PLEASE_ADD_A_TODO:"placeholder_for_source_surface_please_add_a_todo",PROFILE:"profile",SIGN_UP_OUTRO:"sign_up_outro",TEST_SURFACE:"test_surface",TIMELINE:"timeline",UNKNOWN:"unknown",VOLUNTEERING_COMPOSER:"volunteering_composer",VOLUNTEERING_CONNECTIONS_COMPOSER:"volunteering_connections_composer",VOLUNTEERING_CONNECTIONS_EDIT_COMPOSER:"volunteering_connections_edit_composer",VOLUNTEERING_EVENT_COMPOSER:"volunteering_event_composer",VOLUNTEERING_EVENT_DETAILS:"volunteering_event_details",VOLUNTEERING_EVENT_EDIT_COMPOSER:"volunteering_event_edit_composer",VOLUNTEERING_EVENT_VOLUNTEER_LIST:"volunteering_event_volunteer_list",VOLUNTEERING_HUB:"volunteering_hub",VOLUNTEERING_ROLE_DETAILS:"volunteering_role_details"});f["default"]=a}),66);
__d("EventCometPagesComposerInterceptionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4419715571474517"}),null);
__d("PagesCometComposerEditDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4860664770664066"}),null);/*FB_PKG_DELIM*/
__d("QuiltsGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!0}function b(a){return a.includes("GIF")}function d(){return!1}function e(){return!1}function f(){return c("gkx")("1942386")}g.isPaginationEnabled=a;g.canSelectGIFs=b;g.getCanUploadVideos=d;g.getCanUploadGIFs=e;g.getIsPastingImageContributionEnabled=f}),98);
__d("calculateDynamicQuiltsTextStyle",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length===0)return{fontSize:40,lineHeightInPx:"45px"};a=a.length;if(a>340)return{fontSize:20,lineHeightInPx:"27px"};if(a>150)return{fontSize:24,lineHeightInPx:"27px"};return a>80?{fontSize:32,lineHeightInPx:"37px"}:{fontSize:40,lineHeightInPx:"45px"}}f["default"]=a}),66);
__d("quiltsCometCardStackUtils",["QuiltsCometConstants","QuiltsGating","fileInputAcceptValues","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a===0)return"start_card";else if(a===b-1)return"end_card";else return"contribution_card"}function b(a,b){var c=-1;b=b+c;if(b<0)return void 0;c=a[b];return c==null?void 0:(a=c.legacy_fbid)!=null?a:void 0}function e(a,b,d,e){var f=2e3;a!=null&&a({focusComposer:!0,scrollToComposer:!0});b!=null&&b();b==null&&a!=null&&c("setTimeout")(function(){var a=d();a!=null?a():c("recoverableViolation")("Could not access uploadMedia UFI action from Quilt post utils","community_collaborative")},f);b==null&&a==null&&e!=null&&(c("recoverableViolation")("Could not connect to UFI actions to initiate a new Quilt contribution.","community_collaborative"),e())}function f(a){switch(a){case"VIDEO":case"GIF":return"contain";case"PHOTO":default:return"cover"}}function h(){var a=d("QuiltsCometConstants").IMAGE_TYPES_SUPPORTED_ON_QUILTS;d("QuiltsGating").getCanUploadGIFs()&&(a=d("fileInputAcceptValues").PHOTO);d("QuiltsGating").getCanUploadVideos()&&(a=a.concat(d("fileInputAcceptValues").VIDEO));return a}g.getCardTypeFromIndex=a;g.getContributionIDFromCardStack=b;g.attemptUFIPhotoUpload=e;g.getQuiltsCoverMode=f;g.getQuiltsSupportedUploadTypes=h}),98);/*FB_PKG_DELIM*/
__d("composerQuiltsPostReducer",["composerAttachmentAreaReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"ADD_QUILT_ATTACHMENT":return babelHelpers["extends"]({},a,{quiltsMetadata:babelHelpers["extends"]({},a.quiltsMetadata,{draftText:null,formattedTextPresetID:b.formattedTextPresetID,promptText:b.promptText})});case"REMOVE_ATTACHMENT_TYPE":var c=d("composerAttachmentAreaReducer").getCanAlterAttachmentData(b,"QUILT",a);if(c){return babelHelpers["extends"]({},a,{quiltsMetadata:{replyFormats:(c=a.quiltsMetadata)==null?void 0:c.replyFormats}})}return a;case"SAVE_QUILT_DRAFT_TEXT":return babelHelpers["extends"]({},a,{quiltsMetadata:babelHelpers["extends"]({},a.quiltsMetadata,{draftText:b.draftText})});case"ADD_QUILTS_REPLY_FORMATS":return babelHelpers["extends"]({},a,{quiltsMetadata:babelHelpers["extends"]({},a.quiltsMetadata,{replyFormats:b.replyFormats})});case"UPDATE_QUILT_PHOTO_DESCRIPTION":return babelHelpers["extends"]({},a,{quiltsMetadata:babelHelpers["extends"]({},a.quiltsMetadata,{photoDescription:b.photoDescription})});default:return a}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("QuiltsCometAttachmentPreview.react",["CometComposerMediaAttachmentItem.react","FeedComposerCometAnimatedImageAttachmentArea.react","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;switch(a==null?void 0:a.fileType){case"PHOTO":case"VIDEO":return h.jsx(c("CometComposerMediaAttachmentItem.react"),{attachment:a,withRemoveButton:!1});case"GIF":return h.jsx(c("FeedComposerCometAnimatedImageAttachmentArea.react"),{});default:throw c("unrecoverableViolation")("Unable to display an unsupported media type "+((a==null?void 0:a.fileType)?a==null?void 0:a.fileType:"UNKNOWN"),"community_collaborative")}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("composerQuiltsPostStateChecker",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a==null?void 0:(a=a.quiltsMetadata)==null?void 0:a.isUpgrading)===!0?!0:!1}f["default"]=a}),66);