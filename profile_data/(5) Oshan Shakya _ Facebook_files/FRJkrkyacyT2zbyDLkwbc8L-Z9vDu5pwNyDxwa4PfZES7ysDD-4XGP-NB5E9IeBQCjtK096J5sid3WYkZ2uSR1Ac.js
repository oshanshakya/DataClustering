if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("MWSeparatorContainer.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=h.Children.toArray(a.children).filter(Boolean);return d.length===0?null:h.jsxs(h.Fragment,{children:[(b=a.beforeContent)!=null?b:null,h.jsx("div",{className:c("stylex")(a.xstyle),children:d.map(function(b,c){return h.jsxs(h.Fragment,{children:[c!==0&&a.separator,b]},"item-"+c)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ForwardMessage.bs",["LSInt64.bs","LSMessagingThreadTypeUtil.bs","MAWThreadId.bs","MWChatMessageId.bs","MWLSActor.bs","MWLSForwardMessage.bs","MWThread_DEPRECATED.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:11272","cr:1564","cr:1746","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c.threadKey,tl:0})},[a,JSON.stringify(c.threadKey)]))}function j(a,c){return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:c.threadKey,tl:{hd:c.messageId,tl:0}})},[a,JSON.stringify(c.threadKey),c.messageId]))}function a(a){var c=b("useReStore")(),d=i(c,a),e=j(c,a),f=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),g=b("MWLSActor.bs").useActor(void 0),k=b("bs_caml").i64_neq(g,a.senderId),l=b("MWLSForwardMessage.bs").useForwardMessage(void 0),m=b("cr:11272")==null?void 0:b("bs_curry")._1(b("cr:11272").useForwardMessage,c),n=b("cr:1564")==null?void 0:b("bs_curry")._1(b("cr:1564").useForwardMessage,c),o=b("cr:1746")==null?void 0:b("bs_curry")._1(b("cr:1746").useForwardMessage,c),p=b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(a.threadKey),a.messageId,b("bs_int64").to_string(a.timestampMs)),q=function(c){var f=b("MAWThreadId.bs").isThreadId(b("MWThread_DEPRECATED.bs").toThreadKey(c));if(o!==void 0&&!f)return b("bs_curry")._6(o,c,d,a,k,e,g);if(m!==void 0)return b("bs_curry")._2(m,c,a.messageId);else return b("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")},r=function(c){var f=b("MAWThreadId.bs").isThreadId(b("MWThread_DEPRECATED.bs").toThreadKey(c));if(n!==void 0&&f)return b("bs_curry")._5(n,c,d,a,k,e);else return b("bs_curry")._2(l,c,p)};return h.useMemo(function(){if(f)return q;else return r},[f,q,r,b("LSInt64.bs").string(d.threadKey),a.messageId])}f.$MAWForwardMessage$requireCond=b("cr:11272");f.$MAWForwardMessageFromSecureThread$requireCond=b("cr:1746");f.$MAWFowardMessageFromOpenThread$requireCond=b("cr:1564");f.useForwardMessage=a}),null);
__d("MDSContextualMenuIcon.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsxs("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:[h.jsx("circle",{cx:"11",cy:"6",r:"2",strokeWidth:"1px",fill:"var(--placeholder-icon)"}),h.jsx("circle",{cx:"11",cy:"11",r:"2",strokeWidth:"1px",fill:"var(--placeholder-icon)"}),h.jsx("circle",{cx:"11",cy:"16",r:"2",strokeWidth:"1px",fill:"var(--placeholder-icon)"})]})}c=a;f.make=c}),null);
__d("MWV2ContextualActionsButton.bs",["fbt","CometDeferredPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LsTargetType.bs","MAWGating.bs","MDSContextualMenuIcon.bs","MWCMThreadTypes.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWPCanRemoveMessageGlobally.bs","MWTooltip.react","MWV2LogMessageClick.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","gkx","react","requireDeferred","stylex","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("requireDeferred")("MWV2ContextualActionsMenuDeferred.react").__setRef("MWV2ContextualActionsButton.bs"),l={action:{marginStart:"hcukyx3x",marginEnd:"cxmmr5t8",width:"b73ngqbp",height:"rgmg9uty",display:"j83agx80",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",flexShrink:"pfnyh3mw",alignContent:"n5ue3fu6",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",textAlign:"oqcyycmt",cursor:"nhd2j8a9",":hover":{backgroundColor:"opvtebq1"},position:"l9j0dhe7"},icon:{height:"p1ueia1e",width:"pgctjfs5",opacity:"l8rlqa9s",":active":{opacity:"sh06z9xi"},":hover":{opacity:"i2p6rm4e"}}};function m(a){}function a(a){var c=a.message,d=a.thread,e=a.showForwardActionInContextualMenu,f=a.showReplyActionInContextualMenu,h=a.canRemoveMessageGlobally,n=a.closeActionsMenu,o=a.setMoreMenuOpen;a=a.extraActions;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var p=b("useReStore")(),q=g._(/*FBT_CALL*/"More"/*FBT_CALL*/),r=b("MWPCanRemoveMessageGlobally.bs").make(d,c),s=b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType),t=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(s)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(p.table("participants")),{hd:d.threadKey,tl:{hd:c.senderId,tl:0}});else return b("SortedAsyncIterable.bs").empty(void 0)},[p,JSON.stringify(d.threadKey)])),u=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").adminRecallMessage,d),v=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reportMessageToAdmin,d),w=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),x=(!w||b("MAWGating.bs").isFeatureLimitEnabled(void 0))&&b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0),y=!x&&b("gkx")("1840885"),z=b("MWLSActor.bs").useActor(void 0),A=c.isUnsent;A=s?A?!1:r?!0:u:w?!x&&(b("MAWGating.bs").isUnsendGlobalEnabled(void 0)&&b("bs_caml").i64_eq(c.senderId,z)&&!c.isUnsent||b("MAWGating.bs").isUnsendLocallyEnabled(void 0)):y;r=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2RemoveMessageDialog").__setRef("MWV2ContextualActionsButton.bs"));var B=r[0];u=t!==void 0?b("bs_belt_Option").getWithDefault(t.isAdmin,!1):!1;w=c.unsentTimestampMs;x=w!==void 0;y=b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType)&&v&&!u&&b("bs_caml").i64_neq(z,c.senderId)&&!x;r=b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType)&&b("bs_caml").i64_neq(z,c.senderId)&&!x;t=j.useCallback(function(a){a={message:c,onClose:m};return B(a,m)},[c,B]);w=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var C=w.removeMessage;A?C.current=t:C.current=m;var D=j.useCallback(function(a){if(b("gkx")("3417")){C.current=m;return}},[C]);j.useEffect(function(){return D},[D]);v=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context);if(!(e||f||A||r||b("bs_caml_obj").caml_notequal(a,null)))return null;var E=v.setFocused;return j.jsx(b("CometDeferredPopoverTrigger.react"),{onVisibilityChange:function(a){b("bs_curry")._1(o,function(b){return a});return b("bs_curry")._1(E,function(b){return a})},popoverResource:k,popoverProps:{showForwardActionInContextualMenu:e,showReplyActionInContextualMenu:f,showUnsendInContextualMenu:A,showReportCommunityMessageToAdmin:y,showReportCommunityMessageToFacebook:r,canRemoveMessageGlobally:h,closeActionsMenu:n,message:c,extraActions:a},popoverType:"menu",align:"middle",position:"above",children:function(a,d){var e=function(a){b("bs_curry")._1(d,void 0);return b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").moreButton,void 0,void 0)};return j.jsx(b("MWTooltip.react"),{tooltip:q,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":q,expanding:!0,ref:a,testid:"messenger_contextual_actions_button",onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(i||(i=b("stylex")))(l.action),children:j.jsx("div",{className:i(l.icon),children:j.jsx(b("MDSContextualMenuIcon.bs").make,{})})})})})}})}c=a;f.contextualActionsMenuDeferred=k;f.styles=l;f.noop=m;f.make=c}),null);
__d("MWV2ForwardMessageButton.bs",["fbt","LSMessagingThreadTypeUtil.bs","MAWGating.bs","MWChatForwardAction.bs","MWChatMessageId.bs","MWV2ForwardMessage.bs","ReQL.bs","ReQLSubscription.bs","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){var d=b("useReStore")();return b("ReQLSubscription.bs").useFirstExn(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:c.threadKey,tl:0})},[d,JSON.stringify(c.threadKey)]))}function a(a){a=a.message;var c=b("useReStore")();c=j(c,a);c=b("MAWGating.bs").isForwardEnabled(void 0)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);var d=b("MAWGating.bs").isCrossForwardEnabled(void 0);c=c?d?"cross_transport":"secure":d?"cross_transport":"open_";d=b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(a.threadKey),a.messageId,b("bs_int64").to_string(a.timestampMs));a=b("MWV2ForwardMessage.bs").useForwardMessage(a);return i.jsx(b("MWChatForwardAction.bs").make,{onForward:a,label:g._(/*FBT_CALL*/"Forward"/*FBT_CALL*/),messageID:d,forwardDialogType:c})}c=a;f.make=c}),null);
__d("MWV2MessageReactionButton.bs",["LSMessagingThreadTypeUtil.bs","MAWGating.bs","MAWPSendOrRemoveReaction.bs","MWChatMessageId.bs","MWChatReactionsAction.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","ReQL.bs","ReQLSubscription.bs","bs_curry","bs_int64","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("reactions")),{hd:a.threadKey,tl:{hd:a.messageId,tl:{hd:d,tl:0}}})},[c,a.messageId,JSON.stringify(a.threadKey),d]));if(e!==void 0)return e.reaction}function a(a){var c=a.message,d=a.thread,e=a.setReactionsMenuOpen;a=a.closeActionsMenu;var f=i(c);d=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType);var g=b("MAWPSendOrRemoveReaction.bs").useSendOrRemoveReaction(c,d,"reaction_tray");d=(!d||b("MAWGating.bs").isFeatureLimitEnabled(void 0))&&b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0);if(d)return null;else return h.jsx(b("MWChatReactionsAction.bs").make,{onVisibilityChange:function(a){return b("bs_curry")._1(e,function(b){return a})},sendReaction:function(a,d){return b("bs_curry")._3(g,c.messageId,d?void 0:a,d?"remove_reaction":"reaction")},selectedReaction:f,closeActionsMenu:a,messageID:b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(c.threadKey),c.messageId,b("bs_int64").to_string(c.timestampMs))})}c=a;f.make=c}),null);
__d("MDSReplyActionSvgIcon.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{fill:"m50y4xls"}};function a(a){return i.jsx("svg",{width:"22px",height:"22px",viewBox:"1 1 21 21",children:i.jsx("g",{strokeWidth:"1",fillRule:"evenodd",className:(h||(h=b("stylex")))(j.icon),children:i.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ReplyButton.bs",["fbt","CometPressable.react","MDSReplyActionSvgIcon.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","MWV2ReplyContext.bs","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={action:{marginStart:"hcukyx3x",marginEnd:"cxmmr5t8",width:"b73ngqbp",height:"rgmg9uty",display:"j83agx80",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",flexShrink:"pfnyh3mw",alignContent:"n5ue3fu6",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",textAlign:"oqcyycmt",cursor:"nhd2j8a9",":hover":{backgroundColor:"opvtebq1"},position:"l9j0dhe7"},icon:{height:"p1ueia1e",width:"pgctjfs5",opacity:"l8rlqa9s",":active":{opacity:"sh06z9xi"},":hover":{opacity:"i2p6rm4e"}}};function l(a){}function a(a){var c=a.message;a=g._(/*FBT_CALL*/"Reply"/*FBT_CALL*/);var d=j.useContext(b("MWV2ReplyContext.bs").context),e=d.setReply,f=function(a){return b("bs_curry")._2(e,{messageId:c.messageId,timestampMs:c.timestampMs,sendStatusV2:c.sendStatusV2,offlineThreadingId:c.offlineThreadingId},c.threadKey)};d=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var h=d.replyToMessage;h.current=f;var m=j.useCallback(function(a){if(b("gkx")("3417")){h.current=l;return}},[h]);j.useEffect(function(){return m},[m]);return j.jsx(b("MWTooltip.react"),{tooltip:a,align:"middle",position:"above",children:j.jsx("div",{className:(i||(i=b("stylex")))(k.action),children:j.jsx(b("CometPressable.react"),{"aria-label":a,expanding:!0,testid:"messenger_reply_menu_button",onPress:function(a){return f(void 0)},overlayDisabled:!0,children:j.jsx("div",{className:i(k.icon),children:j.jsx(b("MDSReplyActionSvgIcon.bs").make,{})})})})})}c=24;d=a;f.minMessageHeight=c;f.styles=k;f.noop=l;f.make=d}),null);
__d("MWV2UseMessageForwardAction.bs",["LSMessagingThreadTypeUtil.bs","LsTargetType.bs","MAWGating.bs","MWChatMessageId.bs","MWV2ForwardMessage.bs","MWV2LogMessageClick.bs","MWV2MessageRowIsRowFocusedContext.bs","UseMWChatForward.re","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){a=b("MAWGating.bs").isForwardEnabled(void 0)&&b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);var d=b("MAWGating.bs").isCrossForwardEnabled(void 0);a=a?d?"cross_transport":"secure":d?"cross_transport":"open_";d=b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(c.threadKey),c.messageId,b("bs_int64").to_string(c.timestampMs));var e=b("MWV2ForwardMessage.bs").useForwardMessage(c),f=h.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),g=f.setIsDialogOpened,i=f.setFocused,j=b("UseMWChatForward.re").useMWChatForward({onClose:function(a){b("bs_curry")._1(g,function(a){return!1});return b("bs_curry")._1(i,function(a){return!0})},onSend:e,messageID:d,forwardDialogType:a});return function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").forwardButton,void 0,void 0);if(!(j==null)){b("bs_curry")._1(g,function(a){return!0});return b("bs_curry")._1(j.onClick,void 0)}}}f.useHook=a}),null);
__d("MWMessageRowActions.bs",["LSAuthorityLevel.bs","LSBitFlag.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessageContentType.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MAWMsg.bs","MWLSFeatureLimitedStatus.bs","MWPBaseMessageListRowActions.bs","MWTooltipGroup.react","MWV2ContextualActionsButton.bs","MWV2ForwardMessageButton.bs","MWV2MessageReactionButton.bs","MWV2MessageRowActionsContext.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2ReplyButton.bs","MWV2UseMessageForwardAction.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","cr:10871","gkx","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]))}var j=b("cr:10871")==null?void 0:b("bs_caml_option").some(b("cr:10871"));function k(a){}function l(a){var c=a.message,d=a.outgoing,e=a.setMoreMenuOpen,f=a.setReactionsMenuOpen,g=a.interactedWith,l=a.alwaysShowForwardForMediaMessages,m=a.closeActionsMenu,n=a.canRemoveMessageGlobally;a=a.extraActions;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var o=i(c),p=b("MWV2OneToOneThreadBlockedContext.bs").useIsBlocked(void 0),q=b("useReStore")(),r=o.threadKey,s=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(q.table("contacts")),{hd:r,tl:0})},[JSON.stringify(r),q]));s=s!==void 0?b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,s),!1):!1;var t=c.ephemeralDurationInSec;t=t!==void 0?b("bs_caml").i64_gt(t,b("bs_caml_int64").zero):!1;var u=b("LSMessagingThreadTypeUtil.bs").isSecure(o.threadType),v=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!u||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),w=b("bs_caml").i64_eq(c.displayedContentTypes,b("LSMessageContentType.bs").sticker);t=(u?b("MAWGating.bs").isForwardEnabled(void 0)&&!t&&!w:!0)&&b("gkx")("1844772")&&!p&&!s&&!v&&!c.isUnsent&&!b("MAWMsg.bs").isPlaceholder(c)&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageForward,o)&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").optimistic);w=!p&&!s&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageReply,o)&&!c.isUnsent;v=!p&&!s&&!c.isUnsent&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reactions,o)&&(u?b("MAWGating.bs").isReactionsEnabled(void 0):!0);p=w&&!l&&g;s=l&&t;l=g&&v;v=u&&b("bs_caml").i64_eq(c.sendStatusV2,b("LSMessageSendStatusV2.bs").retriableError);u=b("MWV2UseMessageForwardAction.bs").useHook(o,c);var x=h.useContext(b("MWV2MessageRowActionsContext.bs").context),y=x.forwardMessage;t&&(y.current=u);var z=h.useCallback(function(a){if(b("gkx")("3417")){y.current=k;return}},[y]);h.useEffect(function(){return z},[z]);return h.jsxs(b("MWPBaseMessageListRowActions.bs").ActionsList.make,{outgoing:d,children:[s?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2ForwardMessageButton.bs").make,{message:c})}):null,l?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2MessageReactionButton.bs").make,{message:c,thread:o,setReactionsMenuOpen:f,closeActionsMenu:m})}):null,!(b("cr:10871")==null)&&v?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(j.make,{message:c})}):null,p?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2ReplyButton.bs").make,{message:c})}):null,g?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2ContextualActionsButton.bs").make,{message:c,thread:o,showForwardActionInContextualMenu:!s&&t,showReplyActionInContextualMenu:!p&&w,canRemoveMessageGlobally:n,closeActionsMenu:m,setMoreMenuOpen:e,extraActions:a})}):null]})}c={noop:k,make:l};function a(a){var c=a.message,d=a.focused,e=a.hovered,f=a.hasReactions,g=a.outgoing,i=a.ariaHidden,j=a.canRemoveMessageGlobally;a=a.extraActions;i=i!==void 0?i:!1;j=j!==void 0?j:!0;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var k=h.useState(function(){return!1}),m=h.useState(function(){return!1}),n=b("LSBitFlag.bs").has(b("LSMessageContentType.bs").mediaPreview,c.displayedContentTypes),o=function(a){};e=e||d||m[0]||k[0];return h.jsx(b("MWTooltipGroup.react"),{children:h.jsx(b("MWPBaseMessageListRowActions.bs").Container.make,{children:e||n?h.jsx(l,{message:c,outgoing:g,setMoreMenuOpen:m[1],setReactionsMenuOpen:k[1],interactedWith:e,alwaysShowForwardForMediaMessages:n,closeActionsMenu:o,canRemoveMessageGlobally:j,extraActions:a}):null,hasReactions:f,outgoing:g,ariaHidden:i})})}d=a;f.$MAWMessageRetryButton$requireCond=b("cr:10871");f.ActionsList=c;f.make=d}),null);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=36;d=c+6|0;e=d+14|0;var j={bubble:{maxWidth:"odn2s2vf",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",borderTopStartRadius:"cur584us",borderTopEndRadius:"gt092ec4",borderBottomEndRadius:"t02hhl22",borderBottomStartRadius:"lm2lsiji",pointerEvents:"yfudjqg5"}},incoming_connect_top:{":after":{borderTopStartRadius:"efeyjaql"}},incoming_connect_bot:{":after":{borderBottomStartRadius:"dcchegku"}},outgoing_connect_top:{":after":{borderTopEndRadius:"qyep8gqv"}},outgoing_connect_bot:{":after":{borderBottomEndRadius:"af2nlw56"}},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"nqmqzb3c",width:"k4urcfbm",":after":{borderBottomEndRadius:"iep0m7mp",borderBottomStartRadius:"pgkcj7gb"}}};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,d?a?j.outgoing_connect_top:j.incoming_connect_top:!1,!f&&e?a?j.outgoing_connect_bot:j.incoming_connect_bot:!1,f?j.precedes_xma:!1),children:c})}var k=18;a=a;f.baseSize=k;f.borderWidth=c;f.smallRadius=d;f.largeRadius=e;f.styles=j;f.make=a}),null);
__d("MWV2ChatBubble.bs",["MWLSThreadDisplayContext.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","MWV2ColorUtils.bs","MWV2MessageHasReply.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emphasis_ring:{display:"j83agx80",borderTop:"dmyp13bq",borderEnd:"ndhlz62r",borderBottom:"ncbqlf8d",borderStart:"s0vq2i2w",maxWidth:"blud8cpg",position:"l9j0dhe7",backgroundColor:"g5ia77u1",":before":{content:"g25sr70m",display:"jdo7v6z6",position:"lzm9zonv",top:"hlthg0ru",bottom:"bukg358c",start:"nsmdno57",end:"p8m4tlpt",borderTopStyle:"fboblok7",borderEndStyle:"hooc0cby",borderBottomStyle:"bblsj9ze",borderStartStyle:"sj46kbig",borderTopWidth:"ek0ugbdb",borderEndWidth:"dpj2ryut",borderBottomWidth:"rq41jfz2",borderStartWidth:"t1qoqrst",borderTopColor:"ctd5sy3o",borderEndColor:"t7740pma",borderBottomColor:"h01b6lxl",borderStartColor:"is8i6zgj",opacity:"f9zxapb0",borderTopStartRadius:"o5g7ym2r",borderTopEndRadius:"swnt2q8t",borderBottomEndRadius:"egy40mqu",borderBottomStartRadius:"m3lz4j07",pointerEvents:"szx2nxjd",zIndex:"c4u49bkg"},":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"e15w2yfi",bottom:"jdr4sxky",start:"opatuxy4",end:"jj6iul7h",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"avvvbj8i",borderEndWidth:"qc19tv0c",borderBottomWidth:"seh407zj",borderStartWidth:"mgkhc2l0",borderTopColor:"qu1lfhdz",borderEndColor:"h2zxmtvk",borderBottomColor:"r13p1xmt",borderStartColor:"thnup18q",borderTopStartRadius:"tdsjupxz",borderTopEndRadius:"o6z0k5ic",borderBottomEndRadius:"m0ai3fox",borderBottomStartRadius:"t06v70oj",pointerEvents:"yfudjqg5",zIndex:"sebibeov"}},emphasis_ring_before_xma:{borderBottom:"humdl8nn",":before":{borderBottom:"dwjjxrjg",borderBottomStartRadius:"vha61xgp",borderBottomEndRadius:"cninlv0n"},":after":{borderBottom:"h4hm3dj4",borderBottomStartRadius:"pgkcj7gb",borderBottomEndRadius:"iep0m7mp"}},emphasis_ring_xma:{width:"gaoewp0a",borderTop:"gcieejh5",":before":{borderTop:"bsyhajyn",borderTopStartRadius:"rlntl7br",borderTopEndRadius:"rgkwebxj"},":after":{borderTop:"q22nnh5l",borderTopStartRadius:"lm7vadms",borderTopEndRadius:"s6fxew23"}},emphasis_ring_connect_top_outgoing:{":before":{borderTopEndRadius:"m2bnzw1h"},":after":{borderTopEndRadius:"mk1s9yjy"}},emphasis_ring_connect_top_incoming:{":before":{borderTopStartRadius:"izwkhwj2"},":after":{borderTopStartRadius:"i7jao9op"}},emphasis_ring_connect_bottom_outgoing:{":before":{borderBottomEndRadius:"aultcim1"},":after":{borderBottomEndRadius:"lgl5u3oa"}},emphasis_ring_connect_bottom_incoming:{":before":{borderBottomStartRadius:"mfjs0nqm"},":after":{borderBottomStartRadius:"qrw7h0bf"}}};function k(a,c){if(c)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function l(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing;a=a.threadTheme;a=k(a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:a,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}c={useInlineStyles:k,make:l};function m(a,c,d){var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("useMatchMedia")("(min-height: "+String(1280)+"px)");return i.useMemo(function(){if(d&&c.length>1)return{backgroundAttachment:"fixed",backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.fallbackColor),backgroundImage:b("MWV2ColorUtils.bs").gradient(c,b("bs_caml_obj").caml_notequal(e,1),f,void 0)};else if(d)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a,c,d,e,f])}function n(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.threadTheme;a=a.gradientColors;h=m(h,a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:h,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}d={useInlineStyles:m,make:n};function o(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx(b("MWPTransparentMessageBubble.bs").make,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:a})}e={make:o};function p(a){var c=a.children,d=a.shouldConnectTop,e=a.shouldConnectBottom,f=a.isBeforeXMA,g=a.hasXMA;a=a.isOutgoing;f=[j.emphasis_ring,f?j.emphasis_ring_before_xma:e?a?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,g?d?j.emphasis_ring_xma:!1:d?a?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[f]),children:c})}var q={make:p};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var j=b("MWPThreadTheme.bs").useHook(void 0),k=j.gradientColors;j=j.threadTheme;h=b("MWV2MessageHasReply.bs").make(h);h=h?i.jsx(n,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j,gradientColors:k}):g&&k.length>1?i.jsx(o,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g}):i.jsx(l,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j});if(a)return i.jsx(p,{children:h,shouldConnectTop:d,shouldConnectBottom:e,isBeforeXMA:f,hasXMA:!1,isOutgoing:g});else return h}a=a;f.styles=j;f.Solid=c;f.Reply=d;f.Transparent=e;f.EmphasisRing=q;f.make=a}),null);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",paddingBottom:"r8blr3vg"},mask:{backgroundColor:"nred35xi"},spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},heads:{flexShrink:"pfnyh3mw",display:"j83agx80",marginTop:"aahdfvyu",marginEnd:"cgat1ltu",marginBottom:"dicw6rsg",marginStart:"hcukyx3x"},img:{verticalAlign:"sf5mxxl7",width:"gab7stmx",height:"i4qgphn6",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",paddingStart:"abpf7j7b",paddingEnd:"exrn9cbp"},overflow:{backgroundColor:"tdjehn4e",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",color:"m9osqain",fontSize:"r9r71o1u",fontWeight:"n3ffmt46",lineHeight:"eagtllmd",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"b3onmgus",textAlign:"oqcyycmt"}};function l(a,c){var d=a.length,e=d>5;d=Math.max(d-(e?4:5)|0,0);var f=a.slice(d);if(e){e=Math.max(d-9|0,0);a=a.slice(e,d);var h="\n"+g._(/*FBT_CALL*/{"*":"and {Number of additional views} more"}/*FBT_CALL*/,[g._param("Number of additional views",e,[0])]);a=j.jsxs("ul",{children:[a.reverse().map(function(a,b){return j.jsx("li",{children:a.name},String(b))}),e>0?j.jsx("li",{children:h},"overflow"):null]});e=j.jsx(b("MWTooltip.react"),{tooltip:a,align:function(){switch(b("bs_caml_obj").caml_equal(c,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.overflow),children:g._(/*FBT_CALL*/{"*":"+{the number of additional viewers}"}/*FBT_CALL*/,[g._param("the number of additional viewers",d,[0])])}),forceInlineDisplay:!0},"overflow")}else e=null;return b("bs_array").append([e],f.map(function(a,d){var e=a.timestamp>0?g._(/*FBT_CALL*/{"*":"Seen by {full name} at {seen time}"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):g._(/*FBT_CALL*/{"*":"Seen by {full name}"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(b("MWTooltip.react"),{tooltip:e,align:function(){switch(b("bs_caml_obj").caml_equal(c,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:a.imageSrc===""?j.jsx(b("BaseGlimmer.react"),{className:(i||(i=b("stylex")))(k.img),index:d}):j.jsx("img",{className:(i||(i=b("stylex")))(k.img),alt:e,src:a.imageSrc}),forceInlineDisplay:!0},a.id)}))}function a(a){var c=a.messageSeenBy;a=b("MWTheme.bs").useTheme(void 0);var d=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),e=d.setIsDialogOpened,f=d.setFocused,h=c.length,m=b("MWLSThreadDisplayContext.bs").useHook(void 0),n=j.useRef(null);return j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.root,b("MWTheme.bs").isGradient(a)?k.mask:!1),children:[j.jsx("div",{className:i(k.spacer)}),j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(f,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{name:"MWV2ChatSeenHeadsDialog","class":"fluid"}).__setRef("MWV2ChatSeenHeadsRow.bs"),dialogProps:{onClose:function(a){},messageSeenBy:c},children:function(a){return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"Seen by {number of participants who have seen this message} participants"/*FBT_CALL*/,[g._param("number of participants who have seen this message",String(h))]).toString(),ref:n,onPress:function(c){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.heads]},children:j.jsx(b("MWTooltipGroup.react"),{children:l(c,m)})})}})]})}c=5;d=a;f.styles=k;f.maxNumberOfHeads=c;f.getImageRow=l;f.make=d}),null);
__d("MWV2MessageEndOfGroupContent.bs",["MWPMessageListColumn.bs","MWV2ChatSeenHeadsRow.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.seenHeads;return h.jsx(h.Fragment,{children:a.length!==0?h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:a})}):null})}c=a;f.make=c}),null);
__d("LsMessageRequestsActions.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13];f.none=a;f.accept=c;f.block=d;f.bulkAccept=e;f.bulkDelete=b;f.bulkMarkAsRead=g;f.bulkMarkAsUnread=h;f.cancel=i;f.$$delete=j;f.frx=k;f.leaveGroup=l;f.bulkEdit=m;f.bulkSelect=n;f.unignore=o}),null);
__d("MessageRequestsLog.bs",["LsMessageRequestsActions.bs","bs_caml_int64","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=(g=b("requireDeferred"))("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog.bs"),i=g("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog.bs"),j=g("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog.bs"),k=g("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog.bs"),l=g("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog.bs");function a(a,c,d){h.onReady(function(e){e.log(function(){return{thread:{id:a,type:c,folder:d},action:b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").none),request_id:void 0,extra_data_map:void 0}})})}function c(a,c,d){i.onReady(function(e){e.log(function(){return{thread:{id:a,type:c,folder:d},action:b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").none),request_id:void 0,extra_data_map:void 0}})})}function d(a,b,c,d){j.onReady(function(e){e.log(function(){return{thread:{id:a,type:b,folder:c},action:d,request_id:void 0,extra_data_map:void 0}})})}function e(a,b,c,d){k.onReady(function(e){e.log(function(){return{thread:{id:a,type:b,folder:c},action:d,request_id:void 0,extra_data_map:void 0}})})}function m(a,c){l.onReady(function(d){d.log(function(){return{entry_point:a,actioned_thread_count:0,actioned_unread_thread_count:0,action:b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").none),folder:c,request_id:void 0,actioned_thread_ids:void 0}})})}f.messageRequestsInfoBannerShownFalcoEventLogger=h;f.messageRequestsThreadDenialOptionsTappedFalcoEventLogger=i;f.messageRequestsThreadActionTappedFalcoEventLogger=j;f.messageRequestsThreadActionConfirmedFalcoEventLogger=k;f.messageRequestsViewThreadlistFalcoEventLogger=l;f.logMessageRequestInfoShown=a;f.logDenialOptionsTapped=c;f.logActionTapped=d;f.logActionConfirmed=e;f.logMessageRequestsView=m}),null);
__d("LSContactReachabilityStatusType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.reachable=a;f.unreachableUserType=c}),null);
__d("MWLSParticipantDetails.bs",["GenderConst","LSContactGender.bs","LSContactReachabilityStatusType.bs","LSMediaUrl.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_format","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.name})},[a,c])}function c(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var b=a.firstName;if(b!==void 0)return b;else return a.name})},[a,c])}function d(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.secondaryName})},[a,c])}function e(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var c=a.firstName;c=c!==void 0?c:a.name;a=a.gender;a=b("bs_caml").i64_eq(a,b("LSContactGender.bs").female)?b("GenderConst").FEMALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").male)?b("GenderConst").MALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter)?b("GenderConst").NEUTER_SINGULAR:b("GenderConst").NOT_A_PERSON;return[c,a]})},[a,c])}function i(a){var c=b("useReStore")();return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})},[a,c])),!0,function(a){a=a.contactReachabilityStatusType;if(a!==void 0)return b("bs_caml").i64_eq(b("LSContactReachabilityStatusType.bs").reachable,a);else return!0})}function j(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return b("LSMediaUrl.bs").Contact.profilePictureUrl(a)})},[a,c])}f.useParticipantName=a;f.useParticipantShortName=c;f.useParticipantSecondaryName=d;f.useNameAndGender=e;f.useParticipantReachabilityStatus=i;f.useParticipantProfilePictureUrl=j}),null);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.message;a=a.children;var d=i.useMemo(function(){var a=c.unsentTimestampMs,d=c.isUnsent;return a!==void 0&&d?i.jsxs("div",{children:[i.jsx("div",{children:g._(/*FBT_CALL*/"Sent: {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])}),i.jsx("div",{children:b("gkx")("1531920")?g._(/*FBT_CALL*/"Unsent: {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))]):g._(/*FBT_CALL*/"Removed: {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))])})]}):g._(/*FBT_CALL*/"{time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])},[c]);return i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"start",children:a})}c=a;f.make=c}),null);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:385","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var d=h.useMemo(function(){var a=b("qex")._("1546");a=a==null||a!=="dynamic"?32:b("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(c.hotEmojiSize);return b("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[c.hotEmojiSize]),e=c.text;if(e===void 0)return null;e=b("cr:385")==null?e:b("bs_curry")._1(b("cr:385").unvault,e);e=h.jsx(b("CometTextWithEntities.react"),{withParagraphs:!0,text:e,transforms:d});if(a)return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:e,shouldConnectTop:!1,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:!1,isOutgoing:!1});else return e}c=a;f.$MAWVault$requireCond=b("cr:385");f.make=c}),null);
__d("MWV2ChatUnsentMessage.bs",["fbt","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","bs_curry","cr:1284","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.attachment,d=a.isSecureThread;a=a.message;var e=g._(/*FBT_CALL*/"A contact unsent a message"/*FBT_CALL*/);a=b("cr:1284")==null?e:b("bs_curry")._1(b("cr:1284").useUnsendContentInSecureThread,a);if(d)d=a;else if(c!==void 0){a=c.descriptionText;d=a!==void 0?a:e}else d=e;return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:d,ariaLabel:d})}c={make:j};function k(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:g._(/*FBT_CALL*/"You unsent a message"/*FBT_CALL*/)}else a=g._(/*FBT_CALL*/"You unsent a message"/*FBT_CALL*/);return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:a,ariaLabel:a})}d={make:k};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;var e=b("useReStore")(),f=c.messageId,g=c.threadKey,h=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:g,tl:{hd:f,tl:0}})},[e,f,JSON.stringify(g)]));if(d)return i.jsx(k,{attachment:h});else return i.jsx(j,{attachment:h,isSecureThread:a,message:c})}e=a;f.$MAWMsg$requireCond=b("cr:1284");f.IncomingUnsentMessage=c;f.OutgoingUnsentMessage=d;f.make=e}),null);/*FB_PKG_DELIM*/
__d("LSPredefineTraceForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(2).fetch([[[a[1]]]]),function(b){var d=b.update;b.item;return d({dataTraceId:a[0],initTraceTimestampMs:c[0]})})},function(d){return b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],foregroundTimestampMs:[0,0],traceType:[0,1],shouldFlush:!1,contextOne:a[2],contextTwo:b.i64.to_string(a[1]),predefinedId:a[3]})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:[0,20]})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],[0,1]))}])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,[0,20])}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,[0,20])}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,[0,3],f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),[0,2],f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[10]=(d[2].push(a[7]),d[2]),c.i64.gt([0,0],[0,0])?d[3]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[3]=[0,0],c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],f,f,d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[4],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:[0,4],markThreadRead:!1,initiatingSource:a[9]})},function(b){return d[5]=c.createArray(),d[6]=(d[5].push("optimisticSendAttachmentForward"),d[5]),d[7]=(d[5].push(a[1]),d[5]),d[8]=(d[5].push(a[7]),d[5]),d[9]=c.toJSON(d[5]),function(a){c.logger(a).info(a)}(d[9])}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,[0,80])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],h.text,f,f,h.stickerId,h.hotEmojiSize,f,f,[0,3],f,d[2],f,!0).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[3]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[4],d[3],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[3],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.i64.gt([0,0],[0,0])?d[5]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[5]=[0,0],c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],f,f,d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[3],messageId:a[5],threadAttributionSource:a[6],sendType:[0,5],markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[3]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAppendDataTraceAddon.bs",["LS.bs","LSAppendDataTraceAddon","bs_belt_Option","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030"))return b("LSAppendDataTraceAddon")(d,e,f,b("bs_belt_Option").getWithDefault(g,""),b("bs_belt_Option").getWithDefault(h,""),b("LS.bs").make(a));else return window.Promise.resolve(void 0)}f.call=a}),null);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.bs","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.bs","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],[0,3],d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=[0,7]}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],[53057,267535043])&&c.i64.neq(a[7],[85970,924785702])&&c.i64.neq(a[7],[85970,1004785694])&&c.i64.neq(a[7],[85970,1044785690])?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],[0,1],f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=[0,2]}]):c.resolve(d[11]=[0,1])},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,(c.i64.eq(a[3],[0,2048])||c.i64.eq(a[3],[0,2049])?[0,9]:f)==null?[0,0]:c.i64.eq(a[3],[0,2048])||c.i64.eq(a[3],[0,2049])?[0,9]:f,[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string([0,46]),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.bs"),a[24],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string([0,1])),c.nop(b("LSLogEventAnnotate.bs"),[0,16],[0,23],[0,0],d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("LSMessagingThreadAttributionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,65536];b=[0,65537];var g=[0,65538],h=[0,65539],i=[0,65540],j=[0,65541],k=[0,65542],l=[0,65543],m=[0,65544],n=[0,65545],o=[0,65546],p=[0,65547],q=[0,131072],r=[0,131073],s=[0,131074],t=[0,131075],u=[0,196608],v=[0,196609],w=[0,196610],x=[0,196611],y=[0,196612],z=[0,262144],A=[0,262145],B=[0,262146],C=[0,262147],D=[0,262148],E=[0,262149],F=[0,327680],G=[0,327681],H=[0,327682],I=[0,393216],J=[0,393217],K=[0,393218],L=[0,393219],M=[0,393220],N=[0,393221],O=[0,393222],P=[0,393223],Q=[0,393224],R=[0,393225],S=[0,458752],T=[0,458753],U=[0,458754],V=[0,524288],W=[0,524289],X=[0,524290],Y=[0,524291],Z=[0,589824],$=[0,589825],aa=[0,589826],ba=[0,589827],ca=[0,589828],da=[0,655360],ea=[0,655361],fa=[0,720896],ga=[0,720897],ha=[0,786432],ia=[0,786433],ja=[0,786434],ka=[0,786435],la=[0,786436],ma=[0,786437],na=[0,851968],oa=[0,851969],pa=[0,851970],qa=[0,917504],ra=[0,917505],sa=[0,917506],ta=[0,917507],ua=[0,983040],va=[0,1048576],wa=[0,1048577],xa=[0,1048578],ya=[0,1114112],za=[0,1114113],Aa=[0,1114114],Ba=[0,1114115],Ca=[0,1114116],Da=[0,1114117],Ea=[0,1114118],Fa=[0,1179648],Ga=[0,1245184],Ha=[0,1245185],Ia=[0,1245186],Ja=[0,1310720],Ka=[0,1310721],La=[0,1310722],Ma=[0,1310723],Na=[0,1310724],Oa=[0,1310725],Pa=[0,1310726],Qa=[0,1310727],Ra=[0,1310728],Sa=[0,1376256],Ta=[0,1376257],Ua=[0,1376258],Va=[0,1441792],Wa=[0,1441793],Xa=[0,1441794],Ya=[0,1441795],Za=[0,1507328],$a=[0,1507329],ab=[0,1507330],bb=[0,1572864],cb=[0,1572865],db=[0,1572866],eb=[0,1572867],fb=[0,1572868],gb=[0,1572869],hb=[0,1572870],ib=[0,1638400],jb=[0,1638401],kb=[0,1638402],lb=[0,1703936],mb=[0,1703937],nb=[0,1703938],ob=[0,1769472],pb=[0,1769473],qb=[0,1835008],rb=[0,1835009],sb=[0,1835010],tb=[0,1835011],ub=[0,1835012],vb=[0,1900544],wb=[0,1900545],xb=[0,1966080],yb=[0,1966081],zb=[0,1966082],Ab=[0,1966083],Bb=[0,2031616],Cb=[0,2031617],Db=[0,2097152],Eb=[0,2097153],Fb=[0,2097154],Gb=[0,2097155],Hb=[0,2097156],Ib=[0,2162688],Jb=[0,2162689],Kb=[0,2162690],Lb=[0,2162691],Mb=[0,2228224],Nb=[0,2228225],Ob=[0,2228226],Pb=[0,2228227],Qb=[0,2293760],Rb=[0,2293761],Sb=[0,2359296],Tb=[0,2359297],Ub=[0,2424832],Vb=[0,2424833],Wb=[0,2424834],Xb=[0,2424835],Yb=[0,2424836],Zb=[0,2424837],$b=[0,2490368],ac=[0,2490369],bc=[0,2490370],cc=[0,2490371],dc=[0,2490372],ec=[0,2490373],fc=[0,2490374],gc=[0,2490375],hc=[0,2490376],ic=[0,2490377],jc=[0,2490378],kc=[0,2490379],lc=[0,2555904],mc=[0,2555905],nc=[0,2555906],oc=[0,2621440],pc=[0,2686976],qc=[0,2752512],rc=[0,2818048];f.unknown=a;f.unknownTest=c;f.unknownFailureRetry=d;f.messengerInbox=e;f.messengerInboxInThread=b;f.messengerInboxThreadList=g;f.messengerInboxNestedFolder=h;f.messengerInboxRecentThreads=i;f.messengerInboxRemainingThreads=j;f.messengerInboxMessageSearch=k;f.messengerInboxImageSending=l;f.messengerInboxForward=m;f.messengerInboxArchivedThreads=n;f.messengerInboxPendingRequests=o;f.messengerInboxActiveContacts=p;f.messengerUniversalSearch=q;f.messengerUniversalSearchNullState=r;f.messengerUniversalSearchKeyPressed=s;f.messengerUniversalSearchMessageSearch=t;f.montageAndActiveNow=u;f.montageAndActiveNowMontageInboxUnit=v;f.montageAndActiveNowActiveNow=w;f.montageAndActiveNowInboxComposer=x;f.montageAndActiveNowActiveAndHasStory=y;f.messengerActiveNowFriendsTab=z;f.messengerActiveNowFriendsTabFriendsTab=A;f.messengerActiveNowFriendsTabPlaceHolder=B;f.messengerActiveNowFriendsTabRecentActive=C;f.messengerActiveNowFriendsTabRecentActiveAndStory=D;f.messengerActiveNowFriendsTabContentDiscovery=E;f.messengerPendingRequests=F;f.messengerPendingRequestsInboxThreadList=G;f.messengerPendingRequestsPendingRequestsPage=H;f.messengerBroadcastFlow=I;f.messengerBroadcastFlowFromMessenger=J;f.messengerBroadcastFlowFromFb=K;f.messengerBroadcastFlowFromExternal=L;f.messengerBroadcastFlowFromFbNewsfeedSharesheet=M;f.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer=N;f.messengerBroadcastFlowFromFbShortsViewer=O;f.messengerBroadcastFlowForwardGutter=P;f.messengerBroadcastFlowForwardLongclick=Q;f.messengerBroadcastFlowMessengerPhotoView=R;f.messengerOmnipicker=S;f.messengerOmnipickerNullState=T;f.messengerOmnipickerKeyPressed=U;f.messengerNotification=V;f.messengerNotificationInThreadReply=W;f.messengerNotificationLongpressReply=X;f.messengerNotificationLongpressReaction=Y;f.clickToMessengerAd=Z;f.clickToMessengerAdFromNewsfeed=$;f.clickToMessengerAdSendMessageCta=aa;f.clickToMessengerAdViewAndMessage=ba;f.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta=ca;f.payments=da;f.paymentsBubbleClick=ea;f.rtc=fa;f.rtcVoipIncall=ga;f.fbPage=ha;f.fbPageAboutCard=ia;f.fbPageProfileHeaderMessageButton=ja;f.fbPageProfileFooterMessageButton=ka;f.fbPageProfileMoreDrawer=la;f.fbPageResponsivenessContextCard=ma;f.fbProfile=na;f.fbProfileTimelineMessageButton=oa;f.fbProfileFacebookProfile=pa;f.fbSearch=qa;f.fbSearchContextualProfileActionBarFromSearch=ra;f.fbSearchSearchMessageButton=sa;f.fbSearchFbMessageSearchResults=ta;f.crypto=ua;f.messengerMontageComposer=va;f.messengerMontageComposerFriendsTab=wa;f.messengerMontageComposerFriendsTabStoryAndActiveNow=xa;f.messengerMontageReply=ya;f.messengerMontageReplyInboxThreadListProfile=za;f.messengerMontageReplyReplyContext=Aa;f.messengerMontageReplyThreadNavBar=Ba;f.messengerMontageReplyInboxThreadListProfileAuthorProfile=Ca;f.messengerMontageReplyReplyContextAuthorProfile=Da;f.messengerMontageReplyThreadNavBarAuthorProfile=Ea;f.messengerThreadMembersList=Fa;f.marketplace=Ga;f.marketplaceActivityBanner=Ha;f.marketplaceSendMessage=Ia;f.fbStory=Ja;f.fbStoryViewerSheetMenu=Ka;f.fbStoryViewerSheetRow=La;f.fbStoryStoriesJewelNotification=Ma;f.fbStoryStoriesPushNotification=Na;f.fbStoryStoriesViewerConsumerReply=Oa;f.fbStoryStoriesViewerConsumerArtifact=Pa;f.fbStoryStoriesPageStoryConversations=Qa;f.fbStorySocialContextConversations=Ra;f.workspeed=Sa;f.workspeedComposerLikeButton=Ta;f.workspeedComposerGifPicker=Ua;f.mdotme=Va;f.mdotmeOrganicPost=Wa;f.mdotmeMarketingEmail=Xa;f.mdotmeMbsOffsiteEmail=Ya;f.customerChatPlugin=Za;f.customerChatPluginMobileRedirect=$a;f.customerChatPluginUpgradeFlow=ab;f.fbFeed=bb;f.fbFeedOrganicPost=cb;f.fbFeedOrganicPostViewAndMessage=db;f.fbFeedQuestionTriggeredConvo=eb;f.fbFeedDynamicHoverCard=fb;f.fbFeedOrganicPostNewsfeedPagePostCta=gb;f.fbFeedOrganicPostNewsfeedBumperSmcta=hb;f.fbNotification=ib;f.fbNotificationJewelNotif=jb;f.fbNotificationPushNotif=kb;f.fbEvent=lb;f.fbEventMessageHost=mb;f.fbEventShareClassMaterials=nb;f.supportResources=ob;f.supportResourcesFrxAction=pb;f.leadGenMessaging=qb;f.leadGenMessagingPreSubmission=rb;f.leadGenMessagingPostSubmission=sb;f.leadGenMessagingCrossChannelVerticalPresentAndroid=tb;f.leadGenMessagingCrossChannelHscrollAndroid=ub;f.messengerGraph=vb;f.messengerGraphSelectContact=wb;f.messengerChat=xb;f.messengerChatFromJewelThreadList=yb;f.messengerChatInThread=zb;f.messengerChatForward=Ab;f.messengerArchivedThreads=Bb;f.messengerArchivedThreadsArchivedThreadsFolder=Cb;f.jewel=Db;f.jewelThreadList=Eb;f.jewelSearch=Fb;f.jewelNewMessage=Gb;f.jewelNestedFolder=Hb;f.chatheads=Ib;f.chatheadsRecentThreads=Jb;f.chatheadsOverflow=Kb;f.chatheadsNewMessage=Lb;f.sidebar=Mb;f.sidebarContactsList=Nb;f.sidebarContactsSearch=Ob;f.sidebarContactsGroups=Pb;f.messengerCommunityMessaging=Qb;f.messengerCommunityMessagingCommunityChannel=Rb;f.fbPlatformLogin=Sb;f.fbPlatformLoginLoginConnectWithMessenger=Tb;f.contactManager=Ub;f.contactManagerContactShare=Vb;f.contactManagerPeopleTabContactList=Wb;f.contactManagerPeopleTabContactSearch=Xb;f.contactManagerIconContactList=Yb;f.contactManagerIconContactSearch=Zb;f.messagingInboxInBlue=$b;f.messagingInboxInBlueThreadList=ac;f.messagingInboxInBluePeoplePicker=bc;f.messagingInboxInBlueInboxIcon=cc;f.messagingInboxInBlueSwipeFromRight=dc;f.messagingInboxInBlueMibNotification=ec;f.messagingInboxInBlueActiveNow=fc;f.messagingInboxInBlueSuggestedChats=gc;f.messagingInboxInBlueChatPreviewBanner=hc;f.messagingInboxInBlueThreadViewCoreNullState=ic;f.messagingInboxInBlueMessageRequests=jc;f.messagingInboxInBlueSpam=kc;f.mibNotification=lc;f.mibNotificationPushNotification=mc;f.mibNotificationJewelNotification=nc;f.messengerRestrictedAccounts=oc;f.armadilloCutoverThreadLinkingMessage=pc;f.callsTab=qc;f.miniShopViewMenuButton=rc}),null);
__d("LSThreadAttributionTypeUtil.bs",["LSMessagingThreadAttributionType.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return b("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="inboxPendingRequests")return b("LSMessagingThreadAttributionType.bs").messengerInboxPendingRequests;else if(a==="sidebarGroupsList")return b("LSMessagingThreadAttributionType.bs").sidebarContactsGroups;else if(a==="jewel")return b("LSMessagingThreadAttributionType.bs").jewelThreadList;else if(a==="shop")return b("LSMessagingThreadAttributionType.bs").miniShopViewMenuButton;else if(a==="chatheadsOverflow")return b("LSMessagingThreadAttributionType.bs").chatheads;else if(a==="hovercard"||a==="feedDynamicHoverCard")return b("LSMessagingThreadAttributionType.bs").fbFeedDynamicHoverCard;else if(a==="search"||a==="messengerUniversalSearch")return b("LSMessagingThreadAttributionType.bs").messengerUniversalSearch;else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return b("LSMessagingThreadAttributionType.bs").fbStory;else if(a==="timeline"||a==="feedOrganicPost")return b("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="pageAboutCard")return b("LSMessagingThreadAttributionType.bs").fbPageAboutCard;else if(a==="inboxInThread")return b("LSMessagingThreadAttributionType.bs").messengerInboxInThread;else if(a==="notificationInThreadReply")return b("LSMessagingThreadAttributionType.bs").messengerNotificationInThreadReply;else if(a==="archieve")return b("LSMessagingThreadAttributionType.bs").messengerArchivedThreads;else if(a==="storyViewerSheetRow")return b("LSMessagingThreadAttributionType.bs").fbStoryViewerSheetRow;else if(a==="chatheadsNewMessage")return b("LSMessagingThreadAttributionType.bs").chatheadsNewMessage;else if(a==="event")return b("LSMessagingThreadAttributionType.bs").fbEvent;else if(a==="jewelSearch")return b("LSMessagingThreadAttributionType.bs").jewelSearch;else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return b("LSMessagingThreadAttributionType.bs").messengerInbox;else if(a==="jewelNewMessage")return b("LSMessagingThreadAttributionType.bs").jewelNewMessage;else if(a==="pendingRequests")return b("LSMessagingThreadAttributionType.bs").messengerPendingRequestsInboxThreadList;else if(a==="sidebarSearch")return b("LSMessagingThreadAttributionType.bs").sidebarContactsSearch;else if(a==="inboxRemainingThreads")return b("LSMessagingThreadAttributionType.bs").messengerInboxRemainingThreads;else if(a==="pagesHeader")return b("LSMessagingThreadAttributionType.bs").fbPageProfileHeaderMessageButton;else if(a==="inboxRecentThreads")return b("LSMessagingThreadAttributionType.bs").messengerInboxRecentThreads;else if(a==="chatheads")return b("LSMessagingThreadAttributionType.bs").chatheadsRecentThreads;else if(a==="pageResponsivenessCard")return b("LSMessagingThreadAttributionType.bs").fbPageResponsivenessContextCard;else if(a==="inboxSearch")return b("LSMessagingThreadAttributionType.bs").messengerInboxMessageSearch;else if(a==="jewelNestedFolder")return b("LSMessagingThreadAttributionType.bs").jewelNestedFolder;else if(a==="marketplace")return b("LSMessagingThreadAttributionType.bs").marketplaceSendMessage;else if(a==="feedOrganicPostViewAndMessage")return b("LSMessagingThreadAttributionType.bs").fbFeedOrganicPostViewAndMessage;else if(a==="adsCta")return b("LSMessagingThreadAttributionType.bs").clickToMessengerAdSendMessageCta;else if(a==="chatInThread")return b("LSMessagingThreadAttributionType.bs").messengerChatInThread;else if(a==="payments")return b("LSMessagingThreadAttributionType.bs").payments;else if(a==="inboxFolder")return b("LSMessagingThreadAttributionType.bs").messengerInboxNestedFolder;else if(a==="inboxArchived")return b("LSMessagingThreadAttributionType.bs").messengerInboxArchivedThreads;else if(a==="inboxActiveContacts")return b("LSMessagingThreadAttributionType.bs").messengerInboxActiveContacts;else if(a==="sidebarContactsList")return b("LSMessagingThreadAttributionType.bs").sidebarContactsList;else return b("LSMessagingThreadAttributionType.bs").unknown}f.toLSThreadAttribution=a}),null);
__d("LSMessagingInitiatingSource.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.facebookChat=a;f.facebookInbox=c;f.roomsSideChat=d}),null);
__d("LSMessagingInitiatingSourceHook.bs",["LSMessagingInitiatingSource.bs","MWLSThreadDisplayContext.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Option").map(b("MWLSThreadDisplayContext.bs").useHook(void 0),function(a){switch(a){case 0:return b("LSMessagingInitiatingSource.bs").facebookChat;case 1:return b("LSMessagingInitiatingSource.bs").facebookInbox;case 2:return b("LSMessagingInitiatingSource.bs").roomsSideChat}})}f.useHook=a}),null);
__d("MWLSSendMessageUtils.bs",["MWChatMessageId.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Option").flatMap(a,function(a){a=a.content;switch(a.TAG|0){case 0:case 1:case 2:return b("MWChatMessageId.bs").getMessageId(a._0.messageID)}})}f.getReplySourceId=a}),null);
__d("LSMessageReplySourceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.lightweightStatus=h}),null);
__d("LSMessageReplySourceTypeV2.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.storyBase64Encoded=h;f.lightweightStatus=i}),null);
__d("LsReplySentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743879");c=b("FalcoLoggerInternal").create("ls_reply_sent",a);e.exports=c}),null);
__d("MWLSLogSend.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","LsFalcoEventEntryPoint.bs","LsReplySentFalcoEvent","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f){var g=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,g);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));a.addMetadata("is_dual_send",f?"true":"false");return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}function h(a){if(a){b("LsReplySentFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}});return}}function a(a,b,c,d,e){h(d);return function(d){return g(a,b,c,e,d)}}f.logSentHeroInteraction=g;f.logSent=h;f.logSentWithHeroInteraction=a}),null);
__d("MWLSSendStickerMessage.bs",["LS.bs","LSDict","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSSendMessageUtils.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","bs_caml_format","bs_caml_int64","bs_caml_option","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=a!==void 0?a:"unknown",f=c!==void 0?b("bs_caml_option").valFromOption(c):void 0,g=b("useReStore")(),i=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(a){return function(c,d,h){var j=b("LSTransaction.bs").run(g,function(g){var j=b("MWThread_DEPRECATED.bs").toThreadKey(a),k=b("LSThreadAttributionStore.bs").getSource(e,b("bs_int64").to_string(j));k=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(k);return b("LSOptimisticSendMessage")(i,j,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,void 0,void 0,!1,b("bs_caml_format").caml_int64_of_string(c),void 0,void 0,void 0,k,void 0,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(d)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:h,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:b("bs_caml_int64").zero,preview_height:b("bs_caml_int64").zero}),f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LS.bs").make(g))},"readWrite");b("promiseDone")(j,function(a){return b("MWLSLogSend.bs").logSent(d!==void 0)},void 0)}},[g,i])}f.useSendStickerMessage=a}),null);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating.re","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!c("MWXacGating.re").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,c){var d=Date.now()|0;g.set(c,d);b("QPLUserFlow").start(a,{cancelOnUnload:!0,timeoutInMs:6e4,instanceKey:d})}function c(a,c,d){c=g.get(c);if(!(c==null)){b("QPLUserFlow").endFailure(a,d,{instanceKey:c});return}}function d(a,c){c=g.get(c);if(!(c==null)){b("QPLUserFlow").endSuccess(a,{instanceKey:c});return}}function e(a,c,d){c=g.get(c);if(!(c==null)){b("QPLUserFlow").addPoint(a,d,{instanceKey:c});return}}f.logStartUserFlow=a;f.logFailUserFlow=c;f.logSuccessUserFlow=d;f.logPointUserFlow=e}),null);
__d("MWLSForwardMessage.bs",["LS.bs","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","LSTransaction.bs","MWChatInteractionLog.bs","MWChatThreadId.bs","MWLSActor.bs","MWLSSendStickerMessage.bs","MWLSThreadDisplayContext.bs","MWThread_DEPRECATED.bs","ODS","ReQL.bs","ReQLSuspense","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","useReStore"],(function(a,b,c,d,e,f){"use strict";function g(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(a!==void 0)if(a===1)return b("LSMessagingThreadAttributionType.bs").messengerInboxForward;else if(a===0)return b("LSMessagingThreadAttributionType.bs").messengerChatForward;else return b("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow;else return b("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow}function a(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),f=g(void 0);a=b("MWLSThreadDisplayContext.bs").useHook(void 0);a=a!==void 0?a===1?"inboxInThread":a===0?"chatInThread":"unknown":"unknown";var h=b("MWLSSendStickerMessage.bs").useSendStickerMessage(a,b("bs_caml_option").some(e),void 0);return function(a,g){var i=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a),j=b("MWThread_DEPRECATED.bs").toThreadKey(a);if(typeof g==="number")return;if(g.TAG===0)return;g=g._0;var k=g.timestamp,l=g.messageId,m=g.threadId;g=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("messages")),{hd:m,tl:{hd:k,tl:{hd:l,tl:0}}}));var n=function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","forward"),b("MWChatInteractionLog.bs").logPointUserFlow(b("qpl")._(25298392,"4881"),l,"sending"),b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSOptimisticSendMessageForward")(d,j,i,m,k,l,f,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,b("LS.bs").make(a))},"readWrite"),function(a){b("ODS").bumpEntityKey(3185,"mw_forward","success");return b("MWChatInteractionLog.bs").logSuccessUserFlow(b("qpl")._(25298392,"4881"),l)},function(a){b("MWChatInteractionLog.bs").logFailUserFlow(b("qpl")._(25298392,"4881"),l,"ls_error"),b("ODS").bumpEntityKey(3185,"mw_forward","failure")})};if(g===void 0)return n(void 0);g=g.stickerId;if(g===void 0)return n(void 0);b("MWChatInteractionLog.bs").logPointUserFlow(b("qpl")._(25298392,"4881"),l,"sending");n=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:m,tl:{hd:l,tl:0}}));n=n!==void 0?b("LSMediaUrl.bs").Attachment.previewUrl(n):void 0;b("ODS").bumpEntityKey(3185,"mwchat_send","sticker");b("MWChatInteractionLog.bs").logSuccessUserFlow(b("qpl")._(25298392,"4881"),l);return b("bs_curry")._4(h,a,b("bs_int64").to_string(g),void 0,n)}}function c(){var a=b("useReStore")(),c=b("MWLSActor.bs").useActor(void 0),d=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),e=g(void 0);return function(f,g,h){b("ODS").bumpEntityKey(3185,"mwchat_send","forward");h!==void 0&&b("MWChatInteractionLog.bs").logPointUserFlow(b("qpl")._(25298392,"4881"),h,"sending");var i=b("LSMessagingThreadTypeUtil.bs").ofThreadId(f),j=b("MWThread_DEPRECATED.bs").toThreadKey(f);b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticSendAttachmentForward")(c,j,i,void 0,void 0,void 0,void 0,b("bs_caml_format").caml_int64_of_string(g),e,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,b("LS.bs").make(a))},"readWrite"),function(a){b("ODS").bumpEntityKey(3185,"mw_forward","success");if(h!==void 0)return b("MWChatInteractionLog.bs").logSuccessUserFlow(b("qpl")._(25298392,"4881"),h)},function(a){h!==void 0&&b("MWChatInteractionLog.bs").logFailUserFlow(b("qpl")._(25298392,"4881"),h,"ls_error"),b("ODS").bumpEntityKey(3185,"mw_forward","failure")})}}d=b("MWChatThreadId.bs").getFBID;f.useForwardMessage=a;f.useForwardAttachment=c;f.targetIdString=d}),null);
__d("MWChatInteractionLog.re",["MWChatInteractionLog.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MWChatInteractionLog.bs").logStartUserFlow,a,c);return a};f.logStartUserFlow=a}),null);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MWChatInteractionLog.re","MWChatMessageId.re","qpl","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.forwardDialogType,e=a.messageID,f=a.onClose,g=a.onSend;a=i(null);var j=c("useCometEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),k=j[0];j=h(function(){var a=d("MWChatMessageId.re").getMessageId(e);a!=null&&d("MWChatInteractionLog.re").logStartUserFlow(c("qpl")._(25298392,"4881"),a);k({forwardDialogType:b,messageID:e,onSend:g},f)},[g,k,e,f,b]);return{onClick:j,triggerRef:a}}g["default"]=a}),98);
__d("StylexHelpers.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";var g;(g||(g=b("stylex"))).inject(".spvqvc9t{clip:rect(0,0,0,0)}",1);g.inject(".ikw5e13s{clip-path:inset(50%)}",1);g.inject(".ebnioo9u{height:1px}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".s8sjc6am{position:absolute}",1);g.inject(".rfd0zzc9{width:1px}",1);a={visuallyHidden:{clip:"spvqvc9t",clipPath:"ikw5e13s",height:"ebnioo9u",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"s8sjc6am",width:"rfd0zzc9"}};f.styles=a}),null);/*FB_PKG_DELIM*/
__d("BaseSubscriptionTokenizer.react",["CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a){var b=a.autoFocus;b=b===void 0?!1:b;var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.decorators,g=f===void 0?[]:f;f=a.inputRef;var j=a.emptyEntries_DO_NOT_USE,k=a.id,l=a.isDisabled;l=l===void 0?!1:l;var m=a.label;m=m===void 0?"":m;var n=a.loggingContext,o=a.onAddToken;o=o===void 0?c("emptyFunction"):o;var p=a.onBlur;p=p===void 0?c("emptyFunction"):p;var q=a.onChangeTokens,r=a.onClose,s=a.onEscape;s=s===void 0?c("emptyFunction"):s;var t=a.onFocus;t=t===void 0?c("emptyFunction"):t;var u=a.onOpen,v=a.onRemoveToken;v=v===void 0?c("emptyFunction"):v;var w=a.onSearchCompletion;w=w===void 0?c("emptyFunction"):w;var x=a.placeholder;x=x===void 0?"":x;var y=a.testid;y=y===void 0?"":y;y=a.tokensStrategyRenderer;var z=a.tokens,A=a.viewRole;A=A===void 0?"listbox":A;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","dataSource","dataSourceFetchConfigParams","decorators","inputRef","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var B=c("useCometUniqueID")(),C=c("useStable")(function(){var a=c("CometTokenizerInternal.react");g.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});m=m||x;return h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:j,onClose:r,onOpen:u,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:d,dataSourceFetchConfigParams:e,loggingContext:n,children:h.jsx(C,babelHelpers["extends"]({},a,{autoFocus:b,commandConfigs:i,id:(j=k)!=null?j:B,inputRef:f,isDisabled:l,label:m,onBackspace:c("emptyFunction"),onBlur:p,onChangeEntries:q,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:s,onFocus:t,onHighlightEntry:c("emptyFunction"),onPressEntry:o,onRemoveEntry:v,onSearchCompletion:w,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:x,selectedEntries:z,testid:void 0,tokensStrategyRenderer:y,viewRole:A}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputXStyle:{paddingBottom:"osnr6wyh"}};function a(a,b){var d=j(function(){return{xstyle:k.inputXStyle}},[]),e=c("useCometUniqueID")();return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),i.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._(/*FBT_CALL*/"Search by name or group"/*FBT_CALL*/)})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]),k=e==null?void 0:e.getIsViewItemDisabled,l=(a=e==null?void 0:e.hasReachedGroupLimit)!=null?a:!1,m=(a=e==null?void 0:e.hasReachedGxacGroupLimit)!=null?a:!1,n=i(function(a){return l||(k?k(a):!1)||m&&a.rawData.isInstagramAccount},[k,l,m]);return h.jsxs(h.Fragment,{children:[g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:b,isActive:d,isDisabled:n(b),key:b.key,role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating.re","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes.re","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useReStore","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,m=g===void 0?!0:g;g=a.isDisabled;var n=a.layoutStategyRenderer,o=a.onAddToken,p=a.onChangeTokens,q=a.onSearchAbandon,r=a.onSearchCompletion,s=a.supportedSearchTypes,t=s===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:s;s=a.tokenItemRenderer;var u=a.tokens,v=a.xstyles;a=a.isSecure;var w=l(""),x=w[0];w=w[1];var y=c("useReStore")(),z=a?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.omnipickerArmadillo:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal,A=j(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:y,excludedIDs:b,includeRecommendations:m,lightspeedSupportedTypes:t,source:z})},[y,b,m,t,z]);a=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withMWChatEscapeDecorator"),params:{onSearchAbandon:q}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:A}}});q=k(null);var B=q.current;i(function(){B&&B.focus()},[B,u]);i(function(){A.setTokens(u)},[A,u]);i(function(){A.setExcludedIds(b||[])},[A,b]);s=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:s});var C=j(function(){return{getIsViewItemDisabled:f}},[f]);return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:A,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:a,extraLayoutProps:e,extraViewProps:C,inputRef:q,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:n,loggingContext:"messenger_chat",onAddToken:o,onChange:w,onChangeTokens:p,onSearchCompletion:r,queryString:x,testid:void 0,tokens:u,tokensStrategyRenderer:s,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatLightSpeedSearchTypeahead.react");f.make=a}),null);
__d("MWLightSpeedChatContactsTabs.bs",["fbt","CometTabs.react","gkx","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",flexDirection:"cbu4d94t",maxHeight:"nwf6jgls"},tab:{display:"j83agx80",flexGrow:"buofh1pr",justifyContent:"taijpn5t",width:"kmruvjm7"},tabsContainer:{boxShadow:"flhsghwj"},thinTab:{width:"cmkr7hnq"}};function a(a){a=a.children;var c=[{label:g._(/*FBT_CALL*/"Suggested"/*FBT_CALL*/),selected:!0,onPress:function(a){},xstyle:[k.tab,b("qex")._("1499")===!0?k.thinTab:!1],underlineColor:"var(--accent)"}];return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[b("gkx")("4671")?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.tabsContainer),children:j.jsx(b("CometTabs.react"),{tabs:c})}),a]})}c=a;f.styles=k;f.make=c}),null);
__d("MWLightSpeedChatTabSuggestedContacts.bs",["ActorHovercard.react","CometMiddot.react","CometScrollableArea.react","ImmutableArray.bs","MDSText.react","MWThreadAddOnPrimary.bs","TetraListCell.react","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contactsList:{paddingTop:"cxgpxx05"}};function a(a){var c=a.tokens,d=a.setTokens;return h.jsx(b("CometScrollableArea.react"),{horizontal:!0,xstyle:i.contactsList,children:h.jsx("ul",{children:c.map(function(a){var c=a.rawData,e=c.id,f=c.displayName,g=c.imageUrl,i=b("MWThreadAddOnPrimary.bs").get(b("ImmutableArray.bs").fromArray([g]),void 0,!1,"circle",36,void 0);g=c.subtext;c=c.isInstagramAccount===!0;var j=c&&g!==""?b("bs_caml_option").some(h.jsxs(b("MDSText.react"),{type:"meta4",numberOfLines:1,children:[g,h.jsx(b("CometMiddot.react"),{}),"Instagram"]})):void 0;return h.jsx("li",{children:h.jsx(b("ActorHovercard.react"),{actorID:e,position:"start",children:function(c){c={headline:f,level:4,onPress:function(c){return b("bs_curry")._1(d,function(b){return[a]})},selected:!1,disabled:!1,testid:"chat_tab_suggested_contact_"+e,ref:c};i!==void 0&&(c.addOnPrimary=b("bs_caml_option").valFromOption(i));j!==void 0&&(c.meta=b("bs_caml_option").valFromOption(j));return h.jsx(b("TetraListCell.react"),c)}})},e)})})})}c=a;f.styles=i;f.make=c}),null);
__d("MWLightSpeedChatTabContactsContainer.bs",["MNetRankType.bs","MWChatSearchFetchContactRecommendations.bs","MWLightSpeedChatContactsTabs.bs","MWLightSpeedChatTabSuggestedContacts.bs","createMWChatSearchTypeaheadDataEntry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.isSearchView;a=a.setTokens;var d=b("MWChatSearchFetchContactRecommendations.bs").useHook(b("MNetRankType.bs").messengerUserSearchNullstate,void 0),e=h.useMemo(function(){return d.map(function(a){return b("createMWChatSearchTypeaheadDataEntry")(a[0])})},[d]);if(c)return null;else return h.jsx(b("MWLightSpeedChatContactsTabs.bs").make,{children:h.jsx(b("MWLightSpeedChatTabSuggestedContacts.bs").make,{tokens:e,setTokens:a})})}c=a;f.make=c}),null);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["MWInteropTokenUtils.bs","bs_curry","cr:1573","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForNewThread;function a(a,c){var d=h.useMemo(function(){return[a.some(b("MWInteropTokenUtils.bs").isInterop),a.some(function(a){return!b("MWInteropTokenUtils.bs").isGxacEligible(a)})]},[a]),e=d[1],f=d[0];d=b("bs_curry")._2(i,a,c);var g=d[1],j=d[0];return h.useCallback(function(a){var d=b("MWInteropTokenUtils.bs").isInterop(a),h=!b("MWInteropTokenUtils.bs").isGxacEligible(a);a=!b("MWInteropTokenUtils.bs").isInteropEligible(a);if(j||d&&g||d&&c||e&&d||f&&h)return!0;else if(d)return a;else return!1},[f,e,c,j,g])}f.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");f.useIsDisabled=a}),null);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"cwj9ozl2",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr"},viewHidden:{pointerEvents:"hzruof5a",visibility:"kr9hpln1"}};function a(a){var b=a.commandConfigs,d=a.extraLayoutProps,e=d.afterViewContent,f=d.ariaProps,g=f.ariaDescribedByProps,j=f.ariaInputProps,k=f.ariaViewProps;f=d.beforeViewContent;var l=d.helperTextComponent,m=d.isLoading;d=d.isOpened;var n=a.description,o=a.errorMessage,p=a.inputStrategyRenderer,q=a.inputRef,r=a.isDisabled,s=a.label,t=a.onBackspace,u=a.onBlur,v=a.onChange,w=a.onDownArrow,x=a.onEnter,y=a.onEscape,z=a.onFocus,A=a.onShiftTab,B=a.onTab,C=a.onUpArrow,D=a.queryString,E=a.selectedEntries,F=a.tokensStrategyRenderer,G=a.viewStrategyRenderer,H=a.xstyles;H=H===void 0?{}:H;var I=a.extraViewProps,J=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","description","errorMessage","inputStrategyRenderer","inputRef","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles","extraViewProps"]);a=c("useCometInternalTypeaheadState")();var K=a.activeEntries,L=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:d,xstyles:H});H=a.inputXStyle;var M=a.layoutXStyle,N=a.viewXStyle_DO_NOT_USE,O=c("useCometTypeaheadKeyboardForScrollableArea")(L),P=c("cometHandleHighlightDropOnMouseLeave")(J.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(M),children:[h.jsx("div",{className:c("stylex")(H),onClick:J.onClick,role:"presentation",children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:b,onBackspace:t,onBlur:u,onChange:v,onClick:c("emptyFunction"),onDownArrow:w,onEnter:x,onEscape:y,onFocus:z,onShiftTab:A,onTab:B,onUpArrow:C,ref:q,children:function(a,b){return h.jsx(p,babelHelpers["extends"]({description:n},b,{ariaProps:j,autoFocus:J.autoFocus,errorMessage:o,id:J.id,inputEndContent:J.inputEndContent,inputExtraProps:J.inputExtraProps,inputStartContent:h.jsx(F,{isDisabled:r,onPress:J.onRemoveEntry,tokens:E}),isDisabled:r,label:s,placeholder:E.length>0?null:J.placeholder,queryString:D,ref:a,testid:void 0}))}})}),l!=null&&h.jsx("div",babelHelpers["extends"]({},g,{children:l})),f,d&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:J.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")([i.view,N,K.length===0&&!m&&i.viewHidden]),onMouseLeave:P,ref:a,children:h.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:O,children:h.jsx(G,{ariaProps:k,entries:K,extraViewProps:I,highlightedEntry:L,isLoading:m,onHighlightEntry:J.onHighlightEntry,onPressEntry:J.onPressEntry,queryString:D})})})}}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.inputRef,g=a.label,j=a.onBackspace,k=a.onBlur,l=a.onChange,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onRemoveEntry,t=a.onUpArrow,u=a.viewRole,v=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","inputRef","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]);var w=c("useCometInternalTypeaheadFetch")();w=w.isLoading;var x=c("useCometInternalTypeaheadState")(),y=x.activeEntries;x=x.highlightedEntry;var z=c("useCometInternalTypeaheadStateDispatcher")(),A=z.dispatchIsOpened;i(function(){A(!0)},[A]);z=c("useCometTypeaheadInputRefs")(f);f=z.composedRef;z=z.inputRef;z=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({inputRef:z,onBackspace:j,onBlur:k,onChange:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onRemoveEntry:s,onUpArrow:t,selectedEntries:v});j=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:y,helperText:e,highlightedEntry:x,inputLabel:g,isOpened:!0,viewRole:u});return h.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,z,{extraLayoutProps:{afterViewContent:d,ariaProps:j,beforeViewContent:b,helperTextComponent:e!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:e}):null,isLoading:w,isOpened:!0},inputRef:f,label:g,selectedEntries:v,viewRole:u}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={layout:{width:"jbcpqwzg"},layoutContainer:{borderBottom:"s1tcr66n",display:"j83agx80"},root:{position:"l9j0dhe7"},to:{color:"oo9gr5id",fontSize:"jq4qci2q",fontWeight:"knj5qynh",lineHeight:"a3bd9o3v",marginStart:"dhix69tm",marginTop:"aov4n071",zIndex:"s90hwng2"},typeaheadInput:{backgroundColor:"nred35xi",boxSizing:"rq0escxv",display:"a8c37x1j",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},view:{backgroundColor:"nred35xi",height:"mbhqdu15",maxHeight:"oxtv4ib6",position:"pmk7jnqg",start:"feeahcbg",top:"i42f9fw1",width:"jbcpqwzg",zIndex:"kavbgo14","@media (min-height: 1280px)":{height:"h4lgqe89"}}};function a(){return function(a){var b=a.xstyles;b=b===void 0?{}:b;var d=b.viewXStyle_DO_NOT_USE;b=babelHelpers.objectWithoutPropertiesLoose(a,["xstyles"]);a=j(function(){return{inputXStyle:[k.typeaheadInput],layoutXStyle:[k.layout],viewXStyle_DO_NOT_USE:[k.view,d]}},[d]);return i.jsxs("div",{className:c("stylex")(k.root),children:[i.jsxs("div",{className:c("stylex")(k.layoutContainer),children:[i.jsx("div",{"aria-hidden":"true",className:c("stylex")(k.to),children:h._(/*FBT_CALL*/"To:"/*FBT_CALL*/)}),i.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},b,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._(/*FBT_CALL*/"Send message to"/*FBT_CALL*/),layerContext:"root",xstyles:a}))]}),(a=b.extraLayoutProps)==null?void 0:a.footer]})}}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),98);
__d("MWV2ComposeTabHeader.bs",["fbt","MDSText.react","MWPThreadTheme.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2IsTabFocusedContext.bs","UseMWV2CloseTab.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={title:{paddingStart:"h4z51re5"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.title),children:j.jsx(b("MDSText.react"),{type:"headline4",children:g._(/*FBT_CALL*/"New message"/*FBT_CALL*/)})})}c={make:l};function a(a){var c=a.tab;a=a.thread;var d=b("UseMWV2CloseTab.bs").useHook(a,c);a=b("MWV2IsTabFocusedContext.bs").useContext(void 0);c=b("MWPThreadTheme.bs").useTop(void 0);a=a?c:"#BEC2C9";return j.jsx(b("MWV2HeaderContainer.bs").make,{startContent:j.jsx(l,{}),endContent:j.jsx(b("MWV2HeaderCloseButton.bs").make,{onPress:function(a){return b("bs_curry")._1(d,void 0)},color:a,label:g._(/*FBT_CALL*/"Close tab"/*FBT_CALL*/)}),divider:!1})}d=a;f.styles=k;f.ComposeTabTitle=c;f.make=d}),null);
__d("MWV2NewThreadUtils.bs",["FBID.bs","LSContactBlockedByViewerStatus.bs","LSDatabaseType.bs","LSSearchType.bs","MWInteropTokenUtils.bs","MWLSActor.bs","MWLSDatabaseLazySync.bs","MessagingThreadType.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml_format","bs_curry","bs_int64","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(a==="group")return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").SEARCH_CLICK_RESULT,thread_fbid:c}});else if(a==="messages"||a==="message"){b("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").SEARCH_CLICK_RESULT,other_user_fbid:c}})}function a(a){var c=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking);h.useEffect(function(){b("bs_curry")._1(c,void 0)},[c])}var j=[];function c(a,c){var d=h.useState(function(){return a}),e=d[1];d=d[0];var f=b("MWLSActor.bs").useActor(void 0),g=h.useMemo(function(){return[b("FBID.bs").ofStringExn(b("bs_int64").to_string(f))]},[f]),i=h.useCallback(function(a){return b("bs_curry")._1(e,function(c){return a.filter(function(a){if(a.rawData.id!==b("FBID.bs").ofStringExn(b("bs_int64").to_string(f)))return!b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a);else return!1})})},[e,f]);return[d,i,c||d.length>0?g:j]}function d(a,c){return h.useMemo(function(){return a.filter(function(a){return!b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)}).map(function(a){a=a.rawData;var d=a.resultType,e=a.isInstagramAccount===!0,f=a.isContact,g;if(e)g=f?b("LSSearchType.bs").igContactFollowing:b("LSSearchType.bs").igNoncontactFollowing;else{e=0;f?d==="user"?g=b("LSSearchType.bs").contact:e=1:d==="user"?g=b("LSSearchType.bs").noncontact:e=1;e===1&&(d==="page"?g=b("LSSearchType.bs").page:d==="group"?g=b("LSSearchType.bs").group:(b("recoverableViolation")("Had troubles converting search result to token.\n              Is Contact: "+(f?"true":"false")+"\n              Token Type: "+d,"messenger_web_product"),g=b("LSSearchType.bs").noncontact))}e=a.verificationStatus;return{id:b("bs_caml_format").caml_int64_of_string(a.id),type_:g,threadType:d==="user"?c?b("MessagingThreadType.bs").secureMessageOverWaOneToOne:b("MessagingThreadType.bs").oneToOne:d==="group"?b("MessagingThreadType.bs").group:b("MessagingThreadType.bs").oneToOne,displayName:a.displayName,profilePicUrl:a.imageUrl,secondaryProfilePicUrl:a.secondaryImageUrl,contextLine:a.subtext,blockedByViewerStatus:b("LSContactBlockedByViewerStatus.bs").unblocked,isVerified:e!==void 0?e==="NOT_VERIFIED"?!1:!0:void 0,isInteropEligible:a.isInteropEligible}})},[a,c])}function e(a,c,d){var e=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(f){var g=f.rawData,h=g.id;g=g.resultType;var j=function(a){b("bs_curry")._1(c,function(a){return!0});return b("bs_curry")._1(d,{threadKey:b("bs_caml_format").caml_int64_of_string(h),clientThreadKey:void 0,threadType:a})};a||i(g,h);f=b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(f);if(g==="user")if(b("bs_int64").to_string(e)===h||f)return j(b("MessagingThreadType.bs").oneToOne);else return;else if(g==="group")return j(b("MessagingThreadType.bs").group);else if(g==="messages"||g==="message"){b("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return j(a?b("MessagingThreadType.bs").secureMessageOverWaOneToOne:b("MessagingThreadType.bs").oneToOne)},[a,c,e])}f.logTokenClick=i;f.useSyncRanking=a;f.noExcludedTokens=j;f.useTokens=c;f.useTokensShimmed=d;f.useOnAddToken=e}),null);
__d("MWV2ComposeTab.bs",["BootloaderResource","CometPlaceholder.react","CometProgressRingIndeterminate.react","JSResource","MAWGating.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabsTokenizerLayoutInlineStrategy.react","MWChatTemporarySearchResult.bs","MWChatTokenizerTokenStrategy.react","MWInteropTokenUtils.bs","MWLightSpeedChatTabContactsContainer.bs","MWPThreadTheme.bs","MWSearchTypeaheadViewItemDisabledHook.bs","MWV2ChatTabComposer.bs","MWV2ComposeTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2FileDropzone.bs","MWV2NewThreadUtils.bs","MWV2ReplyContext.bs","MWV2TabContainer.bs","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:11268","createMWChatSearchTypeaheadDataEntry","gkx","react","stylex","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("JSResource")("MWV2ThreadPreview.bs").__setRef("MWV2ComposeTab.bs");function k(a,c,d,e,f,g,h){h={tokens:a,areWeCreatingASecureThread:c,setTokens:d,setPreviewThread:e,children:g};f!==void 0&&(h.nullstate=b("bs_caml_option").valFromOption(f));return h}function l(a){return i.createElement(b("BootloaderResource").read(j).make,a)}c={reasonResource:j,makeProps:k,make:l};var m={toggleContainer:{boxShadow:"rlauoc8d",paddingTop:"l29c1vbm",paddingBottom:"j7796vcc",paddingStart:"dati1w0a",paddingEnd:"hv4rvrfc"},encapsulateZIndex:{zIndex:"du4w35lb",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m"},preview:{zIndex:"tkr6xdv7",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",position:"l9j0dhe7",minHeight:"tgvbjcpo"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"}};function n(a){return b("createMWChatSearchTypeaheadDataEntry")(b("MWChatTemporarySearchResult.bs").fromContact(void 0,a,void 0,void 0))}function o(a){var c=a.length,d=b("usePrevious")(c);a=i.useContext(b("MWV2ReplyContext.bs").context);var e=a.clearReply;i.useEffect(function(){!(d==null)&&c!==d&&b("bs_curry")._2(e,b("bs_caml_int64").zero,!0)},[c,d,e])}function a(a){var c,d=a.tab;a=a.initialTokens;(c=b("MWV2NewThreadUtils.bs")).useSyncRanking(void 0);var e=i.useState(function(){}),f=e[0],g=i.useState(function(){if(b("gkx")("2761"))return b("MAWGating.bs").isArmadillo(void 0);else return!1}),j=g[1],p=g[0];g=a.map(n);a=c.useTokens(g,p);var q=a[1],r=a[0];g=c.useTokensShimmed(r,p);o(r);var s=i.useState(function(){return!1}),t=s[1],u=b("MWChatStateV2.bs").useDispatch(void 0),v=function(a){return b("bs_curry")._1(u,b("MWChatStateActions.bs").lockInTab(Date.now(),d.tabId,a))};c=c.useOnAddToken(p,t,v);v=i.useCallback(function(a){return b("bs_curry")._1(t,function(a){return!0})},[t]);var w=i.useMemo(function(){return b("MWChatTabsTokenizerLayoutInlineStrategy.react").createMWChatTabsTokenizerLayoutInlineStrategy(!0)},[]),x=b("MWSearchTypeaheadViewItemDisabledHook.bs").useIsDisabled(r,p),y=i.useMemo(function(){return r.some(b("MWInteropTokenUtils.bs").isInterop)},[r]),z=i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWLightSpeedChatTabContactsContainer.bs").make,{isSearchView:!1,setTokens:function(a){return b("bs_curry")._1(q,b("bs_curry")._1(a,[]))}}),fallback:i.jsx("div",{className:(h||(h=b("stylex")))(m.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}),A=i.useMemo(function(){return{footer:b("cr:11268")==null?null:i.jsx("div",{className:(h||(h=b("stylex")))(m.toggleContainer),children:i.jsx(b("cr:11268").make,{setAreWeCreatingASecureThread:j,areWeCreatingASecureThread:p,stretch:!0,disabled:y})})}},[p,j,y]),B={tab:d};f!==void 0&&(B.thread=b("bs_caml_option").valFromOption(f));if(f!==void 0){var C=f.clientThreadKey;C=b("bs_int64").to_string(C!==void 0?C:f.threadKey);v=i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWPThreadTheme.bs").make,{themeFbid:f.themeFbid,children:i.jsx(b("MWV2ChatTabComposer.bs").make,{thread:f,tab:d,isPreviewThread:!0,secureThreadToggle:p,afterSendMessage:v},C)}),fallback:null})}else v=null;C={tab:d,children:i.jsxs("div",{className:h(m.encapsulateZIndex),children:[i.jsx(b("MWV2ComposeTabHeader.bs").make,B),i.jsxs(b("MWV2FileDropzone.bs").make,{children:[i.jsx(b("MWChatLightSpeedSearchTypeahead.bs").make,{isDisabled:s[0],isSecure:p,getIsViewItemDisabled:x,onAddToken:c,onChangeTokens:q,onSearchAbandon:function(a){},onSearchCompletion:function(a){},tokens:r,includeRecommendations:!1,excludedIDs:a[2],tokenItemRenderer:b("MWChatTokenizerTokenStrategy.react"),layoutStategyRenderer:w,extraLayoutProps:A}),i.jsx("div",{className:h(m.preview),children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(l,k(g,p,q,e[1],b("bs_caml_option").some(z),v,void 0)),fallback:null})})],isMediaOnly:y})]})};f!==void 0&&(C.thread=b("bs_caml_option").valFromOption(f));return i.jsx(b("MWV2ComposerHasContentContext.bs").make,{children:i.jsx(b("MWV2TabContainer.bs").make,C)})}d=a;f.LazyMWV2ThreadPreview=c;f.styles=m;f.$MAWSecureThreadToggle$requireCond=b("cr:11268");f.make=d}),null);/*FB_PKG_DELIM*/
__d("CometToken.react",["fbt","ix","CometIcon.react","CometPressable.react","CometProfilePhoto.react","TetraText.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={"default":{backgroundColor:"oo1teu6h"},pressable:{appearance:"dwo3fsh8",backgroundColor:"g5ia77u1",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"rt8b4zig",borderEndWidth:"n8ej3o3l",borderBottomWidth:"agehan2d",borderStartWidth:"sk4xxmp2",boxSizing:"rq0escxv",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",position:"l9j0dhe7",textAlign:"i1ao9s8h",zIndex:"du4w35lb"},readonly:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},root:{alignItems:"bp9cbjyn",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"pq6dq46d",paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5"},shrinkVerticalPadding:{paddingBottom:"iuny7tx3",paddingTop:"ipjc6fyt"},shrinkVerticalPaddingLevel4:{paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},spacing:{marginEnd:"oi9244e8"},suggested:{backgroundColor:"tdjehn4e"}};function a(a){var b=a.addOn,e=a.addOnSecondary,f=a.disabled,g=a.level;g=g===void 0?3:g;var l=a.onPress,m=a.text;a=a.type;var n=a==="add"||a==="readonly"?"primary":"highlight",o=null,p=null,q=!1,r=!1,s=g===3?"body3":"body4";if(b){switch(b.type){case"text":o=j.jsx(c("TetraText.react"),{color:n,type:s,children:b.value});break;case"profile-photo":g===4?r=!0:q=!0;o=j.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:g===3?24:20,source:{uri:b.source}});break;case"icon":g===4?r=!0:q=!0;o=j.jsx(c("CometIcon.react"),{color:n,icon:b.icon});break}o=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:o})}if(e){switch(e.type){case"text":p=j.jsx(c("TetraText.react"),{color:n,type:s,children:e.value});break}p=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:p})}s=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(a!=="readonly"&&k.spacing),children:j.jsx(c("TetraText.react"),{color:n,type:g===3?"bodyLink3":"bodyLink4",children:m})});n=(b==null?void 0:b.type)==="text"?b.value:null;g=(e==null?void 0:e.type)==="text"?e.value:null;b=j.jsxs("div",{className:c("stylex")(k.root,a!=="add"&&a!=="readonly"&&k["default"],a==="readonly"&&k.readonly,(a==="add"||a==="readonly")&&k.suggested,r&&k.shrinkVerticalPaddingLevel4,q&&k.shrinkVerticalPadding),children:[o,s,p,a==="add"?j.jsx(c("CometIcon.react"),{alt:h._(/*FBT_CALL*/"Add"/*FBT_CALL*/),icon:d("fbicon")._(i("483767"),12)}):a!=="readonly"?j.jsx(c("CometIcon.react"),{"aria-label":h._(/*FBT_CALL*/"Remove {prefix} {token_text} {add_on_secondary}"/*FBT_CALL*/,[h._param("prefix",n),h._param("token_text",m),h._param("add_on_secondary",g)]),color:"highlight",disabled:f,hideHoverOverlay:r,icon:d("fbicon")._(i("478231"),12),onPress:l,testid:void 0}):null]});return a==="add"?j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:l,xstyle:k.pressable,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withMWChatEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return function(b){var d=b.onChange,e=b.onEscape,f=b.queryString,g=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var j=i(function(){f!==""?d(""):g.length===0&&(c&&c()),e&&e()},[f,g.length,e,d]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:d,onEscape:j,queryString:f,selectedEntries:g}))}}g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var d=b.dataSource;return function(b){var e=b.onChangeEntries,f=b.onPressEntry,g=b.onRemoveEntry,k=b.onSearchCompletion,l=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);j(function(){return d.setTokens(l)},[]);var m=i(function(a){var b=a.rawData.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(l,[a]);d.setTokens(b);e(b)}f&&f(a)},[e,f,l]),n=i(function(a){var b;b=((b=l)!=null?b:[]).filter(function(b){return b.key!==a.key});e(b);d!=null&&d.setTokens(b);g&&g(a)},[e,g,l]),o=i(function(){d.setTokens([]),k&&k()},[k]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:e,onPressEntry:m,onRemoveEntry:n,onSearchCompletion:o,selectedEntries:l}))}}g["default"]=a}),98);
__d("CometTokenizerTokenStrategy.react",["CometToken.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,j=a.token;a=i(function(a){a.preventDefault(),g(j)},[g,j]);return h.jsx(c("CometToken.react"),{addOn:b,addOnSecondary:d,disabled:e,level:f,onPress:a,text:j.label,type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometInternalTypeaheadOnBlurLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onBlur,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&b.isSessionActive()&&(b.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnBlurLoggingHandler"),b.endSession()),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternal.react",["emptyFunction","react","useCometInternalTypeaheadFetchHandler","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnBlurLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.inputRef,d=a.layoutStrategyRenderer,e=a.loggingProvider,f=a.onBlur,g=a.onChange,j=a.onEnter,k=a.onFocus,l=a.onPressEntry,m=a.onSearchCompletion,n=a.onSelectFreeformQuery,o=a.onShiftTab,p=a.onTab,q=a.queryString,r=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onBlur","onChange","onEnter","onFocus","onPressEntry","onSearchCompletion","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var s=b.composedRef,t=b.inputRef;b=c("useCometInternalTypeaheadState")();var u=b.highlightedEntry,v=b.highlightedEntrySource;b=c("useCometInternalTypeaheadStateDispatcher")();var w=b.dispatchHighlightedEntry,x=b.dispatchIsOpened;c("useCometInternalTypeaheadFetchHandler")({loggingProvider:e,queryString:q,traceProvider:r});b=c("useCometInternalTypeaheadOnBlurLoggingHandler")({loggingProvider:e,onBlur:f,queryString:q});r=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:e,onFocus:k,queryString:q});f=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:e,onEnter:i(function(){if(u!=null&&v==="keyboard")t.current&&t.current.focus(),l&&l(u);else{var a;a=(a=t.current)==null?void 0:a.value;if(a==="")m&&m();else{n&&n((a=a)!=null?a:"")}}w({entry:null,source:null});g("");j&&j()},[u,v,w,g,j,t,l,m,n]),queryString:q});k=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:e,onPressEntry:l,queryString:q});var y=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){x(!1),o&&o()},[x,o]),loggingProvider:e,queryString:q}),z=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){x(!1),p&&p()},[x,p]),loggingProvider:e,queryString:q}),A=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});e=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});return h.jsx(d,babelHelpers["extends"]({},a,{inputRef:s,onAbandonTypeahead_DO_NOT_USE:e,onBlur:b,onChange:g,onClick:c("emptyFunction"),onEnter:f,onFocus:r,onOutsideClick:A,onPressEntry:k,onShiftTab:y,onTab:z,queryString:q}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseTokenizer.react",["CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a){var b=a.autoFocus;b=b===void 0?!1:b;var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.decorators,g=f===void 0?[]:f;f=a.emptyEntries_DO_NOT_USE;var j=a.id,k=a.inputRef,l=a.isDisabled;l=l===void 0?!1:l;var m=a.label;m=m===void 0?"":m;var n=a.loggingContext,o=a.onAddToken;o=o===void 0?c("emptyFunction"):o;var p=a.onBlur;p=p===void 0?c("emptyFunction"):p;var q=a.onChangeTokens,r=a.onClose,s=a.onEscape;s=s===void 0?c("emptyFunction"):s;var t=a.onFocus;t=t===void 0?c("emptyFunction"):t;var u=a.onOpen,v=a.onRemoveToken;v=v===void 0?c("emptyFunction"):v;var w=a.onSearchCompletion;w=w===void 0?c("emptyFunction"):w;var x=a.placeholder;x=x===void 0?"":x;var y=a.testid;y=y===void 0?"":y;y=a.tokensStrategyRenderer;var z=a.tokens,A=a.viewRole;A=A===void 0?"listbox":A;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","inputRef","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var B=c("useCometUniqueID")(),C=c("useStable")(function(){var a=c("CometTokenizerInternal.react");g.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});m=m||x;return h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:f,onClose:r,onOpen:u,children:h.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:d,dataSourceFetchConfigParams:e,loggingContext:n,children:h.jsx(C,babelHelpers["extends"]({},a,{autoFocus:b,commandConfigs:i,id:(f=j)!=null?f:B,inputRef:k,isDisabled:l,label:m,onBackspace:c("emptyFunction"),onBlur:p,onChangeEntries:q,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:s,onFocus:t,onHighlightEntry:c("emptyFunction"),onPressEntry:o,onRemoveEntry:v,onSearchCompletion:w,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:x,selectedEntries:z,testid:void 0,tokensStrategyRenderer:y,viewRole:A}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseTokenizerDecorators",["useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.escapeDecorator,d=a.limitDecorator,e=a.refetchDecorator,f=a.tokenManagementDecorator;return c("useStable")(function(){return[d,b,f,e].filter(Boolean)})}g["default"]=a}),98);
__d("CometTokenizerInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","KeyCommandHandler.react","react","useCometInternalTypeaheadState","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l={root:{width:"k4urcfbm"}};function a(a,b){var d=a.children,e=a.commandConfigs,f=a.isInline,g=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onShiftTab,q=a.onTab,r=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commandConfigs","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var s=c("useCometInternalTypeaheadState")(),t=s.isOpened;s=k(function(){return[].concat(e,[{command:{key:c("CometKeys").DELETE},description:h._(/*FBT_CALL*/"Remove previous token"/*FBT_CALL*/),handler:function(){return g&&g()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._(/*FBT_CALL*/"Next suggestion"/*FBT_CALL*/),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._(/*FBT_CALL*/"Previous suggestion"/*FBT_CALL*/),handler:function(){return r&&r()},triggerFromInputs:!0}],t?[{command:{key:c("CometKeys").ESCAPE},description:h._(/*FBT_CALL*/"Close suggestions"/*FBT_CALL*/),handler:function(){return o&&o()},triggerFromInputs:!0}]:[],[{command:{key:c("CometKeys").ENTER},description:h._(/*FBT_CALL*/"Select suggestion"/*FBT_CALL*/),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._(/*FBT_CALL*/"Leave input"/*FBT_CALL*/),handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._(/*FBT_CALL*/"Leave input"/*FBT_CALL*/),handler:function(){return p&&p()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}])},[e,t,g,m,n,o,p,q,r]);b=c("useCometTypeaheadInputRefs")(b);var u=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));a=j(function(a){a.key==="Tab"&&(!a.shiftKey?q&&q():p&&p())},[q,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,elementType:f===!0?"span":"div",xstyle:l.root,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:d(u,b)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("CometTokenizerInputWidthResolver.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState;function a(a){var b=a.children,c=a.placeholder;c=c===void 0?"":c;a=a.queryString;var d=k(0),e=d[0],f=d[1],g=j(null);d=a!==""?a:c;i(function(){g.current&&f(g.current.offsetWidth)},[d]);return h.jsxs(h.Fragment,{children:[h.jsx("span",{"aria-hidden":"true",className:"g0qnabr5 kr9hpln1 kr520xx4 j9ispegn pmk7jnqg r0usavy5 n5sx5to1 jagab5yi",ref:g,children:d}),b(e)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"rj84mg9z"},input:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",boxSizing:"rq0escxv",color:"oo9gr5id",display:"nc684nl6",fontSize:"jagab5yi",fontWeight:"knj5qynh",lineHeight:"fo6rh5oj",marginTop:"aov4n071",marginEnd:"oi9244e8",marginBottom:"bi6gxh9e",marginStart:"h676nmdw",maxWidth:"d2edcug0",outline:"lzcic4wl",resize:"ieid39z1"},root:{cursor:"o6r2urh6",maxWidth:"d2edcug0",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=a.autoFocus,q=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid","autoFocus"]),r=(o=e)!=null?o:c("useCometUniqueID")(),s=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:c("stylex")(i.root,l===!0&&i.disabled),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,q,{autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:p,className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:r,onChange:s,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useCometTokenizerLayoutStrategyOnBackspaceHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onBackspace,d=a.onRemoveEntry,e=a.selectedEntries;return h(function(){var a=b.current;if(a!=null&&a.selectionStart===0&&a.selectionEnd===0){a=e.length-1;a>=0&&d(e[a])}c&&c()},[b,c,e,d])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnEnterHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onEnter;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnPressEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onChange,e=a.onPressEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry,g=b.current;return h(function(a,b){g!=null&&(g.value="",g.focus()),f({entry:null,source:null}),d(""),e&&e(a,b)},[g,f,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometHeroHoldTrigger.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","FocusRegion.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","focusScopeQueries","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={helperText:{marginTop:"aov4n071"},view:{backgroundColor:"cwj9ozl2",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"o55z2nyb",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",marginTop:"rs0gx3tq",width:"k4urcfbm"}},k="ChatTypeahead";function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var e=b.align;e=e===void 0?"stretch":e;var f=b.position;f=f===void 0?"below":f;var g=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]),l=a.description;b=a.extraLayoutProps;var m=b.ariaProps,n=m.ariaDescribedByProps,o=m.ariaInputProps,p=m.ariaViewProps;m=b.helperTextComponent;var q=b.isLoading;b=b.isOpened;var r=a.errorMessage,s=a.commandConfigs,t=a.selectedEntries,u=a.inputStrategyRenderer,v=a.isDisabled,w=a.label,x=a.layerContext;x=x===void 0?"root":x;var y=a.onBackspace,z=a.onBlur,A=a.onChange,B=a.onClick,C=a.onDownArrow,D=a.onEnter,E=a.onEscape,F=a.onFocus,G=a.onShiftTab,H=a.onTab,I=a.onUpArrow,J=a.queryString,K=a.inputRef,L=a.tokensStrategyRenderer,M=a.viewStrategyRenderer,N=a.xstyles,O=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","extraLayoutProps","errorMessage","commandConfigs","selectedEntries","inputStrategyRenderer","isDisabled","label","layerContext","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometTypeaheadInputRefs")(K);K=a.composedRef;a=a.inputRef;var P=i(null),Q=i(null),R=c("useResizeObserver")(function(){Q.current!=null&&Q.current.reposition({autoflip:!g.disableAutoFlip})}),S=c("useCometInternalTypeaheadState")(),T=S.activeEntries,U=S.highlightedEntry;S=x==="input"?a.current:P.current;var V=c("cometHandleHighlightDropOnMouseLeave")(O.onHighlightEntry);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(N==null?void 0:N.layoutXStyle),ref:P,children:h.jsx("div",{className:c("stylex")(N==null?void 0:N.inputXStyle),onClick:B,ref:R,role:"presentation",children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:s,onBackspace:y,onBlur:z,onChange:A,onClick:c("emptyFunction"),onDownArrow:C,onEnter:D,onEscape:E,onFocus:F,onShiftTab:G,onTab:H,onUpArrow:I,ref:K,children:function(a,b){return h.jsx(u,babelHelpers["extends"]({},b,{ariaProps:o,autoFocus:O.autoFocus,description:l,errorMessage:r,id:O.id,inputEndContent:O.inputEndContent,inputExtraProps:O.inputExtraProps,inputStartContent:t.length>0?h.jsx(L,{isDisabled:v,onPress:O.onRemoveEntry,tokens:t}):null,isDisabled:v,label:w,placeholder:O.placeholder,queryString:J,ref:a,testid:void 0}))}})})})}),m!=null&&h.jsx("div",babelHelpers["extends"]({className:c("stylex")(j.helperText)},n,{children:m})),h.jsx(c("CometHeroHoldTrigger.react"),{description:k,hold:!(S!=null&&b!==!1)||S!=null&&b!==!1&&T.length===0}),S&&b&&h.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},g,{align:e,context_DEPRECATED:S,position:f,ref:Q,children:h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:O.onOutsideClick,children:function(a){return h.jsxs("div",{className:c("stylex")([j.view,N==null?void 0:N.viewXStyle_DO_NOT_USE]),onMouseLeave:V,ref:a,children:[h.jsx(M,{ariaProps:p,entries:T,extraViewProps:O.extraViewProps,highlightedEntry:U,isLoading:q,onHighlightEntry:O.onHighlightEntry,onPressEntry:O.onPressEntry,queryString:J}),h.jsx(c("CometHeroHoldTrigger.react"),{description:k,hold:q&&T.length===0})]})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutInlineStrategyHandlers",["react","useCometTokenizerLayoutStrategyOnBackspaceHandler","useCometTokenizerLayoutStrategyOnEnterHandler","useCometTokenizerLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onBackspace,e=a.onBlur,f=a.onChange,g=a.onDownArrow,i=a.onEnter,j=a.onEscape,k=a.onHighlightEntry,l=a.onOutsideClick,m=a.onPressEntry,n=a.onRemoveEntry,o=a.onUpArrow;a=a.selectedEntries;k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:k});d=c("useCometTokenizerLayoutStrategyOnBackspaceHandler")({inputRef:b,onBackspace:d,onRemoveEntry:n,selectedEntries:a});a=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:e});var p=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:f,onHighlightEntry:k});e=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:g,onHighlightEntry:k});g=c("useCometTokenizerLayoutStrategyOnEnterHandler")({onEnter:i});i=h(function(){p(""),j&&j()},[p,j]);f=c("useCometTokenizerLayoutStrategyOnPressEntryHandler")({inputRef:b,onChange:f,onPressEntry:m});m=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:b,onOutsideClick:l});b=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:k,onUpArrow:o});return{onBackspace:d,onBlur:a,onChange:p,onDownArrow:e,onEnter:g,onEscape:i,onHighlightEntry:k,onOutsideClick:m,onPressEntry:f,onRemoveEntry:n,onUpArrow:b}}g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutContextualStrategyHandlers",["react","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.isDisabled,e=a.onAbandonTypeahead_DO_NOT_USE,f=a.onClick,g=a.onOutsideClick,i=a.onShiftTab,j=a.onTab,k=a.queryString,l=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","isDisabled","onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab","queryString","selectedEntries"]);var m=c("useCometInternalTypeaheadState")(),n=m.isOpened;m=c("useCometInternalTypeaheadStateDispatcher")();var o=m.dispatchActiveEntries,p=m.dispatchHighlightedEntry,q=m.dispatchIsOpened;m=h(function(){q(!1),g&&g()},[q,g]);m=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")(babelHelpers["extends"]({inputRef:b,onOutsideClick:m,selectedEntries:l},a));var r=m.onBackspace;l=m.onBlur;var s=m.onChange,t=m.onDownArrow,u=m.onEnter,v=m.onEscape;a=m.onHighlightEntry;var w=m.onOutsideClick,x=m.onPressEntry,y=m.onRemoveEntry,z=m.onUpArrow;m=h(function(){q(!1),e&&e()},[q,e]);var A=h(function(){k.length===0&&q(!1),r&&r()},[q,r,k.length]),B=h(function(a){q(!0),s&&s(a)},[q,s]),C=h(function(){!n&&!Boolean(d)&&q(!0),b.current&&b.current.focus(),f&&f()},[n,d,b,f,q]),D=h(function(){q(!1),p({entry:null,source:null}),o([]),u&&u()},[o,p,q,u]),E=h(function(){q(!1),v&&v()},[q,v]),F=h(function(){n?t&&t():q(!0)},[q,n,t]),G=h(function(a,b){q(!1),o([]),x&&x(a,b)},[o,q,x]),H=h(function(a){q(!1),y&&y(a)},[q,y]),I=h(function(){q(!1),i&&i()},[q,i]),J=h(function(){q(!1),j&&j()},[q,j]),K=h(function(){!n?q(!0):z&&z()},[q,n,z]);return{onAbandonTypeahead_DO_NOT_USE:m,onBackspace:A,onBlur:l,onChange:B,onClick:C,onDownArrow:F,onEnter:D,onEscape:E,onHighlightEntry:a,onOutsideClick:w,onPressEntry:G,onRemoveEntry:H,onShiftTab:I,onTab:J,onUpArrow:K}}g["default"]=a}),98);
__d("CometTokenizerTokenListStrategy.react",["fbt","CometFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isDisabled,c=a.onPress,e=a.tokens,f=a.tokenStrategyRenderer;return i.jsx(d("CometFocusTable.react").CometFocusTable,{elementType:"span",label:h._(/*FBT_CALL*/"Selected values"/*FBT_CALL*/),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,wrapY:!0,children:e.map(function(a,e){return i.jsx(d("CometFocusTable.react").CometFocusRow,{children:i.jsx("div",{className:"kkf49tns tvmbv18p cgat1ltu aahdfvyu q9uorilb",role:"row",children:i.jsx(d("CometFocusTable.react").CometFocusCell,{children:i.jsx("span",{role:"gridcell",children:i.jsx(f,{isDisabled:b,onPress:c,token:a})})})})},e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerListTokenStrategy",["CometTokenizerTokenListStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.tokenItemRenderer;a=a.tokenListRenderer;var d=a===void 0?c("CometTokenizerTokenListStrategy.react"):a;return i(function(a){a=babelHelpers["extends"]({},a);return h.jsx(d,babelHelpers["extends"]({tokenStrategyRenderer:b},a))},[b])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSContactGenderToGenderConst.bs",["GenderConst","LSContactGender.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").female))return b("GenderConst").FEMALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").male))return b("GenderConst").MALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter))return b("GenderConst").NEUTER_SINGULAR;else return b("GenderConst").NOT_A_PERSON}f.make=a}),null);
__d("MAWAbPropsTypes",[],(function(a,b,c,d,e,f){var g={client_group_participants_limit:[618,257],client_group_name_length_limit:[1200,25],msgrw_test_bool:[704,!1],msgrw_test_int:[705,0],msgrw_test_string:[706,"test_string"],msgrw_test_float:[707,1],msgrw_icdc_alert_trigger_failure_count:[1233,6],msgrw_icdc_cooldown_interval_in_minutes:[1234,10],msgrw_icdc_interval_in_minutes:[1236,1500],msgrw_logger_entries:[1298,0]};function a(a){return a}function b(a){return g[a][1]}f.AbPropConfigs=g;f.asAbCode=a;f.getAbDefault=b}),66);
__d("MAWAbPropsClient.bs",["MAWAbPropsToUI"],(function(a,b,c,d,e,f){"use strict";d={};var g={contents:b("MAWAbPropsToUI").prepareAbPropsForUI()};function a(a){g.contents=a}function c(a){return g.contents}f.Internal=d;f.rewrite=a;f.getAbProps=c}),null);
__d("MWGroupLimitConfig.bs",["cr:1217"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1217")).nonGxac;d=a.armadillo;e=a.gxac;f.$MWGroupLimitConfigForTests$OR$MWGroupLimitConfigForProd$requireCond=a;f.nonGxac=c;f.armadillo=d;f.gxac=e}),null);
__d("MWGroupLimitConfigForProd.bs",["MAWAbPropsClient.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MAWAbPropsClient.bs").getAbProps(void 0).client_group_participants_limit}c=32;d=256;f.gxac=c;f.nonGxac=d;f.armadillo=a}),null);
__d("MWInteropTokenUtils.bs",["MWXacGating.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.rawData.isInstagramAccount===!0}function h(a){return a.rawData.isInteropEligible===!0}function i(a){if(b("MWXacGating.bs").isGroupsEnabled(void 0))return a.rawData.isGroupsXacEligible===!0;else return!1}function a(a){if(g(a))if(h(a))return!i(a);else return!0;else return!1}f.isInterop=g;f.isInteropEligible=h;f.isGxacEligible=i;f.isInteropWithoutGxacSupport=a}),null);
__d("MWPParticipantsAndContactsForThread.bs",["ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useArray(h.useMemo(function(){var d;return(d=b("ReQL.bs")).mergeJoin(d.getKeyRange(d.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),d.fromTableAscending(c.table("contacts")))},[c,JSON.stringify(a.threadKey)]))}f.useValue=a}),null);
__d("MWUseHasGroupLimitBeenReached.bs",["LSMessagingThreadTypeUtil.bs","MWGroupLimitConfig.bs","MWInteropTokenUtils.bs","MWLSContactTypeExactUtils.bs","MWPParticipantsAndContactsForThread.bs","MWXacGating.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=[];function a(a,c){var d=c!==void 0?c:i,e=b("MWPParticipantsAndContactsForThread.bs").useValue(a);c=e.length+d.length|0;var f=h.useMemo(function(){var a=e.some(function(a){return b("MWLSContactTypeExactUtils.bs").isIgContact(a[1])}),c=d.some(function(a){return a.isInstagramAccount});if(b("MWXacGating.bs").isGroupsEnabled(void 0))if(a)return!0;else return c;else return!1},[e,d]);f=f?c>=b("MWGroupLimitConfig.bs").gxac:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)?c>=b("bs_curry")._1(b("MWGroupLimitConfig.bs").armadillo,void 0):c>=b("MWGroupLimitConfig.bs").nonGxac;a=b("MWXacGating.bs").isGroupsEnabled(void 0)&&c>=b("MWGroupLimitConfig.bs").gxac;return[f,a]}function c(a,c){var d=h.useMemo(function(){if(b("MWXacGating.bs").isGroupsEnabled(void 0))return a.some(b("MWInteropTokenUtils.bs").isInterop);else return!1},[a]),e=a.length;d=d?e>=(b("MWGroupLimitConfig.bs").gxac-1|0):c?e>=(b("bs_curry")._1(b("MWGroupLimitConfig.bs").armadillo,void 0)-1|0):e>=(b("MWGroupLimitConfig.bs").nonGxac-1|0);c=b("MWXacGating.bs").isGroupsEnabled(void 0)&&e>=b("MWGroupLimitConfig.bs").gxac;return[d,c]}f.emptySelectedParticipants=i;f.useHookForThread=a;f.useHookForNewThread=c}),null);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755987")).Gif;d=a.Sticker;e=a.Photo;b=a.MoreActions;var g=a.Emoji,h=a.PaperclipSVG,i=a.Paperclip,j=a.Pin,k=a.Camera,l=a.Microphone,m=a.Poll,n=a.Currency;f.$MDSMWChatComposerIcons$OR$TetraMWChatComposerIcons$requireCond=a;f.Gif=c;f.Sticker=d;f.Photo=e;f.MoreActions=b;f.Emoji=g;f.PaperclipSVG=h;f.Paperclip=i;f.Pin=j;f.Camera=k;f.Microphone=l;f.Poll=m;f.Currency=n}),null);
__d("MWChatComposerVoiceIndicator.bs",["fbt","CurrentUser","MDSText.react","MDSTextPairing.react","getTopMostRoute","react","stylex","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i"}};function a(a){a=a.forceShown_TEST_ONLY;a=a!==void 0?a:!1;var c=b("useCometRouterState")(),d;if(c==null)d=!1;else{c=b("getTopMostRoute")(c).tracePolicy;d=c!==void 0?c.startsWith("comet.page.admin")||c.startsWith("comet.group.admin"):!1}c=b("CurrentUser").getName();c=g._(/*FBT_CALL*/"You are messaging from your personal account \"{full name}\""/*FBT_CALL*/,[g._param("full name",j.jsx(b("MDSText.react"),{type:"meta2",children:c}))]);if(d||a)return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:c}),level:4,textAlign:"center"})});else return null}c=a;f.styles=k;f.make=c}),null);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f){"use strict";a={fillGrey:{fill:"crt8y2ji"},strokeGrey:{stroke:"s9lmpwuu"}};f.styles=a}),null);
__d("TetraMWChatComposerIcons.bs",["ix","MWChatChatButtonColorConstants.bs","TetraIcon.react","bs_caml_option","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"a8c37x1j",transitionDuration:"ms05siws",transitionProperty:"hr662l2t",transitionTimingFunction:"b7h9ocf4"},notRotated:{transform:"tftn3vyl"},rotated:{transform:"nrzfhe1q"}};function a(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 16 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:d,fillRule:"nonzero"})})}a={make:a};function c(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 17 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{fill:"none",cx:"5.5",cy:"5.5",r:"1"}),j.jsx("circle",{fill:"none",cx:"11.5",cy:"4.5",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:d}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:d,fillRule:"nonzero"})]})})}c={make:c};function d(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0;return j.jsx("svg",{viewBox:"0 -1 17 17",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,a),children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:d}),j.jsx("circle",{className:e,fill:d,cx:"8.5",cy:"4.5",r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:d}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:d,strokeLinecap:"round",strokeLinejoin:"round"})]})})}d={make:d};function e(a){var c=a.size,d=a.fill;a=a.isRotated;return j.jsx("svg",{viewBox:"0 0 24 24",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a?k.rotated:k.notRotated),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:d})]})})}e={make:e};function l(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,a),height:String(c)+"px",viewBox:"0 0 38 38",width:String(c)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:d})})})})})})}l={make:l};function m(a){var c=a.size,d=a.fill;a=a.xstyle;a!==void 0&&b("bs_caml_option").valFromOption(a);a=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{viewBox:"3 2 20 20",height:String(c)+"px",width:String(c)+"px",fill:"none",children:j.jsx("path",{className:a,fillRule:"evenodd",clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:d})})}m={make:m};function n(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("528566"),20),color:"primary"})}n={make:n};function o(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("481942"),20),color:"primary"})}o={make:o};function p(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("550096"),20),color:"primary"})}p={make:p};function q(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("624149"),20),color:"primary"})}q={make:q};function r(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("577048"),20),color:"primary"})}r={make:r};function s(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("480625"),20),color:"primary"})}s={make:s};f.styles=k;f.Gif=a;f.Sticker=c;f.Photo=d;f.MoreActions=e;f.Emoji=l;f.PaperclipSVG=m;f.Paperclip=n;f.Pin=o;f.Camera=p;f.Microphone=q;f.Poll=r;f.Currency=s}),null);
__d("MWV2ComposerFileButton.bs",["fbt","CometFileSelector.re","CometPressable.react","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={buttonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},buttonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}},k=g._(/*FBT_CALL*/"Attach a file"/*FBT_CALL*/);function l(a){return i.useCallback(function(c){c=Array.from(c);if(c.length>0)return b("bs_curry")._1(a,c)},[a])}function a(a){var c=a.color,d=a.onAttachmentsAdded,e=a.supportedFileTypes,f=a.disabled;a=l(d);d={children:function(a){return i.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:f,testid:"composer_file_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:f?void 0:c})}),forceInlineDisplay:!0})},multiple:!0,onFilesSelected:a};e!==void 0&&(d.accept=b("bs_caml_option").valFromOption(e));return i.jsx(b("CometFileSelector.re").make,d)}c=a;f.label=k;f.useOnFilesSelected=l;f.make=c}),null);
__d("MWV2ComposerGifButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={buttonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},buttonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}},k=g._(/*FBT_CALL*/"Choose a gif"/*FBT_CALL*/);function l(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:a,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:d,preview_height:c})}function m(a){return i.useCallback(function(c){var d=b("bs_caml_format").caml_int64_of_string(c.platformFBID),e=c.source.url;return b("bs_curry").app(a,[void 0,void 0,void 0,void 0,d,e,b("bs_caml_option").some(l(e,b("bs_caml_int64").of_int32(c.source.height),b("bs_caml_int64").of_int32(c.source.width),void 0)),void 0,void 0,void 0,void 0])},[a])}function a(a){var c=a.color,d=a.onSendMessage,e=a.disabled;a=a.isSecureThread;d=m(d);return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.bs"),disableAutoFlip:!0,popoverProps:{onSelect:b("bs_curry").__1(d),testid:"mw_gif_picker",isSecureThread:a},align:"middle",position:"above",children:function(a,d,f,g,h,l,m){return i.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:e,ref:a,onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h,void 0)},onPressIn:b("bs_curry").__1(l),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Gif.make,{size:20,fill:e?void 0:c})}),forceInlineDisplay:!0})}})}c=a;f.label=k;f.useOnGifSelect=m;f.make=c}),null);
__d("MWV2ComposerStickerButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={buttonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},buttonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},flyoutRoot:{width:"tjny6qan"}},l=g._(/*FBT_CALL*/"Choose a sticker"/*FBT_CALL*/);function m(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:a,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:d,preview_height:c})}function n(a,c){return j.useCallback(function(d){return function(e,f){e=f.animated_uri;e=b("bs_belt_Option").isSome(e)?e:f.uri;if(c)return b("bs_curry").app(a,[void 0,void 0,b("bs_caml_format").caml_int64_of_string(d),void 0,void 0,b("bs_belt_Option").getExn(e),void 0,void 0,void 0,void 0,void 0]);else return b("bs_curry").app(a,[void 0,void 0,b("bs_caml_format").caml_int64_of_string(d),void 0,void 0,void 0,b("bs_caml_option").some(m(e,[0,128],[0,128],void 0)),void 0,void 0,void 0,void 0])}},[a,c])}function a(a){var c=a.color,d=a.onSendMessage,e=a.disabled;a=a.useSecureSend;d=n(d,a);return j.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){},popoverResource:b("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWV2ComposerStickerButton.bs"),disableAutoFlip:!0,popoverProps:{className:(i||(i=b("stylex")))(k.flyoutRoot),onClose:function(a){},onStickerSelect:d,shouldHideDefaultPacks:a},align:"middle",position:"above",children:function(a,d,f,g,h,i,m){return j.jsx(b("MWTooltip.react"),{tooltip:l,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":l,disabled:e,ref:a,testid:"chat_sticker_button",onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h,void 0)},onPressIn:b("bs_curry").__1(i),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:j.jsx(b("MWChatComposerIcons.bs").Sticker.make,{size:20,fill:e?void 0:c})}),forceInlineDisplay:!0})}})}c=a;f.styles=k;f.label=l;f.useOnStickerSelect=n;f.make=c}),null);
__d("MWV2UseAreThreadContactsDualSendEligible.bs",["LSInt64.bs","LSWhatsAppConnectStatus.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(a!==void 0)if(b("bs_caml").i64_eq(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappDualSendWebEligible))return!0;else return b("bs_caml").i64_eq(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappDualSendXappEligible);else return!1}function j(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){if(a!==void 0){var e;return(e=b("ReQL.bs")).filter(e.map(e.leftJoin(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a,tl:0}),e.fromTableAscending(c.table("contacts"))),function(a){return a[1]}),function(a){if(a!==void 0)return b("bs_caml").i64_neq(a.id,d);else return!1})}else return b("SortedAsyncIterable.bs").empty(void 0)},[c,b("bs_belt_Option").map(a,b("LSInt64.bs").string)]));return h.useMemo(function(){return e.filter(i)},[e,b("bs_belt_Option").map(a,b("LSInt64.bs").string)])}function a(a){return j(a).length>0}f.useEligibleContacts=j;f.useHook=a}),null);
__d("FBLikeSvgIcon.bs",["bs_caml_option","react","uniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.className,d=a.color,e=a.size;a=a.title;e=e!==void 0?e:"20";var f=a!==void 0?b("bs_caml_option").valFromOption(a):null;a=h.useState(function(){if(f===null)return;else return b("uniqueID")()});a=a[0];return h.jsxs("svg",{"aria-labelledby":a,viewBox:"0 0 16 16",height:e,width:e,className:c,children:[a!==void 0&&f!==null?h.jsx("title",{id:a,children:f}):null,h.jsx("path",{fill:d,d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),h.jsx("path",{fill:d,d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"})]})}c=a;f.make=c}),null);
__d("MWLikeSvgIcon.bs",["cr:1828791"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1828791").make;f.$MDSLikeSvgIcon$OR$FBLikeSvgIcon$requireCond=b("cr:1828791");f.make=a}),null);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120})}),null);/*FB_PKG_DELIM*/
__d("CometEntityActorSelectorButton_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometEntityActorSelectorButton_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"profile_image",args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometEntityActorSelectorMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3815561688564716"}),null);
__d("CometEntityActorSelectorMenuQuery$Parameters",["CometEntityActorSelectorMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometEntityActorSelectorMenuQuery_facebookRelayOperation"),metadata:{},name:"CometEntityActorSelectorMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometEntityActorSelector_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometEntityActorSelector_entity",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{alias:null,args:null,concreteType:"AvailableActorsConnection",kind:"LinkedField",name:"available_actors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],type:"SupportsScopedActors",abstractKey:"__isSupportsScopedActors"};e.exports=a}),null);
__d("CometEntityActorSelector_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometEntityActorSelector_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometEntityActorSelectorButton_viewer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometEntityHeaderActorSelector_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometEntityHeaderActorSelector_entity",selections:[{args:null,kind:"FragmentSpread",name:"CometEntityActorSelector_entity"},{alias:null,args:null,concreteType:"AvailableActorsConnection",kind:"LinkedField",name:"available_actors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],type:"SupportsScopedActors",abstractKey:"__isSupportsScopedActors"};e.exports=a}),null);
__d("CometEntityHeaderActorSelector_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometEntityHeaderActorSelector_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometEntityActorSelector_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometEntityHeaderStickyBottomRow_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometEntityHeaderStickyBottomRow_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"useBaseEntityHeaderProfile_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("useBaseEntityHeaderProfile_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useBaseEntityHeaderProfile_profile",selections:[{alias:"profile_picture_for_sticky_bar",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometTextColorEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometTextColorEntityRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],type:"ColorAtRange",abstractKey:null};e.exports=a}),null);
__d("CometEntityActorSelectorButton.react",["fbt","ix","CometEntityActorSelectorButton_viewer.graphql","CometIcon.react","CometProfilePhoto.react","CometRelay","TetraButton.react","TetraText.react","fbicon","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");function l(a,b){if(b)return k.jsx(c("TetraText.react"),{color:"primary",type:"body4",children:h._(/*FBT_CALL*/"Interacting as {=m1}"/*FBT_CALL*/,[h._implicitParam("=m1",k.jsx(c("TetraText.react"),{type:"bodyLink4",children:h._(/*FBT_CALL*/"your profile"/*FBT_CALL*/)}))])});else return k.jsx(c("TetraText.react"),{color:"primary",type:"body4",children:h._(/*FBT_CALL*/"Interacting as {actor}"/*FBT_CALL*/,[h._param("actor",k.jsx(c("TetraText.react"),{type:"bodyLink4",children:a}))])})}function a(a,e){var f,g,m,n=a.viewer$key;a=babelHelpers.objectWithoutPropertiesLoose(a,["viewer$key"]);n=d("CometRelay").useFragment(j!==void 0?j:j=b("CometEntityActorSelectorButton_viewer.graphql"),n);f=n==null?void 0:(f=n.actor)==null?void 0:f.id;g=n==null?void 0:(g=n.actor)==null?void 0:g.name;m=n==null?void 0:(m=n.actor)==null?void 0:(m=m.profile_image)==null?void 0:m.uri;n=(n==null?void 0:(n=n.actor)==null?void 0:n.__typename)==="User";return f==null||g==null||m==null?c("recoverableViolation")("Actor ID, actor name, or profile picture URI are null in actor button","comet_ui"):k.jsx(c("TetraButton.react"),babelHelpers["extends"]({},a,{addOnPrimary:k.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:36,source:{uri:m}}),addOnSecondary:k.jsx(c("CometIcon.react"),{icon:d("fbicon")._(i("481882"),16),size:16}),label:h._(/*FBT_CALL*/"Actor Selector"/*FBT_CALL*/),labelIsHidden:!0,reduceEmphasis:!0,ref:e,size:"large",tooltip:l(g,n),type:"secondary"}))}a.displayName=a.name+" [from "+f.id+"]";e=k.forwardRef(a);g["default"]=e}),98);
__d("CometEntityActorSelectorMenu.entrypoint",["CometEntityActorSelectorMenuQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.entityID;return{queries:{menuQueryReference:{parameters:b("CometEntityActorSelectorMenuQuery$Parameters"),variables:{entityID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometEntityActorSelectorMenu.react").__setRef("CometEntityActorSelectorMenu.entrypoint")};g["default"]=a}),98);
__d("CometEntityActorSelectorPlaceholder.react",["ix","CometIcon.react","CometProgressIndicator.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsxs("div",{className:"t7sz67dt l9j0dhe7 qypqp5cg",children:[i.jsxs("div",{className:"jwdofwj8 tw6a2znq d1544ag0 r8blr3vg j83agx80 bp9cbjyn",children:[i.jsx("div",{className:"thwo4zme fv0vnmcu tv7at329 spb7xbtv bkmhp75w emlxlaya s45kfl79 pgeiv1et"}),i.jsx(c("CometIcon.react"),{icon:d("fbicon")._(h("481882"),16),size:16})]}),i.jsx("div",{className:"fgv6swy9 p8hbile0 pmk7jnqg",children:i.jsx(c("CometProgressIndicator.react"),{overrideBGColorContext:"media",size:"small"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEntityActorSelector.react",["CometEntityActorSelectorButton.react","CometEntityActorSelectorMenu.entrypoint","CometEntityActorSelectorPlaceholder.react","CometEntityActorSelector_entity.graphql","CometEntityActorSelector_viewer.graphql","CometEntryPointPopoverTrigger.react","CometRelay","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useTransition;function a(a){var e=a.entity$key,f=a.onChangeActor;a=a.viewer$key;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometEntityActorSelector_entity.graphql"),e);var g=d("CometRelay").useFragment(i!==void 0?i:i=b("CometEntityActorSelector_viewer.graphql"),a);a=k();var l=a[0],m=a[1];a=g==null?void 0:(a=g.actor)==null?void 0:a.id;var n=e==null?void 0:e.id;if(a==null||n==null)return c("recoverableViolation")("Actor ID or entity ID is null in actor selector","comet_ui");a=(e=e==null?void 0:(a=e.available_actors)==null?void 0:a.count)!=null?e:0;if(a===0)return c("recoverableViolation")("No available actors in actor selector for entity "+n,"comet_ui");e=function(a){m(function(){return f(a)})};return j.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{entityID:n},otherProps:{onChangeActor:e},popoverEntryPoint:c("CometEntityActorSelectorMenu.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,d,e,f,h){return l?j.jsx(c("CometEntityActorSelectorPlaceholder.react"),{}):j.jsx(c("CometEntityActorSelectorButton.react"),{onHoverIn:e,onHoverOut:f,onPress:b,onPressIn:h,ref:a,testid:void 0,viewer$key:g})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEntityHeaderActorSelector.react",["CometEntityActorSelector.react","CometEntityHeaderActorSelector_entity.graphql","CometEntityHeaderActorSelector_viewer.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");function a(a){var e,f=a.entity$key,g=a.onChangeActor;a=a.viewer$key;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometEntityHeaderActorSelector_entity.graphql"),f);a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometEntityHeaderActorSelector_viewer.graphql"),a);e=(e=f.available_actors)==null?void 0:e.count;return e==null||e<2?null:j.jsx("div",{className:"b3onmgus dhix69tm aypy0576",children:j.jsx(c("CometEntityActorSelector.react"),{entity$key:f,onChangeActor:g,viewer$key:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEntityHeaderStickyBar.react",["BaseRow.react","BaseRowItem.react","CometBase.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useImperativeHandle,k=b.useRef,l={container:{transitionDuration:"ijkhr0an",transitionProperty:"flx89l3n",transitionTimingFunction:"nna1d5md"},containerSticky:{transform:"i9k17dj3"},fadeInTransition:{transitionDuration:"c0paw9va",transitionProperty:"l23jz15m",transitionTimingFunction:"d4752i1f"},fadeOutTransition:{transitionDuration:"dvqrsczn",transitionProperty:"l23jz15m",transitionTimingFunction:"d4752i1f"},primaryRow:{minHeight:"pxsmfnpt",opacity:"pedkr2u6",visibility:"n1dktuyu"},primaryRowSticky:{opacity:"b5wmifdl",visibility:"kr9hpln1"},root:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7"},stickyRow:{height:"datstx6m",opacity:"b5wmifdl",position:"pmk7jnqg",top:"i42f9fw1",visibility:"kr9hpln1",width:"k4urcfbm"},stickyRowSticky:{opacity:"pedkr2u6",visibility:"n1dktuyu"}};function m(a,b,c){b(!c).split(/\s+/).filter(Boolean).forEach(function(b){return a.classList.remove(b)}),b(c).split(/\s+/).filter(Boolean).forEach(function(b){return a.classList.add(b)})}function a(a,b){var d=a.initialSticky;d=d===void 0?!1:d;var e=a.isStickyExpanding;e=e===void 0?!1:e;var f=a.primaryContent,g=a.stickyContent,n=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["initialSticky","isStickyExpanding","primaryContent","stickyContent","xstyle"]);var o=k(d),p=k(),q=k(),r=k(),s=k(),t=function(){p.current!=null&&(window.cancelAnimationFrame(p.current),p.current=null)};j(b,function(){return{setSticky:function(a){o.current=a,t(),p.current=window.requestAnimationFrame(function(){p.current=null;var b=q.current;b!=null&&m(b,function(a){return c("stylex")(a&&l.containerSticky)},a);b=r.current;b!=null&&m(b,function(a){return c("stylex")(a&&l.primaryRowSticky,a?l.fadeInTransition:l.fadeOutTransition)},a);b=s.current;b!=null&&m(b,function(a){return c("stylex")(a&&l.stickyRowSticky,a?l.fadeOutTransition:l.fadeInTransition)},a)})}}});i(function(){return t},[]);return h.jsx(c("CometBase.react"),babelHelpers["extends"]({},a,{xstyle:[l.root,n],children:h.jsxs(c("CometBase.react"),{ref:q,xstyle:[l.container,o.current&&l.containerSticky],children:[h.jsx(c("BaseRow.react"),{ref:r,xstyle:[l.primaryRow,o.current&&l.primaryRowSticky,o.current?l.fadeInTransition:l.fadeOutTransition],children:h.jsx(c("BaseRowItem.react"),{expanding:!0,children:f})}),h.jsx(c("BaseRow.react"),{ref:s,xstyle:[l.stickyRow,o.current&&l.stickyRowSticky,o.current?l.fadeOutTransition:l.fadeInTransition],children:h.jsx(c("BaseRowItem.react"),{expanding:e,verticalAlign:"center",children:g})})]})}))}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("useCometEntityStickyHeaderHeadline",["CometListCellStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useState;function a(a){var b=a.headline,d=a.linkProps,e=a.onPress,f=a.onStickyChange,g=a.paddingHorizontal,l=a.profilePhoto,m=a.profilePhotoShape,n=a.url;a=j(!1);var o=a[0],p=a[1];a=function(a){p(a),f&&f(a)};var q=i(function(){return babelHelpers["extends"]({preventLocalNavigation:!0,url:n},d)},[d,n]);l=h.jsx(c("CometListCellStrict.react"),{addOnStart:l!=null?{shape:m,size:40,source:{uri:l},type:"profile-photo"}:void 0,headline:b,headlineLineLimit:1,level:3,linkProps:q,onPress:(m=e)!=null?m:k,paddingHorizontal:g});return{headline:l,isSticky:o,onStickyChange:a}}function k(a){a.preventDefault(),scrollTo({behavior:"smooth",left:0,top:0})}g["default"]=a}),98);
__d("useResizeObserverLoopLimitSafeCallbackWrapper",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=i(null),c=function(c,d,e){b.current!=null&&window.cancelAnimationFrame(b.current),b.current=window.requestAnimationFrame(function(){a(c,d,e)})};h(function(){return function(){b.current!=null&&window.cancelAnimationFrame(b.current)}},[]);return c}g["default"]=a}),98);
__d("useCometEntityStickyHeaderResizeObserver",["react","useResizeObserver","useResizeObserverLoopLimitSafeCallbackWrapper"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useRef,i=b.useState;function a(a){a=a.topOffset;a=a===void 0?0:a;var b=h(),d=i(0),e=d[0],f=d[1];d=c("useResizeObserver")(c("useResizeObserverLoopLimitSafeCallbackWrapper")(function(a){e!==a.height&&f(a.height)}));return{resizeObserverRef:d,stickyHeaderRef:b,topOffset:a}}g["default"]=a}),98);
__d("CometEntityStickyHeader.react",["BaseRow.react","BaseRowItem.react","BaseStickyHeader.react","CometEntityHeaderResponsiveRow.react","CometEntityHeaderStickyBar.react","react","useCometEntityStickyHeaderHeadline","useCometEntityStickyHeaderResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={headerHiddenByDefault:{display:"j83agx80",flexDirection:"cbu4d94t",height:"do00u71z",justifyContent:"bkfpd7mw"},headerHiddenByDefaultNotSticky:{pointerEvents:"hzruof5a",visibility:"kr9hpln1",zIndex:"enjifjd9"},headerHiddenByDefaultSticky:{position:"poy2od1o",width:"k4urcfbm"},row:{backgroundColor:"cddn0xzi",boxShadow:"dsne8k7f",flexShrink:"pfnyh3mw"}};function a(a){var b=a.headline,d=a.headlineLinkProps,e=a.headlineOnPress,f=a.hiddenByDefault;f=f===void 0?!1:f;var g=a.onStickyChange,k=a.paddingHorizontal,l=a.primaryContent,m=a.profilePhoto,n=a.profilePhotoShape,o=a.secondaryContent,p=a.topOffset;a=a.url;var q=i();b=c("useCometEntityStickyHeaderHeadline")({headline:b,linkProps:d,onPress:e,onStickyChange:function(a){q.current!=null&&q.current.setSticky(a),g&&g(a)},paddingHorizontal:k,profilePhoto:m,profilePhotoShape:n,url:a});d=b.headline;e=b.isSticky;k=b.onStickyChange;m=c("useCometEntityStickyHeaderResizeObserver")({topOffset:p});n=m.resizeObserverRef;a=m.stickyHeaderRef;b=m.topOffset;return h.jsx(c("BaseStickyHeader.react"),{onStickyChange:k,ref:a,topOffset:b,xstyle:[f&&j.headerHiddenByDefault,f&&(e?j.headerHiddenByDefaultSticky:j.headerHiddenByDefaultNotSticky)],children:h.jsx(c("CometEntityHeaderResponsiveRow.react"),{ref:n,xstyle:j.row,children:h.jsxs(c("BaseRow.react"),{verticalAlign:"center",children:[h.jsx(c("BaseRowItem.react"),{expanding:!0,children:h.jsx(c("CometEntityHeaderStickyBar.react"),{primaryContent:l,ref:q,stickyContent:h.jsx(c("BaseRow.react"),{align:"start",children:h.jsx(c("BaseRowItem.react"),{children:d})})})}),o!=null&&h.jsx(c("BaseRowItem.react"),{verticalAlign:"center",children:typeof o==="function"?o({sticky:e}):o})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseEntityHeaderProfile",["RelayHooks","react","useBaseEntityHeaderProfile_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;d("react");function a(a){var c;a=d("RelayHooks").useFragment(h!==void 0?h:h=b("useBaseEntityHeaderProfile_profile.graphql"),a);c=(c=a.profile_picture_for_sticky_bar)==null?void 0:c.uri;var e;switch(a.__typename){case"Page":case"User":case"Hashtag":e="circle";break;default:e="roundedRect"}a=a.url;return{profilePhoto:c,profilePhotoShape:e,url:a}}g["default"]=a}),98);
__d("CometEntityHeaderStickyBottomRow.react",["CometEntityHeaderStickyBottomRow_entity.graphql","CometEntityStickyHeader.react","CometRelay","react","recoverableViolation","useBaseEntityHeaderProfile"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.entity,f=a.headline,g=a.paddingHorizontal;a=babelHelpers.objectWithoutPropertiesLoose(a,["entity","headline","paddingHorizontal"]);e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometEntityHeaderStickyBottomRow_entity.graphql"),e);var j=c("useBaseEntityHeaderProfile")(e);f=(f=f)!=null?f:e.name;if(f==null)return c("recoverableViolation")("Name of the entity cannot be null","comet_ui");e=babelHelpers["extends"]({},a,j,{headline:f,paddingHorizontal:g});return i.jsx(c("CometEntityStickyHeader.react"),babelHelpers["extends"]({},e))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTabs.react",["fbt","CometComponentWithKeyCommands.react","CometDeferredPopoverTrigger.react","CometFocusGroup.react","CometKeys","CometTab.react","CometVisualCompletionAttributes","CurrentLocale","SVGIcon","TriangleDownFilled20.svg.react","focusScopeQueries","mergeRefs","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=c("requireDeferred")("CometTabMenu.react").__setRef("CometTabs.react"),p={heightGetter:{lineHeight:"soycq5t1",position:"l9j0dhe7"},heightSetter:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",visibility:"kr9hpln1"},moreTab:{height:"cb02d2ww",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},moreWrapper:{display:"q9uorilb",height:"cb02d2ww",position:"l9j0dhe7",verticalAlign:"j1lvzwm4"},moreWrapperAdaptive:{height:"r9glsfau",maxHeight:"gbic8f20",minHeight:"tgvbjcpo",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},root:{height:"cb02d2ww",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm",zIndex:"du4w35lb"},tab:{display:"pq6dq46d","float":"bzsjyuwj",height:"cb02d2ww",verticalAlign:"j1lvzwm4"},tabsContainer:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"}},q={"default":{width:"t4ae4g2e"},englishOrShorter:{width:"ae0w7mvl"}},r=["en_US","en_GB","nl_NL","vi_VN","af_ZA","fy_NL","kk_KZ","cs_CZ","sw_KE","it_IT","pt_BR","pt_PT","bg_BG","hr_HR","nn_NO","es_ES","es_LA","fr_FR","ca_ES","fr_CA","si_LK","sr_RS","nb_NO","sv_SE","zh_HK","zh_TW","he_IL","ne_NP","eo_EO"];function a(a){var b=a.heightXStyle,e=a.maxHeightXStyle,f=a.tabs,g=a.maxTabs,v=g===void 0?f.length:g,w=a.menuSize,x=a.moreTabRef,y=a.moreTabStyles,z=a.moreTabXStyle,A=a.moreWrapperXStyle,B=a.tabsContainerStyle;g=a.truncateMenu;var C=g===void 0?!1:g,D=a.onMoreTabPress,E=m(null),F=m([]),G=m(null);g=n(u(f.length,v));var H=g[0],I=g[1];k(function(){I(u(f.length,v))},[f.length,v]);var J=v<f.length?f.slice(0,v):f,K=v>=f.length,L=l(function(){return H.some(function(a){return(a=f[a])==null?void 0:a.selected})},[H,f]),M=j(function(a,f){a=c("mergeRefs")(a,G,x,function(a){(a==null?void 0:a.parentElement)!=null&&a.parentElement instanceof HTMLElement&&(a.parentElement.tabIndex=0)});var g=[{command:{key:c("CometKeys").DOWN},description:h._(/*FBT_CALL*/"Open Menu"/*FBT_CALL*/),handler:f}];return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:g,xstyle:[p.moreWrapper,q["default"],r.includes(c("CurrentLocale").get())&&q.englishOrShorter,b,K&&p.moreWrapperAdaptive,A,e],children:i.jsx(c("CometTab.react"),babelHelpers["extends"]({},y,{"aria-haspopup":"menu",icon:d("SVGIcon").svgIcon(c("TriangleDownFilled20.svg.react")),iconSize:16,label:h._(/*FBT_CALL*/"More"/*FBT_CALL*/),onPress:function(){f(),D&&D()},pressableXStyle:[p.moreTab,b],ref:a,role:"tab",selected:L,testid:void 0,xstyle:z}))})},[K,b,L,e,y,z,A,D]);return i.jsx(c("CometFocusGroup.react"),{hideArrowSignifiers:!0,orientation:"horizontal",preventScrollOnFocus:!0,role:"tablist",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:function(a){return i.jsx("div",babelHelpers["extends"]({className:c("stylex")(p.root,a,b),role:"tablist"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:i.jsxs("div",{className:c("stylex")(p.heightGetter),children:[K&&i.jsx("div",{className:c("stylex")(p.heightSetter),children:J.map(function(a,b){a.linkProps;a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["linkProps","onPress"]);return i.createElement(c("CometTab.react"),babelHelpers["extends"]({},a,{key:b+"tab",ref:function(a){return F.current[b]=a},role:"tab",selected:a.selected,xstyle:[p.tab,a.xstyle]}))})}),i.jsxs("div",{className:c("stylex")(p.tabsContainer,B),children:[i.jsx(c("CometDeferredPopoverTrigger.react"),{popoverProps:{menuItems:H.map(function(a){return f[a]}).filter(Boolean),menuSize:w,truncate:C},popoverResource:o,children:M}),J.map(function(a,b){return i.createElement(c("CometTab.react"),babelHelpers["extends"]({},a,{containerRef:E,key:b+"tab",onHidden:function(a){I(function(c){return a?s(c,b):t(c,b)})},pressableXStyle:p.tab,ref:function(a){return F.current[b]=a},role:"tab",selected:a.selected}))})]})]})}))}})}a.displayName=a.name+" [from "+f.id+"]";function s(a,b){return a.includes(b)?a:[].concat(a,[b]).sort(function(a,b){return a-b})}function t(a,b){return a.includes(b)?a.filter(function(a){return a!==b}):a}function u(a,b){return Array.from({length:a}).map(function(a,b){return b}).filter(function(a){return a>=b})}g["default"]=a}),98);
__d("CometEntityHeaderTabs.react",["CometTabs.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={entityHeaderTab:{height:"cb02d2ww",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"}};function a(a){var b=a.maxTabs,d=a.menuSize,e=a.onMoreTabPress;a=a.tabs;return h.jsx(c("CometTabs.react"),{maxTabs:b,menuSize:d,moreTabStyles:{overlayOffset:{bottom:-4,left:0,right:0,top:-4},overlayRadius:6,underlineColor:"var(--accent)"},moreTabXStyle:i.entityHeaderTab,onMoreTabPress:e,tabs:a.map(function(a){return babelHelpers["extends"]({},a,{overlayOffset:{bottom:-4,left:0,right:0,top:-4},overlayRadius:6,underlineColor:"var(--accent)",xstyle:i.entityHeaderTab})}),truncateMenu:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEntityHeaderTabBar.react",["CometEntityHeaderTabs.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.maxTabs,d=a.menuSize,e=a.tabs;a=a.tabsRouteTarget;var f=a===void 0?"self":a,g=e.findIndex(function(a){return a.isActive()});a=e.map(function(a,b){a.isActive;var c=a.linkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["isActive","linkProps"]);return c?babelHelpers["extends"]({},a,{linkProps:babelHelpers["extends"]({},c,{routeTarget:f}),selected:b===g}):babelHelpers["extends"]({},a,{selected:b===g})});return h.jsx(c("CometEntityHeaderTabs.react"),{maxTabs:b,menuSize:d,tabs:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useSearchCometResultsTypeaheadDialogTriggerClickHandler",["cometSearchEntityScopedTypeaheadDialogFallback","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a,b,d){var e=i(null);a=c("useCometEntryPointDialog")(a,{entityID:b},"button",c("cometSearchEntityScopedTypeaheadDialogFallback"));var f=a[0],g=a[1],j=a[2];a=a[3];var k=h(function(){f({entityID:b},function(){},"comet.search_scoped."+d)},[b,f,d]);return[k,e,g,j,a]}g["default"]=a}),98);
__d("CometEntityScopedTypeaheadDialogTrigger.react",["fbt","ix","TetraButton.react","fbicon","react","useSearchCometResultsTypeaheadDialogTriggerClickHandler"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.buttonProps,e=a.dialogEntryPoint,f=a.entityID;a=a.entityType;e=c("useSearchCometResultsTypeaheadDialogTriggerClickHandler")(e,f,a);f=e[0];a=e[1];var g=e[2],k=e[3];e=e[4];return j.jsx(c("TetraButton.react"),babelHelpers["extends"]({icon:d("fbicon")._(i("491282"),16),label:h._(/*FBT_CALL*/"Search"/*FBT_CALL*/),labelIsHidden:!0,onHoverIn:g,onHoverOut:k,onPress:f,onPressIn:e,ref:a,testid:void 0,type:"secondary"},b))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTextColorEntityRenderer",["CometTextColorEntityRenderer_entity.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");h!==void 0?h:h=b("CometTextColorEntityRenderer_entity.graphql");a=function(a,b){b=b.hex_rgb_color_with_pound_key;return b==null?a:i.jsx("span",{style:{color:b},children:a})};g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadSubscriptionDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.subscribe=function(a){return this.$2(a)};b.fetchNetwork=function(a,b){};b.publish=function(a){Array.from(this.$1).forEach(function(b){b(a)})};b.$2=function(a){var b=this;this.$1.add(a);return function(){b.$1["delete"](a)}};b.unsubscribe=function(){this.$1.clear()};return a}();f["default"]=a}),66);
__d("mwStaticSearchEntries",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{key:a,label:'Search messages for "'+a+'"',rawData:{displayName:'Search messages for "'+a+'"',id:a,imageUrl:"",isContact:!1,isE2e:!1,resultType:"messages",secondaryImageUrl:"",subtext:""}}}f.createMessageSearchEntry=a}),66);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["BaseTypeaheadSubscriptionDataSource","FBLogger","MWChatSearchIssueLightspeedQuery.re","MWLSSearchIssueSearchQuerySupportedTypes.re","Promise","cr:10864","cr:627","createMWChatSearchTypeaheadDataEntry","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","mwStaticSearchEntries","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=c("qex")._("962"))!=null?a:0,i=(e=c("qex")._("963"))!=null?e:0,j=(f=c("qex")._("73"))!=null?f:!1;a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var d,e=b.database,f=b.excludedIDs;f=f===void 0?[]:f;var g=b.lightspeedSupportedTypes;g=g===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:g;var h=b.source;h=h===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:h;var i=b.includeRecommendations;i=i===void 0?!0:i;b=b.includeThreadSearch;b=b===void 0?!1:b;d=a.call(this)||this;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=function(){};d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=f;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3=g;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4=h;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5=e;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7=i;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8=b;return d}var f=e.prototype;f.unsubscribe=function(){a.prototype.unsubscribe.call(this),this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6()};f.fetchNetwork=function(a,d){var e=this;this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6();if(a.query.length===0&&!this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7)return this.publish({entries:[],params:a});d(!0);if(a.query.length===0){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestRecommendations(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,b),d(!1)});return}var f=[],g=[],k=!1;c("promiseDone")(b("Promise").all([b("cr:10864")!=null?b("cr:10864").fetchResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a):b("Promise").resolve([]),b("cr:627")!=null&&(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4!==c("MWChatSearchIssueLightspeedQuery.re").Surfaces.broadcast||j)?b("cr:627").search(a.query):b("Promise").resolve([])]).then(function(b){var c=b[0];b=b[1];b=h<=0?b:b.slice(0,h);c=i<=0?c:c.slice(0,i);f=b.concat(c);k||e.onData(a,f.concat(g))})["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}));var l=c("MWChatSearchIssueLightspeedQuery.re").requestResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){g=b,e.onData(a,f.concat(g)),d(!1)});this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=function(){d(!1),l(),k=!0}};f.onData=function(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b);var e=[],f=new Set();for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=b.length)break;i=b[h++]}else{h=b.next();if(h.done)break;i=h.value}i=i;f.has(i.key)||(e.push(i),f.add(i.key))}i={entries:e,params:a};h=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1);g=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2);b=c("mwChatSearchPayloadEnumerate")(g(h(i)));this.publish(b)};f.setExcludedIds=function(a){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=a};f.setTokens=function(a){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=a};return e}(c("BaseTypeaheadSubscriptionDataSource"));g["default"]=a}),98);
__d("bs_belt_SortArray",["bs_belt_Array","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){while(!0){var f=c,g=b;if(f>=d)return f;var h=a[f];if(!e(h,g))return f;c=f+1|0;b=h;continue}}function h(a,b){var c=a.length;if(c===0||c===1)return c;var d=a[0],e=a[1];if(b(d,e)){var f=e,h=2;while(!0){var i=h,j=f;if(i>=c)return i;var k=a[i];if(!b(j,k))return i;h=i+1|0;f=k;continue}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){var c=a.length;if(c===0)return!0;else{var d=0;c=c-1|0;while(!0){var e=d;if(e===c)return!0;if(b(a[e],a[e+1|0])>0)return!1;d=e+1|0;continue}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p>=d)return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0);i=m+1|0;c=a[p];k=p;continue}h[m]=n;p=o+1|0;if(p>=g)return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0);i=m+1|0;f=e[p];l=p;continue}}function k(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(!(s<d&&t<g))if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}i=r;f=e[t];l=t;c=a[s];k=s;continue}h[m]=n;p=o+1|0;r=m+1|0;if(p<g){i=r;f=e[p];l=p;continue}b("bs_belt_Array").blitUnsafe(a,q,h,r,d-q|0);return(r+d|0)-q|0}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q>=c)return l;b=a[q];j=q;continue}if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(!(q<c&&m<f))return o;h=o;e=d[m];k=m;b=a[q];j=q;continue}p=n+1|0;if(p>=f)return l;e=d[p];k=p;continue}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r>=d)return p;i=p;c=a[r];k=r;continue}if(n===0){p=q+1|0;r=o+1|0;if(!(p<d&&r<g))if(p===d)return m;else{b("bs_belt_Array").blitUnsafe(a,p,h,m,d-p|0);return(m+d|0)-p|0}f=e[r];l=r;c=a[p];k=p;continue}n=o+1|0;if(n<g){f=e[n];l=n;continue}b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0;g<e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}function q(a,b){var c=a.length;if(c<=5)return o(a,0,a,0,c,b);var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){var d=a.length;if(d===0)return-1;var e=a[0];e=c(b,e);if(e<0)return-1;e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=0;d=d-1|0;while(!0){var f=d,g=e,h=(g+f|0)/2|0,i=a[h];i=c(b,i);if(i===0)return h;if(i<0){if(f===h)if(c(a[g],b)===0)return g;else return-(f+1|0)|0;d=h;continue}if(g===h)if(c(a[f],b)===0)return f;else return-(f+1|0)|0;e=h;continue}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w,x;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("MWPSearchOfflineOpenConversations.re",["MWPSearchOfflineOpenConversations.bs","bs_curry"],(function(a,b,c,d,e,f){a=b("MWPSearchOfflineOpenConversations.bs").search;f.search=a;c=function(a,c){a=b("bs_curry")._2(b("MWPSearchOfflineOpenConversations.bs").fetchRankingScoresKP,a,c);return a};f.fetchRankingScoresKP=c}),null);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=a.dataSource;a=i(!1);var c=a[0],d=a[1];a=h(function(a){a=a.requestParams;b.fetchNetwork(a,d)},[b]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,k]);i(function(){var a=e.subscribe(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)});return a},[e,o]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=j(null),d=b[0],e=b[1];b=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,d);b=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]),g=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]),k=a.dataSource;i(function(){return function(){k.unsubscribe()}},[k]);return[{isLoading:b,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,g]}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.autoFocus;b=b===void 0?!1:b;var d=a.isDisabled;d=d===void 0?!1:d;var e=a.errorMessage;e=e===void 0?null:e;var f=a.inputStrategyRenderer,g=a.dataSource,k=a.dataSourceFetchConfigParams,l=a.decorators,m=l===void 0?[]:l;l=a.emptyEntries_DO_NOT_USE;var n=a.id,o=a.label;o=o===void 0?"":o;var p=a.loggingContext,q=a.onBackspace;q=q===void 0?c("emptyFunction"):q;var r=a.onBlur;r=r===void 0?c("emptyFunction"):r;var s=a.onChange,t=a.onClose,u=a.onEnter;u=u===void 0?c("emptyFunction"):u;var v=a.onEscape;v=v===void 0?c("emptyFunction"):v;var w=a.onFetchEntries_DO_NOT_USE,x=a.onFocus;x=x===void 0?c("emptyFunction"):x;var y=a.onOpen,z=a.onPressEntry,A=a.placeholder;A=A===void 0?"":A;var B=a.shouldQueryStringFollowHighlightedEntry,C=B===void 0?!0:B;B=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var D=B===void 0?!0:B;B=a.testid;B=B===void 0?"":B;B=a.traceProvider;var E=a.inputRef,F=a.viewRole;F=F===void 0?"listbox":F;var G=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]);var H=c("useCometUniqueID")(),I=j(function(){var a=c("CometInternalTypeahead.react");m.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[m]),J=i(function(a){D&&s(a.label),z&&z(a)},[s,z,D]),K=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(f,{shouldQueryStringFollowHighlightedEntry:C})},[f,C]);o=o||A;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:l,onClose:t,onOpen:y,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:g,dataSourceFetchConfigParams:k,loggingContext:p,onFetchEntries_DO_NOT_USE:w,traceProvider:B,children:h.jsx(I,babelHelpers["extends"]({},a,{autoFocus:b,errorMessage:e,id:(l=n)!=null?l:H,inputRef:E,inputStrategyRenderer:K,isDisabled:d,label:o,onBackspace:q,onBlur:r,onChange:s,onDownArrow:c("emptyFunction"),onEnter:u,onEscape:v,onFocus:x,onHighlightEntry:c("emptyFunction"),onPressEntry:J,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:A,testid:void 0,viewRole:F,viewStrategyRenderer:G}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32([0,22])),b.i64.and_(c[0],[0,4194303])),[2147483647,4294967295]),b.resolve(d)}e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,b.primarySortKey,b.secondarySortKey==null?[-1,4294967295]:b.secondarySortKey],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]},{lt:a[1]}],[a[0],c[7],{lt:a[1]}],[a[0],{gt:c[7]},{gt:a[1]}],[a[0],c[7],{gt:a[1]}]],"threadKeyPrimarySortKeyMessageId"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["secondarySortKey","ASC"],["timestampMs","ASC"]],["primarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]},{lt:a[1]}],[a[0],c[7],{lt:a[1]}],[a[0],{lt:c[7]},{gt:a[1]}],[a[0],c[7],{gt:a[1]}]],"threadKeyPrimarySortKeyMessageId"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["secondarySortKey","DESC"],["timestampMs","DESC"]],["primarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d)})},function(d){return c[32]=b.i64.or_([0,2],b.i64.or_(!c[3]&&!a[3]?[0,4]:[0,0],b.i64.or_(c[3]?[0,0]:[0,1],b.i64.or_(b.i64.eq(c[5],[0,60])||b.i64.eq(c[5],[0,80])?[0,1048576]:[0,0],b.i64.neq(c[6],[85970,924785702])&&b.i64.neq(c[6],[85970,1004785694])&&b.i64.neq(c[6],[85970,1044785690])?[0,0]:[0,2097152])))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[12],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[32],[0,16]):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[30],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[22],[0,16]):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetViewerFBID","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[7]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[0]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[0]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?d[9]=[-1,4294967295]:(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],[0,1]),d[13]=c.i64.gt(d[7],d[11])?d[7]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,[0,40])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:[0,0],threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:[0,0],authorityLevel:[0,40]})},function(b){return c.i64.eq(a[2],[0,13])||c.i64.eq(a[2],[0,7])||c.i64.eq(a[2],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?(d[16]=c.localizeV2([0,2285622730],f),d[17]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[16],d[17])):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"threadKeyPrimarySortKeyMessageId"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,[0,80])||c.i64.eq(b.authorityLevel,[0,60])||c.i64.eq(b.authorityLevel,[0,40]))}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.of_float(Date.now()):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],[0,1])||c.i64.eq(a[10],[0,1]))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,[0,0],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],[0,4]],d[55]=e[0],d[56]=e[1],e):(e=[f,f],d[55]=e[0],d[56]=e[1],e),e=[d[55],d[56]],d[50]=e[0],d[51]=e[1],e,c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[56]=a[0],a})},function(b){return c.i64.eq(a[0],d[56])?c.seq([function(b){return c.i64.eq(d[54],d[56])?c.resolve((d[59]=c.localizeV2([0,4002265907],f),d[58]=d[59])):c.seq([function(b){return c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[54]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[54])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[62]=f:(c=b.item,d[62]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[54]]]]),function(a){return c.i64.eq(a.id,d[54])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[66]=c.localizeV2([0,14617150],f),d[64]=d[66]):(e=b.item,d[64]=e.firstName==null?e.name:e.firstName)})},function(a){return d[59]=d[62]==null?d[64]:d[62]}])},function(a){return d[60]=c.createArray(),d[62]=(d[60].push(d[59]),d[60]),d[61]=c.localizeV2([0,2663996736],d[60]),d[58]=d[61]}])},function(a){return d[57]=d[58]}]):c.seq([function(b){return c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[60]=f:(c=b.item,d[60]=c.nickname)})},function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[64]=c.localizeV2([0,14617150],f),d[62]=d[64]):(e=b.item,d[62]=e.firstName==null?e.name:e.firstName)})},function(a){return d[58]=d[60]==null?d[62]:d[60]}])},function(b){return c.i64.eq(d[54],d[56])?c.resolve((d[60]=c.createArray(),d[62]=(d[60].push(d[58]),d[60]),d[61]=c.localizeV2([0,2868699317],d[60]),d[59]=d[61])):c.seq([function(b){return c.i64.eq(a[0],d[54])?c.resolve((d[61]=c.createArray(),d[63]=(d[61].push(d[58]),d[61]),d[62]=c.localizeV2([0,2688620547],d[61]),d[60]=d[62])):c.seq([function(b){return c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[54]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[54])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[64]=f:(c=b.item,d[64]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[54]]]]),function(a){return c.i64.eq(a.id,d[54])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[68]=c.localizeV2([0,14617150],f),d[66]=d[68]):(e=b.item,d[66]=e.firstName==null?e.name:e.firstName)})},function(a){return d[61]=d[64]==null?d[66]:d[64]}])},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[58]),d[62]),d[64]=(d[62].push(d[61]),d[62]),d[63]=c.localizeV2([0,3544071775],d[62]),d[60]=d[63]}])},function(a){return d[59]=d[60]}])},function(a){return d[57]=d[59]}])},function(a){return d[55]=d[57]}])},function(b){return d[52]=c.i64.eq(a[10],[0,1])?d[55]:""}])},function(b){return b=[a[8],a[9],a[10],[0,1],d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,h.replyType],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],[0,0])||c.i64.eq(a[10],[0,0])?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],[0,1],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=[0,3]:d[32]=d[13],c.i64.eq([0,20],[0,20])?c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[9],secondarySortKey:d[7],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[7],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[0]]],"optimistic"]),function(a){return a.offlineThreadingId===d[0]&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[1]=c.createArray(),d[2]=(d[1].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[1]),d[3]=(d[1].push("localApplyOptimisticMessage"),d[1]),d[4]=(d[1].push(a[1]),d[1]),d[5]=(d[1].push(d[0]),d[1]),d[6]=c.toJSON(d[1]),function(a){c.logger(a).info(a)}(d[6]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[0],d[7],c.i64.eq(a[2],[0,1]))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[7],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[0],d[7]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LsFalcoEventEntryPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),null);
__d("MWChatMessageId.bs",["bs_caml_format","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="number"||a.TAG===0)return;else return a._0.messageId}function c(a){if(typeof a==="number"||a.TAG===0)return;else return a._0.threadId}function d(a){if(typeof a==="number"||a.TAG===0)return;else return a._0.timestamp}function e(a,c,d){return{TAG:1,_0:{threadId:b("bs_caml_format").caml_int64_of_string(a),messageId:c,timestamp:b("bs_caml_format").caml_int64_of_string(d)}}}function g(a){return{TAG:1,_0:{threadId:b("bs_caml_int64").zero,messageId:a,timestamp:b("bs_caml_int64").zero}}}var h={TAG:1,_0:{threadId:b("bs_caml_int64").zero,messageId:"",timestamp:b("bs_caml_int64").zero}};f.getMessageId=a;f.getThreadId=c;f.getTimestamp=d;f.makeSent=e;f.emptyForExamples=h;f.emptyForExamplesWithId=g}),null);
__d("MWChatMessageId.re",["MWChatMessageId.bs","bs_curry"],(function(a,b,c,d,e,f){a=b("MWChatMessageId.bs").getMessageId;f.getMessageId=a;c=b("MWChatMessageId.bs").getThreadId;f.getThreadId=c;d=b("MWChatMessageId.bs").getTimestamp;f.getTimestamp=d;e=function(a,c,d){a=b("bs_curry")._3(b("MWChatMessageId.bs").makeSent,a,c,d);return a};f.makeSent=e}),null);
__d("MWChatForwardDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4573067919468829"}),null);